<ion-view class="OSIcountCSS">
	<ion-nav-title>巡查统计</ion-nav-title>
	<ion-tabs class="tabs-positive tabs-icon-only tabs-top mortgagetab">
		<ion-tab title="个人" on-select="changeTabType('personal');">
			<ion-content has-bouncing="false" scrollbar-y="false">
				<div class="title">
					<span>
						<button class="leftSelect" ng-click="changeDateTime('personalStart', -1, null, date.personalEnd);"></button>
						{{date.personalStart}}
						<button class="rightSelect" ng-click="changeDateTime('personalStart', 1, null, date.personalEnd);"></button>
					</span>
					<span>
						<button class="leftSelect" ng-click="changeDateTime('personalEnd', -1, date.personalStart, date.now);"></button>
						{{date.personalEnd}}
						<button class="rightSelect" ng-click="changeDateTime('personalEnd', 1, date.personalStart, date.now);"></button>
					</span>
				</div>
				<div class="list">
					<div class="card" ng-repeat="item in tabs['personal'].list">
						<span>{{item.PERSON_NAME}}</span>
						<span ng-click="openPersonnelEquipment(item);">{{item.PLAN_INSPECTED}}/{{item.PLAN_INSPECT}}/{{item.OUT_PLAN_INSPECTED}}</span>
						<span ng-click="openRecord(item);">{{item.percentage}}%</span>
					</div>
				</div>
				<ion-infinite-scroll ng-if="tabs['personal'].hasMore" on-infinite="getInspectStatisticalData();" distance="10%" immediate-check="false"></ion-infinite-scroll>
			</ion-content>
		</ion-tab>
		<ion-tab title="部门" on-select="changeTabType('department');">
			<ion-content has-bouncing="false" scrollbar-y="false">
				<div class="title">
					<span>
						<button class="leftSelect" ng-click="changeDateTime('departmentStart', -1, null, date.departmentEnd);"></button>
						{{date.departmentStart}}
						<button class="rightSelect" ng-click="changeDateTime('departmentStart', 1, null, date.departmentEnd);"></button>
					</span>
					<span>
						<button class="leftSelect" ng-click="changeDateTime('departmentEnd', -1, date.departmentStart, date.now);"></button>
						{{date.departmentEnd}}
						<button class="rightSelect" ng-click="changeDateTime('departmentEnd', 1, date.departmentStart, date.now);"></button>
					</span>
				</div>
				<div class="list">
					<div class="card" ng-repeat="item in tabs['department'].list">
						<span ng-click="openDepartmentPersonnel(item);">{{item.ORG_NAME}}</span>
						<span ng-click="openDepartmentEquipment(item);">{{item.PLAN_INSPECTED}}/{{item.PLAN_INSPECT}}/{{item.OUT_PLAN_INSPECTED}}</span>
						<span>{{item.percentage}}%</span>
					</div>
					<ion-infinite-scroll ng-if="tabs['department'].hasMore" on-infinite="getInspectStatisticalData();" distance="10%" immediate-check="false"></ion-infinite-scroll>
				</div>
			</ion-content>
		</ion-tab>
	</ion-tabs>
</ion-view>