{"version":3,"sources":["mrframework/mrDirectives.js","mrframework/mrframework.js","app/app.config.js","app/app.js","app/app.mock.js","mrframework/directives/goback.js","mrframework/directives/navbar.js","mrframework/directives/rem.js","app/Agents/Agents.js","app/Agents/Agents.mock.js","app/Agents/AgentsA.js","app/AllLeave/Leaves.js","app/AllLeave/Leaves.mock.js","app/AllLeave/LeavesA.js","app/attence/attence.js","app/attence/attenceA.js","app/bulletinBoard/boardA.js","app/bulletinBoard/bulletinBoard.js","app/common/common.js","app/common/cordova.js","app/common/dateFilter.js","app/common/eCharts.js","app/common/httpBaseUrlSupport.js","app/common/httpMockBaseUrlSupport.js","app/common/httpTransform.js","app/common/loadingAnimation.js","app/common/login.js","app/common/md5.js","app/common/mocksdata.js","app/common/pageInit.js","app/common/saveData.js","app/common/savePopShowFrist.js","app/common/saveType.js","app/common/saveVersion.js","app/common/showAlert.js","app/erp/erp.js","app/facilityInfo/facilityInfo.js","app/facilityInfo/facilityInfoA.js","app/companyNewsDetails/companyNewsDetails.js","app/KPI/KPI.js","app/KPI/KPI.mock.js","app/KPI/KPIs.js","app/News/News.js","app/load/load.js","app/load/loadA.js","app/OffLine/OffLine.js","app/OffLine/OffLineA.js","app/OSI/OSI.js","app/OSI/OSIA.js","app/power/power.js","app/power/power.mock.js","app/power/powerA.js","app/tabs/home.js","app/Problems/Problems.js","app/Problems/Problems.mock.js","app/Problems/ProblemsA.js","app/taskManage/taskManage.js","app/taskManage/taskManageA.js","app/userConfig/userConfig.js","app/userServers/userServers.js","app/Agents/AgentsList/AgentsList.js","app/attence/attenceCdDetail/attenceCdDetail.js","app/attence/attenceWdDetail/attenceWdDetail.js","app/attence/attenceZtDetail/attenceZtDetail.js","app/attence/attenZcDetail/attenZcDetail.js","app/attence/countAttence/countAttence.js","app/attence/countAttence/countAttenceA.js","app/attence/fillCause/fillCause.js","app/attence/leaveEarlyDetail/leaveEarlyDetail.js","app/attence/myAttence/myAttence.js","app/bulletinBoard/edit/edit.js","app/bulletinBoard/view/boardView.js","app/erp/details/details.js","app/erp/my/my.js","app/facilityInfo/facilityInfoScan/facilityInfoScan.js","app/facilityInfo/InspectionRecord/InspectionRecord.js","app/facilityInfo/InspectionRecordDetail/InspectionRecordDetail.js","app/KPI/KPIdetail/KPIdetail.js","app/load/historyInfo/historyInfo.js","app/load/nearlyHour/nearlyHour.js","app/OffLine/OffLineLook/OffLineLook.js","app/OffLine/OffLineDetail/OffLineDetail.js","app/pm/defectFill/defectFillA.js","app/pm/journal/journalA.js","app/pm/trouble/troubleA.js","app/OSI/OSIArear/OSIArear.js","app/OSI/OSIHistory/OSIHistory.js","app/OSI/OSIcount/OSIcount.js","app/OSI/OSIHistoryDetail/OSIHistoryDetail.js","app/OSI/OSILine/OSILine.js","app/power/pdDay/pdDay.js","app/power/pdMounth/pdMounth.js","app/power/pdYear/pdYear.js","app/tabs/companyAddressBook/companyAddressBook.js","app/tabs/companyAddressBook/companyAddressBooks.js","app/tabs/homePage/homePage.js","app/tabs/homePage/homePage.mock.js","app/tabs/message/message.js","app/tabs/message/message.mock.js","app/tabs/mine/mine.js","app/tabs/mine/mine.mock.js","app/tabs/OMA/OMA.js","app/tabs/porductManage/porductManage.js","app/Problems/NewProblems/newProblems.js","app/Problems/NewProblems/newProblems.mock.js","app/Problems/ProblemSolving/ProblemsSolving.js","app/Problems/ProblemSolving/ProblemsSolving.mock.js","app/taskManage/tmDetail/tmDetail.js","app/userConfig/editingPwd/editingPwd.js","app/userConfig/editingPwd/editingPwd.mock.js","app/userConfig/editingUserInfo/editingUserInfo.js","app/userConfig/editingUserInfo/editingUserInfo.mock.js","app/userConfig/myDevice/myDevice.js","app/userServers/blankPage/blankPage.js","app/userServers/login/login.js","app/userServers/login/login.mock.js","app/Agents/AgentsList/operatingHistory/historyList.js","app/Agents/AgentsList/agentsView/agentsView.js","app/Agents/AgentsList/agentsView/agentsView.mock.js","app/AllLeave/Leave/leavesDetail/LeavesDetail.js","app/AllLeave/Leave/leavesDetail/LeavesDetail.mock.js","app/AllLeave/Leave/LeavesList/LeavesList.js","app/AllLeave/Leave/LeavesList/LeavesList.mock.js","app/AllLeave/Vacation/newVacation/newVacation.js","app/AllLeave/Vacation/newVacation/newVacation.mock.js","app/AllLeave/Leave/newLeaves/newLeaves.js","app/AllLeave/Leave/newLeaves/newLeaves.mock.js","app/AllLeave/Vacation/VacationDetail/VacationDetail.js","app/AllLeave/Vacation/VacationDetail/VacationDetail.mock.js","app/AllLeave/Vacation/VacationList/VacationList.js","app/AllLeave/Vacation/VacationList/VacationList.mock.js","app/attence/countAttence/cdDetail/cdDetail.js","app/attence/countAttence/cdList/cdList.js","app/attence/countAttence/wdkDetail/wdkDetail.js","app/attence/countAttence/wdkList/wdkList.js","app/attence/countAttence/zcList/zcList.js","app/attence/countAttence/ztDetail/ztDetail.js","app/attence/countAttence/ztList/ztList.js","app/erp/select/user/user.js","app/pm/defectFill/adddefectFill/adddefectFill.js","app/pm/defectFill/defectFill/defectFill.js","app/pm/defectFill/defectFillDetail/defectFillDetail.js","app/pm/journal/journalDetail/journalDetail.js","app/pm/journal/journalDetailList/journalDetailList.js","app/pm/journal/journalList/journalList.js","app/pm/trouble/addTrouble/addTrouble.js","app/pm/trouble/troubleDetail/troubleDetail.js","app/pm/trouble/hideTrouble/hideTrouble.js","app/OSI/OSIcount/OSIDepartmentEquipmentPersonnel/OSIDepartmentEquipmentPersonnel.js","app/OSI/OSIcount/OSIDepartmentEquipment/OSIDepartmentEquipment.js","app/OSI/OSIcount/OSIDepartmentPersonnel/OSIDepartmentPersonnel.js","app/tabs/companyAddressBook/employeeAddress/employeeAddress.js","app/OSI/OSIcount/OSIPersonnelEquipment/OSIPersonnelEquipment.js","app/tabs/message/groupDetail/groupDetail.js","app/tabs/message/groupInfo/groupInfo.js","app/tabs/message/messageDetail/messageDetail.js","app/tabs/message/messageDetail/messageDetail.mock.js","app/tabs/message/othersInfo/othersInfo.js","app/tabs/message/myInfo/myInfo.js","app/tabs/mine/APPfeedback/APPfeedback.js","app/tabs/mine/netWork/netWork.js","app/tabs/mine/netWork/netWork.mock.js","app/tabs/mine/ListOfBluetooth/ListOfBluetooth.js","app/Problems/ProblemSolving/Tracking/Tracking.js","app/Problems/ProblemSolving/Tracking/Tracking.mock.js","app/Agents/AgentsList/operatingHistory/historyDetails/historyDetail.js","app/Agents/AgentsList/agentsView/Flow/flowDetail.js","app/tabs/companyAddressBook/employeeAddress/addressDetail/addressDetail.js","app/tabs/companyAddressBook/employeeAddress/addressDetail/addressDetail.mock.js","app/tabs/mine/ListOfBluetooth/editBluetooth/editBluetooth.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtaA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7dA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrlCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9MA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3UA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5oBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3PA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9eA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaiYin.js","sourcesContent":["angular.module('maxrocky.framework.directives',[\n\t'maxrocky.framework.directives.rem',\n\t'maxrocky.framework.directives.navBar',\n\t'maxrocky.framework.directives.goback'\n])","angular.module('maxrocky.framework',[\n\t'maxrocky.framework.directives'\n\t// 'maxrocky.framework.swiper',\n\t// 'maxrocky.framework.iscroll'\n])\n\n","angular.module('BaiYin.app.config', [\n    'ionic'\n])\n\n/*\n *  正式\n */\n//外网\n/*.constant('outerNetUri', 'http://61.178.91.96:57001/AppSerivce/json?')\n\n//内网s\n.constant('intranetUri', 'http://10.0.12.80:57001/AppSerivce/json?')*/\n\n/*\n *  测试\n */\n//外网\n//.constant('outerNetUri', 'http://124.152.7.69:57001/AppSerivce/json?')\n.constant('outerNetUri', 'http://192.168.1.117:81/AppSerivce/json?')\n//\n//内网\n//.constant('intranetUri', 'http://10.0.12.73:57001/AppSerivce/json?')\n.constant('intranetUri', 'http://192.168.1.117:81/AppSerivce/json?')\n\n.constant('AppDefaultRootUrl', '/blankPage')\n\n.constant('HTTP_COMMON_ERROR_MESSAGE_INTRANET', '网络异常(内网)!')\n\n.constant('HTTP_COMMON_ERROR_MESSAGE_OUTERNET', '网络异常(外网)!')\n\n//configs\n.config(['$ionicConfigProvider', '$provide', '$httpProvider', '$urlRouterProvider', 'AppDefaultRootUrl', '$locationProvider',\n    function($ionicConfigProvider, $provide, $httpProvider, $urlRouterProvider, AppDefaultRootUrl, $locationProvider) {\n        $ionicConfigProvider.tabs.style('standard');\n        $ionicConfigProvider.tabs.position('bottom');\n        $ionicConfigProvider.navBar.alignTitle('center');\n        $ionicConfigProvider.navBar.positionPrimaryButtons('left')\n        $ionicConfigProvider.backButton.text('');\n        $ionicConfigProvider.backButton.icon('backBtn');\n        $ionicConfigProvider.scrolling.jsScrolling(true);\n        //防止ios滑跑\n        $ionicConfigProvider.views.swipeBackEnabled(false);\n        $httpProvider.defaults.timeout = 500;\n\n        $provide.decorator('ngClickDirective', ['$delegate', '$timeout', function($delegate, $timeout) {\n            var original = $delegate[0].compile;\n            var delay = 100;\n            $delegate[0].compile = function(element, attrs, transclude) {\n\n                var disabled = false;\n\n                function onClick(evt) {\n                    if (disabled) {\n                        evt.preventDefault();\n                        evt.stopImmediatePropagation();\n                    } else {\n                        disabled = true;\n                        $timeout(function() { disabled = false; }, delay, false);\n                    }\n                }\n                element.on('click', onClick);\n\n                return original(element, attrs, transclude);\n            };\n            return $delegate;\n        }]);\n\n        /**\n         * 重定向\n         */\n        $urlRouterProvider.otherwise(AppDefaultRootUrl);\n\n        /**\n         * [enabled description]\n         * @type {Boolean}\n         * 开启html5的history api\n         */\n\n        $locationProvider.html5Mode({\n            enabled: true,\n            requireBase: false\n        });\n    }\n]);\n","angular.module('BaiYin.app', [\n    'ionic',\n    'maxrocky.framework',\n    'BaiYin.common',\n    'BaiYin.app.config',\n    'BaiYin.templates',\n    'BaiYin.home',\n    'BaiYin.login',\n    'BaiYin.app.mock',\n    'BaiYin.userServers',\n    'BaiYin.KPIs',\n    'BaiYin.News',\n    'BaiYin.boardA',\n    'BaiYin.attenceA',\n    'BaiYin.OSIA',\n    'BaiYin.OffLineA',\n    'BaiYin.taskManageA',\n    'BaiYin.facilityInfoA',\n    'BaiYin.pm.troubleA',\n    'BaiYin.pm.defectFillA',\n    'BaiYin.pm.journalA',\n    'BaiYin.powerA',\n    'BaiYin.loadA',\n    'BaiYin.AgentsA',\n    'BaiYin.userConfig',\n    'BaiYin.companyNewsDetails',\n    'BaiYin.ProblemsA',\n    'BaiYin.LeavesA',\n    'BaiYin.erp'\n])\n    .run(['$rootScope', 'CurrentUserService', '$ionicPlatform', '$ionicPopup', '$location', '$ionicHistory', '$ionicLoading', 'Session', '$http', 'SavePopShowFristService',\n        function ($rootScope, CurrentUserService, $ionicPlatform, $ionicPopup, $location, $ionicHistory, $ionicLoading, Session, $http, SavePopShowFristService) {\n            $ionicPlatform.ready(function () {\n                if (window.cordova && window.cordova.plugins.Keyboard) {\n                    window.cordova.plugins.Keyboard.hideKeyboardAccessoryBar(false);\n                    if ($ionicPlatform.isIOS()) {\n                        window.cordova.plugins.Keyboard.disableScroll(true);\n                    }\n                }\n            });\n                $rootScope.$on('$stateChangeStart', function (evt, toState, toParams, fromState, fromParams) {\n                    CurrentUserService.usrAuth(evt, toState, toParams, fromState, fromParams);\n                });\n                $rootScope.$on('tokenBug', function (event, mass) {\n                    CurrentUserService.tokenBug(event, mass);\n                });\n\n                $rootScope.$on('noData', function (event, msg) {\n                    CurrentUserService.noDataInfo(event, msg);\n                })\n\n                //主页面显示退出提示框\n                $ionicPlatform.registerBackButtonAction(function (e) {\n                    e.preventDefault();\n\n                    function showConfirm() {\n                        $ionicLoading.hide();\n                        var confirmPopup = $ionicPopup.confirm({\n                            title: '<strong>退出应用?</strong>',\n                            template: '你确定要退出应用吗?',\n                            okText: '退出',\n                            cancelText: '取消'\n                        });\n\n                        confirmPopup.then(function (res) {\n                            if (res) {\n                                if (Session.userInfoData && Session.userInfoData.LoginStatus == '1') {\n                                    $http.get('ServiceName=UserService&TransName=logout').then(function (res) {\n                                        $ionicHistory.clearHistory();\n                                        $ionicHistory.clearCache().then(function () {\n                                            $ionicHistory.nextViewOptions({\n                                                disableAnimate: true,\n                                                disableBack: true,\n                                                historyRoot: true\n                                            });\n                                            token = null;\n                                            var user = null;\n                                            CurrentUserService.updateSession(res.data, user);\n                                            SavePopShowFristService.setPopShowBlr(false);\n                                            if (isApp) {\n                                                window.JMessage.logout(function (response) {\n                                                    console.log(\"退出成功\");\n                                                    ionic.Platform.exitApp();\n                                                }, function (response) {\n                                                    console.log(response);\n                                                    ionic.Platform.exitApp();\n                                                });\n                                            }\n                                        });\n                                    }, function (err) {\n                                        showAlertOut('', '退出失败,请检查网络后重试', '确认');\n                                    });\n                                } else {\n                                    CurrentUserService.destroyUserSession();\n                                    token = null;\n                                    ionic.Platform.exitApp();\n                                }\n                            } else {\n                                // Don't close\n                            }\n                        });\n                    }\n\n                    // Is there a page to go back to?\n                    if ($location.path() == '/blankPage' || $location.path() == '/tabs/homePage' || $location.path() == '/tabs/companyAddressBook' || $location.path() == '/tabs/message' || $location.path() == '/tabs/mine' || $location.path() == '/tabs/porductManage') {\n                        showConfirm();\n                    } else {\n                        $ionicHistory.goBack();\n                    }\n                    return false;\n                }, 400);\n\n                var showAlertOut = function (title, template, okText) {\n                    var alertPopup = $ionicPopup.alert({\n                        title: title,\n                        okText: okText,\n                        template: template\n                    });\n                    alertPopup.then(function (res) {\n                    });\n                };\n            }\n        ])\n\n        .\n            controller('AppController', ['$scope', '$ionicPopup', '$ionicHistory', '$http', '$ionicPopup', '$state',\n                function ($scope, $ionicPopup, $ionicHistory, $http, $ionicPopup, $state) {\n                    $scope.myGoBack = function () {\n                        $ionicHistory.goBack();\n                    }\n\n                    var onOpenNotification = function (event) {\n                        try {\n                            var alertContent;\n                            if (device.platform == \"Android\") {\n                                alertContent = event.alert;\n                            } else {\n                                alertContent = event.aps.alert;\n                                window.plugins.jPushPlugin.setApplicationIconBadgeNumber(0);\n                            }\n                            showAlert('', alertContent, '确认');\n                        } catch (exception) {\n                            console.log(\"JPushPlugin:onOpenNotification\" + exception);\n                        }\n                    };\n\n                    //iOS处于前台收到消息\n                    var onReceiveNotification = function (event) {\n                        if (device.platform != \"Android\") {\n                            var alertContent\n                            alertContent = event.aps.alert\n                            showAlert('', alertContent, '确认');\n                            window.plugins.jPushPlugin.setApplicationIconBadgeNumber(0);\n                        }\n                    }\n\n                    var initiateUI = function () {\n                        try {\n                            window.JPush.init();\n                            //未登录停止推送\n                            window.plugins.jPushPlugin.stopPush();\n                            if (device.platform != \"Android\") {\n                                window.plugins.jPushPlugin.setDebugModeFromIos();\n                                window.plugins.jPushPlugin.setApplicationIconBadgeNumber(0);\n                            } else {\n                                window.plugins.jPushPlugin.setDebugMode(true);\n                                window.plugins.jPushPlugin.setStatisticsOpen(true);\n                            }\n                        } catch (exception) {\n                            console.log(exception);\n                        }\n                    };\n\n                    document.addEventListener('jmessage.onOpenMessage', function (msg) {\n                        $state.go('tabs/message');\n                    }, false);\n\n                    //初始化监听\n                    document.addEventListener(\"deviceready\", initiateUI, false);\n\n                    //通知监听\n                    document.addEventListener(\"jpush.openNotification\", onOpenNotification, false);\n\n                    //应用程序处于前台时收到推送会触发该事件\n                    document.addEventListener(\"jpush.receiveNotification\", onReceiveNotification, false);\n\n                    //监听收到好友请求\n                    document.addEventListener('jmessage.onInviteReceived', function (msg) {\n                        if (!msg.reason || msg.reason == 'null') {\n                            showConfirm(msg.fromUsername + ' 请求加您为好友,描述信息为: 空', '同意', '拒绝', msg.fromUsername);\n                        } else {\n                            showConfirm(msg.fromUsername + ' 请求加您为好友,描述信息为: ' + msg.reason, '同意', '拒绝', msg.fromUsername);\n                        }\n                    }, false);\n\n                    //当前用户发送的好友请求被接受\n                    document.addEventListener('jmessage.onInviteAccepted', function (msg) {\n                        showAlert('', msg.fromUsername + ' 已接受您的请求', '确认');\n                    }, false);\n\n                    //当前用户发送的好友请求被拒绝\n                    document.addEventListener('jmessage.onInviteDeclined', function (msg) {\n                        showAlert('', msg.fromUsername + ' 已拒绝您的请求', '确认');\n                    }, false);\n\n\n                    var showAlert = function (title, template, okText) {\n                        var alertPopup = $ionicPopup.alert({\n                            title: title,\n                            okText: okText,\n                            template: template\n                        });\n                        alertPopup.then(function (res) {\n                        });\n                    };\n                    var showConfirm = function (template, leftText, rightText, targetUsername) {\n                        var messagePopup = $ionicPopup.confirm({\n                            template: template,\n                            okText: leftText,\n                            cancelText: rightText\n                        });\n                        messagePopup.then(function (res) {\n                            if (res) {\n                                window.JMessage.acceptInvitation(targetUsername, null,\n                                    function (response) {\n                                    },\n                                    function (errorStr) {\n                                        console.log(errorStr);\n                                    })\n                            } else {\n                                window.JMessage.declineInvitation(targetUsername, null, '',\n                                    function (response) {\n                                        console.log('ju success');\n                                    },\n                                    function (errorStr) {\n                                        console.log(errorStr);\n                                    })\n                            }\n                        });\n                    }\n                }\n            ]);","angular.module('BaiYin.app.mock', [\n    'ngMockE2E',\n    'BaiYin.common.mocksData'\n])\n\n.run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n    $httpBackend.whenGET('/workbench/staffVersion/1').passThrough();\n    $httpBackend.whenGET('/workbench/staffVersion/2').passThrough();\n}])","angular.module('maxrocky.framework.directives.goback',[\n])\n\n.directive('mrGoBack',['$ionicHistory','$parse', '$filter', function($ionicHistory,$parse, $filter){\n\treturn {\n\t\trestrict:'C',\n\t\tlink: function(scope, element, attrs){\n            element.on('click',function(){\n             \t$ionicHistory.goBack();\n            });\n\t\t}\n\t};\n}])","angular.module('maxrocky.framework.directives.navBar',[\n])\n\n.directive('mrNavBar',['$parse', '$filter', function($parse, $filter){\n\n\treturn {\n\t\trestrict:'C',\n\t\tscope:{\n\t\t\topacity:\"=\"\n\t\t},\n\t\tlink: function(scope, element, attrs){\n\t\t\tscope.$watch('opacity',function(newValue){\n\t\t\t\tnewValue=newValue||0;\n\t\t\t\telement.css('opacity',newValue);\n\t\t\t})\n\t\t}\n\t};\n}])","angular.module('maxrocky.framework.directives.rem',[\n])\n\n.directive('mrRem',['$parse', '$filter', function($parse, $filter){\n\n\treturn {\n\t\trestrict:'A',\n\t\tlink: function(scope, element, attrs){\n\t    var _size = 50;\n        var p = (document.body && document\n            .body.clientWidth || document.getElementsByTagName(\"html\")[0].offsetWidth) /375\n       _size = p * 50; \n        document.getElementsByTagName(\"html\")[0].setAttribute(\"style\", \"font-size:\" + _size + \"px!important\");\n      \n\t\t}\n\t};\n}])","angular.module('BaiYin.Agents', [\n    'BaiYin.Agents.mock'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('Agents', {\n        url: '/Agents',\n        controller: 'AgentsController',\n        templateUrl: 'Agents/Agents.tpl.html',\n        cache: 'false',\n        resolve: {\n            resolvedData: ['$http', function($http) {\n                return $http.get('ServiceName=ApproveService&TransName=getUnApprvedList');\n            }]\n        },\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('AgentsController', ['$scope', '$http', 'resolvedData', '$state',\n    function($scope, $http, resolvedData, $state) {\n        $scope.listLength = resolvedData.data.length\n        $scope.erpAgents = function() {\n            $state.go('AgentsList', {})\n        }\n    }\n])","angular.module('BaiYin.Agents.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.AgentsA', [\n    'BaiYin.Agents',\n    'BaiYin.agentsList',\n    'BaiYin.agentsView',\n    'BaiYin.historyList',\n    'BaiYin.historyDetail',\n])","angular.module('BaiYin.Leaves', [\n        'BaiYin.Leaves.mock'\n    ])\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('Leaves', {\n            url: '/Leaves',\n            controller: 'LeavesController',\n            templateUrl: 'AllLeave/Leaves.tpl.html',\n            cache: 'false',\n            authorizedRuleType: ['1']\n        })\n    }])\n    .controller('LeavesController', ['$scope', '$http', '$state',\n        function($scope, $http, $state) {\n            $scope.goLeaves = function(res) {\n                if (res == 1) {\n                    $state.go(\"LeavesList\");\n                } else {\n                    $state.go(\"VacationList\");\n                };\n            };\n        }\n    ])","angular.module('BaiYin.Leaves.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.LeavesA', [\n    \"BaiYin.Leaves\",\n    \"BaiYin.LeavesList\",\n    \"BaiYin.LeavesDetail\",\n    \"BaiYin.newLeaves\",\n    \"BaiYin.VacationList\",\n    \"BaiYin.VacationDetail\",\n    \"BaiYin.newVacation\"\n])","angular.module('BaiYin.attence', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('attence', {\r\n            url: '/attence',\r\n            controller: 'attenceController',\r\n            templateUrl: 'attence/attence.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('attenceController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout','$filter',\r\n\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout,$filter) {\r\n\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                var nowtady=new Date();\r\n                $scope.nowDate = $filter(\"date\")(nowtady, \"yyyy-MM-dd\");\r\n                getHomePageDate();\r\n            });\r\n            $scope.$on('$ionicView.leave',function () {\r\n                $scope.searchBtn = false;\r\n                $scope.$apply(function () {\r\n                    $(\"#blueToothAddress\").text('');\r\n                });\r\n            })\r\n            //返回\r\n            $scope.goindex = function () {\r\n                $state.go('tabs/homePage');\r\n            }\r\n            //显示和隐藏上班打卡时间\r\n            $scope.sbdktimeShow = true;\r\n            $scope.clockinBtn = false;\r\n            $scope.searchBtn = false;\r\n            $scope.xbdktimeShow = true;\r\n            $scope.clockoutBtn = false;\r\n            //点击上班打卡\r\n            $scope.toClockIn = function () {\r\n                loadingAnimation.showLoading('加载中', 'loding', 0);\r\n                judgeTimes($scope.workTime.detail.START_TIME,'punckTheClockOn');\r\n\r\n\r\n                // punckTheClockOn();\r\n\r\n            }\r\n            //点击下班打卡\r\n            $scope.toClockout = function () {\r\n                loadingAnimation.showLoading('加载中', 'loding', 0);\r\n                judgeTimes($scope.workTime.detail.END_TIME,'punckTheClockOff');\r\n\r\n\r\n                // punckTheClockOff();\r\n\r\n            }\r\n            //点击更新打卡\r\n            $scope.toClockupdate = function () {\r\n                if($(\"#blueToothAddress\").text() == ''){\r\n                    showAlert.showMsg('','','请先搜索蓝牙设备');\r\n                    return false;\r\n                }\r\n                loadingAnimation.showLoading('加载中', 'loding', 0);\r\n                // punckTheClockOff();\r\n                judgeTimes($scope.workTime.detail.END_TIME,'punckTheClockOff');\r\n            }\r\n            //点击我的考勤\r\n            $scope.toMyattence = function () {\r\n                $state.go('attence/myAttence');\r\n            }\r\n            //点击考勤统计\r\n            $scope.tocountAttence = function () {\r\n                var sec = token.sec;\r\n                var noAuth=true;\r\n                if(sec!=undefined){\r\n                    if(sec.length>0){\r\n                        for(var no in sec){\r\n                            if(sec[no].SEC_NO=='K001'){\r\n                                noAuth=false;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(noAuth){\r\n                    showAlert.showMsg('', '', '您无权操作考勤统计', '确认');\r\n                    return;\r\n                }\r\n                $state.go('attence/countAttence');\r\n            }\r\n            //点击缺勤事由\r\n            $scope.tofillCause = function () {\r\n                /*var sec = token.sec;\r\n                var noAuth=true;\r\n                if(sec!=undefined){\r\n                    if(sec.length>0){\r\n                        for(var no in sec){\r\n                            if(sec[no].SEC_NO=='K002'){\r\n                                noAuth=false;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(noAuth){\r\n                    showAlert.showMsg('', '', '您无权操作考勤事由', '确认');\r\n                    return;\r\n                }*/\r\n                $state.go('attence/fillCause');\r\n            }\r\n            //点击搜索蓝牙\r\n            $scope.searchBlueTooth = function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                // $scope.searchBtn = true;\r\n                blueToothEnable();\r\n            }\r\n\r\n            //开启本机蓝牙\r\n            function blueToothEnable() {\r\n                ble.enable(\r\n                    function () {\r\n                        scanBlueTooth();\r\n                    },\r\n                    function () {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(\"\",\"\",\"蓝牙未开启\");\r\n\r\n                    }\r\n                );\r\n            }\r\n\r\n            //扫描蓝牙\r\n            function scanBlueTooth() {\r\n                $scope.blueToothList = [];\r\n                $scope.timer = $timeout(function () {\r\n                    if ($scope.blueToothList.length > 0) {\r\n                        upWindow($scope.blueToothList);\r\n                    } else {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg('', '', \"未扫描到蓝牙设备\");\r\n\r\n                    }\r\n                }, 5000);\r\n                ble.scan([], 5, function (device) {//成功的回调函数\r\n                        getBlueToothList(device);\r\n                    }, function () {\r\n                        //失败的回调函数\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg('', '', \"扫描蓝牙失败\");\r\n\r\n                    }\r\n                );\r\n            }\r\n\r\n            //获取蓝牙列表\r\n            function getBlueToothList(device) {\r\n                $http.post('ServiceName=ClockService&TransName=blueToothDetail&SN=' + device.id)\r\n                    .then(function (res) {\r\n                        if (res.data.code == '0') {\r\n                            // alert(JSON.stringify(res));\r\n                            $scope.blueToothdetail=res.data.detail;\r\n                            // alert(res.data.detail.length);\r\n                            for(var i=0;i<$scope.blueToothdetail.length;i++){\r\n                                $scope.blueToothList.push($scope.blueToothdetail[i]);\r\n                            }\r\n\r\n\r\n\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            //获取首页日期\r\n            function getHomePageDate() {\r\n                $http.post('ServiceName=ClockService&TransName=clockPage')\r\n                    .then(function (res) {\r\n                        //获取部门、姓名\r\n                        $scope.DeptName = token.DeptName;\r\n                        $scope.UserName = token.UserName;\r\n                        if(res.code == '0'){\r\n                            $scope.homePageDate = res.data;\r\n                            if (res.data.detail.ACTUAL_START_TIME != null && res.data.detail.ACTUAL_START_TIME != '') {\r\n                                $(\"#clockInid\").text(res.data.detail.ACTUAL_START_TIME);\r\n                                $scope.Go_START_TIME=res.data.detail.START_TIME_HOUR;\r\n                                $scope.Go_END_TIME=res.data.detail.END_TIME_HOUR;\r\n                                $scope.sbdktimeShow = false;\r\n                                $scope.clockinBtn = true;\r\n                            }\r\n                            if (res.data.detail.ACTUAL_END_TIME != null && res.data.detail.ACTUAL_END_TIME != '') {\r\n                                $(\"#clockOutid\").text( res.data.detail.ACTUAL_END_TIME);\r\n                                $scope.Go_START_TIME=res.data.detail.START_TIME_HOUR;\r\n                                $scope.Go_END_TIME=res.data.detail.END_TIME_HOUR;\r\n                                $scope.xbdktimeShow = false;\r\n                                $scope.clockoutBtn = true;\r\n                            }\r\n                            if (res.data.detail.ACTUAL_END_TIME == null || res.data.detail.ACTUAL_END_TIME == '') {\r\n                                $scope.xbdktimeShow = true;\r\n                                $scope.clockoutBtn = false;\r\n                                $(\"#xbPunchClock\").attr(\"disabled\", true);\r\n                                $(\"#xbPunchClock\").addClass(\"clockoutgreyBtn\");\r\n                                $(\"#xbPunchClock\").removeClass(\"clockoutBtn\");\r\n                            }\r\n                        }\r\n                        if(res.code == '1'){\r\n                            $(\"#sbPunchClock\").attr(\"disabled\", true);\r\n                            $(\"#sbPunchClock\").addClass(\"clockingreyBtn\");\r\n                            $(\"#sbPunchClock\").removeClass(\"clockinBtn\");\r\n                            $(\"#xbPunchClock\").attr(\"disabled\", true);\r\n                            $(\"#xbPunchClock\").addClass(\"clockoutgreyBtn\");\r\n                            $(\"#xbPunchClock\").removeClass(\"clockoutBtn\");\r\n                        }else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //截取时间字符串转换格式\r\n            function substrDate(datetime){\r\n                var olddatetime=datetime.substr(0,8);\r\n                return olddatetime.replace(/^(\\d{4})(\\d{2})(\\d{2})$/, \"$1-$2-$3\");\r\n            }\r\n            //获取上下班时间\r\n            function getWorkTime(SN, CONTRACT,RULE_ID) {\r\n                $http.post('ServiceName=ClockService&TransName=clockTimeBySn&SN=' + SN + '&CONTRACT=' + CONTRACT+'&RULE_ID='+RULE_ID)\r\n                    .then(function (res) {\r\n                        console.log(res);\r\n                        //alert(JSON.stringify(res));\r\n                        if (res.data.code == '0') {\r\n                            $scope.workTime = res.data;\r\n                            $scope.TRANSACTION_ID = $scope.workTime.detail.TRANSACTION_ID;\r\n                            if(!$scope.workTime.detail.START_TIME_HOUR){\r\n                                $scope.Go_START_TIME=$scope.Go_START_TIME\r\n                            }else{\r\n                                $scope.Go_START_TIME=$scope.workTime.detail.START_TIME_HOUR;\r\n                            }\r\n                            $scope.Go_END_TIME=$scope.workTime.detail.END_TIME_HOUR;\r\n                            if ($scope.workTime.detail.ACTUAL_START_TIME != null && $scope.workTime.detail.ACTUAL_START_TIME != '') {\r\n                                $(\"#clockInid\").text( $scope.workTime.detail.ACTUAL_START_TIME);\r\n                                $scope.sbdktimeShow = false;\r\n                                $scope.clockinBtn = true;\r\n                            }else{\r\n                                $scope.sbdktimeShow = true;\r\n                                $scope.clockinBtn = false;\r\n                            }\r\n                            if ($scope.workTime.detail.ACTUAL_END_TIME != null && $scope.workTime.detail.ACTUAL_END_TIME != '') {\r\n                                $(\"#clockOutid\").text($scope.workTime.detail.ACTUAL_END_TIME);\r\n                                $scope.xbdktimeShow = false;\r\n                                $scope.clockoutBtn = true;\r\n                            }else{\r\n                                $scope.xbdktimeShow = true;\r\n                                $scope.clockoutBtn = false;\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //判讀打卡時間\r\n            function judgeTimes(workdate,punck){\r\n                var t1 = workdate;\r\n                var d1 = t1.replace(/\\-/g, \"/\");\r\n                var date1 = new Date(d1);\r\n                var nowdate=new Date();\r\n                console.log(\"=======\");\r\n                var chatime=Math.abs((date1 - nowdate) / 1000 / 60/60);\r\n                if(chatime>4){\r\n                    loadingAnimation.hideLoading();\r\n                    $scope.data = new Object();\r\n                    $scope.data.tishi=\"当前时间与计划打卡时间大约相差\"+Math.round(chatime)+\"小时,您确定打卡吗?\"\r\n                    // 自定义弹窗\r\n                    var mynewPopup = $ionicPopup.show({\r\n                        template:$scope.data.tishi,\r\n                        title: '提示',\r\n                        $scope:$scope,\r\n                        buttons: [\r\n                            {\r\n                                text: '取消',\r\n                                type: 'button-cancel',\r\n                                onTap: function(e) {\r\n\r\n                                }\r\n\r\n                            },\r\n                            {\r\n                                text: '<b>确认</b>',\r\n                                type: 'button-positive',\r\n                                onTap: function (e) {\r\n                                    if(punck=='punckTheClockOn'){\r\n                                        $scope.sbdktimeShow = false;\r\n                                        $scope.clockinBtn = true;\r\n                                        punckTheClockOn()\r\n                                    }else if(punck=='punckTheClockOff'){\r\n                                        $scope.xbdktimeShow = false;\r\n                                        $scope.clockoutBtn = true;\r\n                                        punckTheClockOff()\r\n                                    }\r\n\r\n\r\n                                }\r\n                            },\r\n                        ]\r\n                    });\r\n                    mynewPopup.then(function (res) {\r\n                        console.log('Tapped!', res);\r\n                    });\r\n                }else{\r\n                    if(punck=='punckTheClockOn'){\r\n                        $scope.sbdktimeShow = false;\r\n                        $scope.clockinBtn = true;\r\n                        punckTheClockOn()\r\n                    }else if(punck=='punckTheClockOff'){\r\n                        $scope.xbdktimeShow = false;\r\n                        $scope.clockoutBtn = true;\r\n                        punckTheClockOff()\r\n                    }\r\n                }\r\n            }\r\n\r\n            //上班打卡\r\n            function punckTheClockOn() {\r\n                var parmas = {\r\n                    SN: $scope.SERIAL_NO_CODE,\r\n                    ADDR: $scope.ADDR,\r\n                    START_TIME:$scope.workTime.detail.START_TIME,\r\n                    END_TIME:$scope.workTime.detail.END_TIME,\r\n                    TRANSACTION_ID: $scope.workTime.detail.TRANSACTION_ID,\r\n                    FLG:0\r\n                };\r\n                $http.post('ServiceName=ClockService&TransName=punchClock', parmas)\r\n                    .then(function (res) {\r\n                        if (res.data.code == '0') {\r\n                            loadingAnimation.hideLoading();\r\n                            $scope.punckClockOn = res.data;\r\n                            $(\"#clockInid\").text($scope.punckClockOn.clockTips);\r\n\r\n                        } else {\r\n                            showAlert.showMsg('','',res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            //下班打卡\r\n            function punckTheClockOff() {\r\n                var parmas = {\r\n                    SN: $scope.SERIAL_NO_CODE,\r\n                    ADDR: $scope.ADDR,\r\n                    START_TIME:$scope.workTime.detail.START_TIME,\r\n                    END_TIME:$scope.workTime.detail.END_TIME,\r\n                    TRANSACTION_ID: $scope.workTime.detail.TRANSACTION_ID,\r\n                    FLG:1\r\n                };\r\n                if($scope.clockinBtn==false){\r\n                    showAlert.showMsg('','','你还未上班打卡!');\r\n                    $scope.xbdktimeShow = true;\r\n                    $scope.clockoutBtn = false;\r\n                    loadingAnimation.hideLoading();\r\n                    return ;\r\n                }\r\n                $http.post('ServiceName=ClockService&TransName=punchClock', parmas)\r\n                    .then(function (res) {\r\n                        if (res.data.code == '0') {\r\n                            $scope.punckClockOff = res.data;\r\n                            $(\"#clockOutid\").text($scope.punckClockOff.clockTips);\r\n                            loadingAnimation.hideLoading();\r\n                        } else {\r\n                            showAlert.showMsg('','',res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            //弹出页面，显示扫描到的设备\r\n            var searchPopup;\r\n\r\n            function upWindow(blueToothList) {\r\n                // alert(JSON.stringify($scope.blueToothList));\r\n                loadingAnimation.hideLoading();\r\n                searchPopup = $ionicPopup.show({\r\n                    template:'<div ng-style=\"closesearchequip\" ng-click=\"closeBlueTooths()\">X</div>'+ '<div>' +\r\n                    '<ul>' +\r\n                    '<li id=\"device_{{$index}}\" ng-click=\"selectBlueTooth($index)\" ng-repeat=\"blueTooth in blueToothList track by $index\" ng-style=\"searchPopupli\">' +\r\n                    '{{blueTooth.DEVICE_LOCATION}}-{{blueTooth.RULE_DESC}}' +\r\n                    '</li>' +\r\n                    '</ul>' +\r\n                    '</div>',\r\n                    title: '扫描到的蓝牙设备',\r\n                    scope: $scope,\r\n                });\r\n            }\r\n            $scope.closesearchequip= {\r\n                \"width\": \"20px\",\r\n                \"height\": \"20px\",\r\n                \"position\": \"absolute\",\r\n                \"top\":\"5px\",\r\n                \"color\":\"#333333\",\r\n                \"font-size\":\"15px\",\r\n                \"line-height\":\"18px\",\r\n                \"font-family\":\"sans-serif\",\r\n                \"text-align\":\"center\",\r\n                \"border-radius\":'50%',\r\n                \"border\":\"1px solid #333333\",\r\n                \"right\":\"10px\"\r\n            };\r\n            $scope.closeBlueTooths=function () {\r\n                searchPopup.close();\r\n                $scope.searchBtn = false;\r\n            }\r\n            //点击选择蓝牙设备\r\n            $scope.selectBlueTooth = function (index) {\r\n                $scope.searchBtn = false;\r\n                $(\"#blueToothAddress\").text($(\"#device_\" + index).text());\r\n                searchPopup.close();\r\n                $scope.SERIAL_NO_CODE = $scope.blueToothList[index].SERIAL_NO;\r\n                $scope.RULE_ID = $scope.blueToothList[index].RULE_ID;\r\n                $scope.ADDR = $scope.blueToothList[index].DEVICE_LOCATION;\r\n                getWorkTime($scope.blueToothList[index].SN_CODE, $scope.blueToothList[index].CONTRACT,$scope.RULE_ID);\r\n                $(\"#sbPunchClock\").attr(\"disabled\", false);\r\n                $(\"#sbPunchClock\").addClass(\"clockinBtn\");\r\n                $(\"#sbPunchClock\").removeClass(\"clockingreyBtn\");\r\n                $(\"#xbPunchClock\").attr(\"disabled\", false);\r\n                $(\"#xbPunchClock\").addClass(\"clockoutBtn\");\r\n                $(\"#xbPunchClock\").removeClass(\"clockoutgreyBtn\");\r\n\r\n            }\r\n            $scope.searchPopupli = {\r\n                \"line-height\": \"35px\",\r\n                \"font-size\": \"12px\",\r\n                \"text-align\": \"center\",\r\n                \"border-bottom\": \"1px dotted #f4f4f4\",\r\n            }\r\n\r\n        }\r\n\r\n    ])\r\n","angular.module('BaiYin.attenceA', [\r\n    'BaiYin.attence',\r\n    'BaiYin.attence.myAttence',\r\n    'BaiYin.attence.countAttenceA',\r\n    'BaiYin.attence.fillCause',\r\n    'BaiYin.attence.attenceCdDetail',\r\n    'BaiYin.attence.attenceWdDetail',\r\n    'BaiYin.attence.attenceZtDetail',\r\n    'BaiYin.attence.attenZcDetail',\r\n    'BaiYin.attence.leaveEarlyDetail',\r\n])","angular.module('BaiYin.boardA', [\n    'BaiYin.bulletinBoard',\n    'BaiYin.bulletinBoard.edit',\n    'BaiYin.bulletinBoard.view',\n])","angular.module('BaiYin.bulletinBoard', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('bulletinBoard', {\r\n            url: '/bulletinBoard',\r\n            controller: 'bulletinBoardController',\r\n            templateUrl: 'bulletinBoard/bulletinBoard.tpl.html',\r\n            cache: 'false',\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n    .controller('bulletinBoardController', ['$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$ionicTabsDelegate', '$stateParams',\r\n        function ($scope, showAlert, loadingAnimation, $http, $state, $ionicTabsDelegate, $stateParams) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                bulletinInit();\r\n            });\r\n\r\n            //点击标题\r\n            $scope.toEdit = function (line_no) {\r\n                console.log(\"toEdit.line_no===\"+line_no);\r\n                $state.go('bulletinBoard/edit', {LINE_NO: line_no})\r\n            };\r\n\r\n            //初始化白板公告列表\r\n            function bulletinInit() {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=WhiteBoardService&TransName=listWhiteBoardNewspaper')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.tList = res.data.tList;\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n        }\r\n    ])\r\n","angular.module('BaiYin.common', [\n    'BaiYin.common.httpTransform',\n    'BaiYin.common.httpBaseUrlSupport',\n    'BaiYin.common.httpMockBaseUrlSupport',\n    'BaiYin.common.login',\n    'BaiYin.common.pageInit',\n    'BaiYin.common.saveData',\n    'BaiYin.common.cordova',\n    'BaiYin.common.savePopShowFrist',\n    'BaiYin.common.saveVersion',\n    'BaiYin.common.eCharts',\n    'BaiYin.common.loading',\n    'BaiYin.common.showAlert',\n    'BaiYin.agentsView',\n    'BaiYin.flowDetail'\n\n])","if (!isApp) {\n    var module = angular.module('BaiYin.common.cordova', [])\n    module.factory('MrCamera', [function() {\n        return {\n            getPicture: function() {\n                //alert(\"没有硬件\");\n            },\n        };\n    }])\n    module.factory('MrImagePicker', [function() {\n        return {\n            getPictures: function() {\n                //  alert(\"没有硬件\");\n            },\n        };\n    }])\n    module.factory('MrActionSheet', [function() {\n        return {\n            show: function() {\n                //alert(\"没有硬件\");\n            },\n        };\n    }])\n    module.factory('MrDevice', [function() {\n        return {\n            getDevice: function() {\n                // alert(\"没有硬件\");\n            },\n        };\n    }])\n    module.factory('MrVersion', [function() {\n        return {\n            getVersionNumber: function() {\n                // alert(\"没有硬件\");\n            },\n        };\n    }])\n} else {\n    var module = angular.module('BaiYin.common.cordova', ['ngCordova'])\n    module.factory('MrCamera', ['$cordovaCamera', function($cordovaCamera) {\n        return $cordovaCamera;\n    }])\n    module.factory('MrImagePicker', ['$cordovaImagePicker', function($cordovaImagePicker) {\n        return $cordovaImagePicker;\n    }])\n    module.factory('MrActionSheet', ['$ionicActionSheet', function($ionicActionSheet) {\n        return $ionicActionSheet;\n    }])\n    module.factory('MrDevice', ['$cordovaDevice', function($cordovaDevice) {\n        return $cordovaDevice;\n    }])\n    module.factory('MrVersion', ['$cordovaAppVersion', function($cordovaAppVersion) {\n        return $cordovaAppVersion;\n    }])\n}\n","angular.module('BaiYin.common.dateFilter', [])\r\n\r\n.filter('myFilter',[function(){\r\n    return function(input){\r\n    \tvar arr1=[];\r\n    \tarr1=input;\r\n        var out='';\r\n        var arr=[];\r\n       arr=arr1.split(' ')[0].split('-');\r\n      out=arr[0]+\"年\"+arr[1]+'月'+arr[2]+'日';\r\n        return out;\r\n    }\r\n\r\n}])\r\n","angular.module('BaiYin.common.eCharts', [])\r\n.factory('kpi_echarts', [function() {\r\n    var pageInit = {};\r\n    pageInit.kpiEcharts = function(dataInfo, idname) {\r\n        var myChart = echarts.init(document.getElementById(idname));\r\n        var option = {\r\n            title: dataInfo.title,\r\n            tooltip: {},\r\n            grid:{\r\n                top:'25%',\r\n                left:'15%',\r\n                right:'15%',\r\n                bottom:'15%'\r\n            },\r\n            tooltip: {\r\n                trigger:'axis'//显示每个点\r\n            },\r\n            legend: {\r\n                data: ['销量']\r\n            },\r\n            xAxis: dataInfo.xAxis,\r\n            yAxis: dataInfo.yAxis,\r\n            series: dataInfo.series\r\n        };\r\n        myChart.setOption(option)\r\n    };\r\n    return pageInit;\r\n}])","angular.module('BaiYin.common.httpBaseUrlSupport', [\n    'ionic',\n    'BaiYin.app.config'\n])\n\n.config(['$provide', 'intranetUri', 'outerNetUri', function($provide, intranetUri, outerNetUri) {\n    function combineUrl(baseUrl, url) {\n        while (url.indexOf('/') === 0) url = url.substring(1);\n        if (token != null) {\n            return baseUrl + url + '&SignToken=' + token.SignToken + '&UserID=' + token.UserID;\n        } else {\n            return baseUrl + url;\n        }\n    }\n\n    //装饰者$http\n    $provide.decorator('$http', ['$delegate', function($delegate) {\n        var $http = $delegate;\n\n        var wrapper = function() {\n            return $http.apply($http, arguments);\n        };\n\n        Object.keys($http).filter(function(key) {\n            return (typeof $http[key] === 'function');\n        }).forEach(function(key) {\n            wrapper[key] = function() {\n                var url = arguments[0];\n                // console.log(\"url===\"+url);\n                if (url.match('.tpl.html') || url.indexOf('http://') === 0) {\n                    return $http[key].apply($http, arguments);\n                } else if (localStorage.getItem('uri') != null) {\n                    url = combineUrl(intranetUri, url);\n                    arguments[0] = url;\n                    if (token != null) {\n                        arguments[0] = url+\"&urlType=intra\";\n                    }\n                    console.log(\"进入内网intranetUri===\"+url);\n                    return $http[key].apply($http, arguments);\n                } else if (localStorage.getItem('uri') == null) {\n                    url = combineUrl(outerNetUri, url);\n                    arguments[0] = url;\n                    if (token != null) {\n                        arguments[0] = url+\"&urlType=outer\";\n                    }\n                    console.log(\"切入外网outerNetUri===\"+url);\n                    return $http[key].apply($http, arguments);\n                }\n            };\n        });\n        return wrapper;\n    }]);\n}])","angular.module('BaiYin.common.httpMockBaseUrlSupport', [\n    'ionic',\n    'ngMockE2E',\n    'BaiYin.app.config'\n])\n\n.config(['$provide', 'intranetUri', 'outerNetUri', function($provide, intranetUri, outerNetUri) {\n    function combineUrl(baseUrl, url) {\n        while (url.indexOf('/') === 0) url = url.substring(1);\n        if (token != null) {\n            console.log(baseUrl + url + '&SignToken=' + token.SignToken + '&UserID=' + token.UserID);\n            return baseUrl + url + '&SignToken=' + token.SignToken + '&UserID=' + token.UserID;\n        } else {\n            return baseUrl + url;\n        }\n    }\n\n    //装饰者伪HTTP后台\n    // $provide.decorator('$httpBackend', ['$delegate', function($delegate) {\n    //     var $httpBackend = $delegate;\n    //     var when = $httpBackend.when;\n    //     $httpBackend.when = function() {\n    //         var url = arguments[1];\n    //         if (typeof url === 'string' && url.indexOf('http://') !== 0 && (url.indexOf('.tpl.html') === -1 || url.indexOf('.tpl.html') !== url.length - 9)) {\n    //             if (localStorage.getItem('uri') == null) {\n    //                 url = combineUrl(intranetUri, url);\n    //                 arguments[1] = url;\n    //             } else {\n    //                 url = combineUrl(outerNetUri, url);\n    //                 arguments[1] = url;\n    //             }\n    //             return when.apply($httpBackend, arguments);\n    //         } else if (url instanceof RegExp && url.source.indexOf('http:\\\\/\\\\/') !== 0) {\n    //             if (localStorage.getItem('uri') == null) {\n    //                 url = new RegExp(combineUrl(intranetUri, url.source));\n    //                 arguments[1] = url;\n    //             } else {\n    //                 url = new RegExp(combineUrl(outerNetUri, url.source));\n    //                 arguments[1] = url;\n    //             }\n    //             return when.apply($httpBackend, arguments);\n    //         } else {\n    //             return when.apply($httpBackend, arguments);\n    //         }\n    //     }\n\n    //     return $httpBackend;\n    // }]);\n}])","angular.module('BaiYin.common.httpTransform', [\n    'ionic',\n    'BaiYin.app.config'\n])\n\n.config(['$httpProvider', function($httpProvider) {\n    //注册拦截器\n    $httpProvider.interceptors.push('commonResponseParser');\n    $httpProvider.defaults.withCredentials = true;\n    //设置跨域访问\n    $httpProvider.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=utf-8'; //设置请求头\n}])\n\n.factory('commonResponseParser', ['$q', 'HTTP_COMMON_ERROR_MESSAGE_INTRANET', 'HTTP_COMMON_ERROR_MESSAGE_OUTERNET', '$rootScope', function($q, HTTP_COMMON_ERROR_MESSAGE_INTRANET, HTTP_COMMON_ERROR_MESSAGE_OUTERNET, $rootScope) {\n    return {\n        response: function(response) {\n            if (!!response.config.url.match('.tpl.html'))\n                return response;\n            if (response.data && response.data.code === '0' || response.data.code === 0) {\n                return response.data;\n            } else if (response.data.msg) {\n                if (response.data.code == 0999 || response.data.code == '0999') {\n                    $rootScope.$broadcast('tokenBug', [response.data.msg]);\n                } else {\n                    return $q.reject({\n                        code: response.data.code,\n                        msg: response.data.msg,\n                        status: response.status,\n                        headers: response.headers\n                    });\n                }\n            } else {\n                return $q.reject(response);\n            }\n        },\n        responseError: function(rejection) {\n            if (localStorage.getItem('uri') != null) {\n                return $q.reject(HTTP_COMMON_ERROR_MESSAGE_INTRANET);\n            } else {\n                return $q.reject(HTTP_COMMON_ERROR_MESSAGE_OUTERNET);\n            }\n        },\n        requestError: function(rejection) {\n            // do something on error\n            if (canRecover(rejection)) {\n                return responseOrNewPromise\n            }\n            return $q.reject(rejection);\n        }\n    };\n}])","angular.module('BaiYin.common.loading', [])\n\n.service('loadingAnimation', ['$ionicLoading', '$timeout', function($ionicLoading, $timeout) {\n\n    this.showLoading = function(template, content, time) {\n        $ionicLoading.show({\n            template: \"加载中...\",\n            content: content,\n            animation: 'fade-in',\n            showBackdrop: true,\n            maxWidth: 200,\n            showDelay: time\n        });\n\n    };\n    this.hideLoading = function() {\n        $ionicLoading.hide();\n    }\n    return this;\n}])","angular.module('BaiYin.common.login', [])\n    .service('Session', [function() {\n        this.userInfoData = null;\n        this.user = null;\n        this.create = function(userInfoData, user) {\n            this.userInfoData = userInfoData;\n            this.user = user;\n        };\n        this.destroy = function() {\n            this.userInfoData = null;\n            this.user = null;\n        }\n        return this;\n    }])\n\n.factory('CurrentUserService', ['$rootScope', '$timeout', '$ionicHistory', '$http', 'Session', '$filter', '$state', '$ionicModal', '$ionicPopup', 'SavePopShowFristService', '$ionicHistory',\n    function($rootScope, $timeout, $ionicHistory, $http, Session, $filter, $state, $ionicModal, $ionicPopup, SavePopShowFristService, $ionicHistory) {\n        var currentUser = {};\n        currentUser.userSession = function() {\n            return Session;\n        };\n        currentUser.destroyUserSession = function() {\n            Session.destroy();\n            return Session;\n        };\n        currentUser.contains = function(arr, obj) {\n            var i = arr.length;\n            while (i--) {\n                if (arr[i] == obj) {\n                    return true;\n                }\n            }\n            return false;\n        };\n        currentUser.usrAuth = function(evt, toState, toParams, fromState, fromParams) {\n            console.log(toState);\n            var rule = toState.authorizedRuleType;\n            pageAuth(rule, evt, toState, toParams);\n            if (!Session.userInfoData) {\n                $ionicModal.fromTemplateUrl('userServers/login/login.tpl.html', {\n                        nextState: {\n                            toState: toState,\n                            toParams: toParams\n                        },\n                        backdropClickToClose: false,\n                        animation: 'slide-in-right'\n                    })\n                    .then(function(modal) {\n                        modal.show();\n                    });\n                return;\n            } else {\n                blankPageToHomeIndex(toState);\n            };\n        };\n\n        var pageAuth = function(rule, evt, toState, toParams) {\n            var showConfirm = function(title, template, leftText, rightText, url) {\n                var confirmPopup = $ionicPopup.confirm({\n                    title: title,\n                    template: template,\n                    okText: leftText,\n                    cancelText: rightText\n                });\n                confirmPopup.then(function(res) {\n                    if (res) {\n                        $ionicModal.fromTemplateUrl(url, {\n                                nextState: {\n                                    toState: toState,\n                                    toParams: toParams\n                                },\n                                animation: 'slide-in-right'\n                            })\n                            .then(function(modal) {\n                                modal.show();\n                            });\n\n                    } else {\n                        $ionicHistory.nextViewOptions({ historyRoot: false });\n                    }\n                });\n            };\n\n            if (!Session.userInfoData) return;\n            var LoginStatus = Session.userInfoData.LoginStatus;\n            var isHasAuth = currentUser.contains(rule, LoginStatus);\n            if (!isHasAuth) {\n                // 用户未登录\n                evt.preventDefault();\n                showConfirm('权限不足', '非常抱歉，本功能目前仅对用户开放，来登录吧', '确定', '取消', 'userServers/login/login.tpl.html');\n            }\n        }\n\n        var blankPageToHomeIndex = function(toState) {\n            if (toState.name == \"blankPage\") {\n                $state.go(\"tabs/homePage\", {}, { location: 'replace' });\n                $ionicHistory.nextViewOptions({\n                    disableAnimate: true,\n                    disableBack: true\n                });\n            }\n        };\n        currentUser.tokenBug = function(event, mass) {\n            if (SavePopShowFristService.getPopShowBlr().popShowBlr) {\n                currentUser.destroyUserSession();\n                token = null;\n                var user = null;\n                SavePopShowFristService.setPopShowBlr(false);\n                showAlert(\"提示\", mass, \"确定\");\n            }\n        };\n        currentUser.noDataInfo = function(event, msg) {\n            showDataInfo(\"提示\", msg, \"确定\");\n        };\n\n        var showAlert = function(title, template, okText) {\n            var alertPopup = $ionicPopup.alert({\n                title: title,\n                okText: okText,\n                template: template\n            });\n            alertPopup.then(function(res) {\n                $ionicModal.fromTemplateUrl('userServers/login/login.tpl.html', {\n                        animation: 'slide-in-right'\n                    })\n                    .then(function(modal) {\n                        modal.show();\n                    });\n            });\n        };\n        var showDataInfo = function(title, template, okText) {\n            var alertPopup = $ionicPopup.alert({\n                title: title,\n                okText: okText,\n                template: template\n            });\n            alertPopup.then(function(res) {\n                $ionicHistory.goBack();\n            });\n        };\n        currentUser.updateSession = function(data, user) {\n            Session.create(data, user);\n            return Session;\n        };\n        return currentUser;\n    }\n])","var hexcase = 0;\nvar b64pad = \"\";\nvar chrsz = 8;\n\nfunction hex_md5(s) {\n    return binl2hex(core_md5(str2binl(s), s.length * chrsz)); }\n\nfunction b64_md5(s) {\n    return binl2b64(core_md5(str2binl(s), s.length * chrsz)); }\n\nfunction str_md5(s) {\n    return binl2str(core_md5(str2binl(s), s.length * chrsz)); }\n\nfunction hex_hmac_md5(key, data) {\n    return binl2hex(core_hmac_md5(key, data)); }\n\nfunction b64_hmac_md5(key, data) {\n    return binl2b64(core_hmac_md5(key, data)); }\n\nfunction str_hmac_md5(key, data) {\n    return binl2str(core_hmac_md5(key, data)); }\n\nfunction md5_vm_test() {\n    return hex_md5(\"abc\") == \"900150983cd24fb0d6963f7d28e17f72\"; }\n\nfunction core_md5(x, len) {\n    x[len >> 5] |= 0x80 << ((len) % 32);\n    x[(((len + 64) >>> 9) << 4) + 14] = len;\n    var a = 1732584193;\n    var b = -271733879;\n    var c = -1732584194;\n    var d = 271733878;\n    for (var i = 0; i < x.length; i += 16) {\n        var olda = a;\n        var oldb = b;\n        var oldc = c;\n        var oldd = d;\n        a = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);\n        d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\n        c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\n        b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\n        a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\n        d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\n        c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\n        b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\n        a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\n        d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\n        c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n        b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n        a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\n        d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n        c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n        b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\n        a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\n        d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\n        c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\n        b = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);\n        a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\n        d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\n        c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n        b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\n        a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\n        d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\n        c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\n        b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\n        a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\n        d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\n        c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\n        b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n        a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);\n        d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\n        c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\n        b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n        a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\n        d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\n        c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\n        b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n        a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\n        d = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);\n        c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\n        b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\n        a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\n        d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n        c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\n        b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\n        a = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);\n        d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\n        c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n        b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\n        a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\n        d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\n        c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n        b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\n        a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\n        d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n        c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\n        b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\n        a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\n        d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n        c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\n        b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\n        a = safe_add(a, olda);\n        b = safe_add(b, oldb);\n        c = safe_add(c, oldc);\n        d = safe_add(d, oldd); }\n    return Array(a, b, c, d);\n}\n\nfunction md5_cmn(q, a, b, x, s, t) {\n    return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b); }\n\nfunction md5_ff(a, b, c, d, x, s, t) {\n    return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t); }\n\nfunction md5_gg(a, b, c, d, x, s, t) {\n    return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t); }\n\nfunction md5_hh(a, b, c, d, x, s, t) {\n    return md5_cmn(b ^ c ^ d, a, b, x, s, t); }\n\nfunction md5_ii(a, b, c, d, x, s, t) {\n    return md5_cmn(c ^ (b | (~d)), a, b, x, s, t); }\n\nfunction core_hmac_md5(key, data) {\n    var bkey = str2binl(key);\n    if (bkey.length > 16) bkey = core_md5(bkey, key.length * chrsz);\n    var ipad = Array(16),\n        opad = Array(16);\n    for (var i = 0; i < 16; i++) { ipad[i] = bkey[i] ^ 0x36363636;\n        opad[i] = bkey[i] ^ 0x5C5C5C5C; }\n    var hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz);\n    return core_md5(opad.concat(hash), 512 + 128);\n}\n\nfunction safe_add(x, y) {\n    var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xFFFF); }\n\nfunction bit_rol(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt)); }\n\nfunction str2binl(str) {\n    var bin = Array();\n    var mask = (1 << chrsz) - 1;\n    for (var i = 0; i < str.length * chrsz; i += chrsz)\n        bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (i % 32);\n    return bin;\n}\n\nfunction binl2str(bin) {\n    var str = \"\";\n    var mask = (1 << chrsz) - 1;\n    for (var i = 0; i < bin.length * 32; i += chrsz)\n        str += String.fromCharCode((bin[i >> 5] >>> (i % 32)) & mask);\n    return str;\n}\n\nfunction binl2hex(binarray) {\n    var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n    var str = \"\";\n    for (var i = 0; i < binarray.length * 4; i++) {\n        str += hex_tab.charAt((binarray[i >> 2] >> ((i % 4) * 8 + 4)) & 0xF) +\n            hex_tab.charAt((binarray[i >> 2] >> ((i % 4) * 8)) & 0xF);\n    }\n    return str;\n}\n\nfunction binl2b64(binarray) {\n    var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    var str = \"\";\n    for (var i = 0; i < binarray.length * 4; i += 3) {\n        var triplet = (((binarray[i >> 2] >> 8 * (i % 4)) & 0xFF) << 16) | (((binarray[i + 1 >> 2] >> 8 * ((i + 1) % 4)) & 0xFF) << 8) | ((binarray[i + 2 >> 2] >> 8 * ((i + 2) % 4)) & 0xFF);\n        for (var j = 0; j < 4; j++) {\n            if (i * 8 + j * 6 > binarray.length * 32) str += b64pad;\n            else str += tab.charAt((triplet >> 6 * (3 - j)) & 0x3F); }\n    }\n    return str;\n}\nString.prototype.trim = function() {\n    return this.replace(/(^\\s*)|(\\s*$)/g, \"\"); }\nvar lastInput;\n\nfunction md5(text) {\n    text = text.trim();\n    var reg = /^[0-9a-f]{16}$|^[0-9a-f]{32}$/;\n    reg.ignoreCase = true;\n    if (reg.test(text.toLowerCase())) { ctl00_ContentPlaceHolder1_LabelResult.innerHTML = ''; } else {\n        var ret = hex_md5(text);\n        ctl00_ContentPlaceHolder1_LabelResult.innerHTML = 'MD5(' + text + ',32) = ' + ret + '<br>';\n        ctl00_ContentPlaceHolder1_LabelResult.innerHTML += 'MD5(' + text + ',16) = ' + ret.substr(8, 16);\n        lastInput = text; }\n}\n\nfunction CheckInput() {\n    var text = document.all[\"ctl00_ContentPlaceHolder1_TextBoxq\"].value;\n    text = text.trim();\n    var reg = /^[0-9a-f]{16}$|^[0-9a-f]{32}$/;\n    if (reg.test(text.toLowerCase())) {\n        if (lastInput + \"\" != \"undefined\") {\n            var result = hex_md5(lastInput);\n            if (result.indexOf(text) >= 0) { ctl00_ContentPlaceHolder1_LabelResult.innerHTML = lastInput;\n                return false; }\n        } else {\n            var lastResult = ctl00_ContentPlaceHolder1_LabelResult.innerHTML;\n            var result = hex_md5(lastResult);\n            if (result.indexOf(text) >= 0) { ctl00_ContentPlaceHolder1_LabelResult.innerHTML = lastResult;\n                return false; }\n        }\n        ctl00_ContentPlaceHolder1_LabelResult.innerHTML = \"Wait.....\";\n        return true;\n    } else { md5(text);\n        return false; }\n}","angular.module('BaiYin.common.mocksData',[\n])\n\n.factory('mocksData', [function(){\n\treturn {\n\t\tresetData: function(data){\n\t\t\tvar result={code:0};\n\t\t\tresult.data=data;\n\t\t\t\treturn result;\n\t\t\t\n\t\t}\n\t};\n}])\n\n\n\n","angular.module('BaiYin.common.pageInit', [])\n\n.factory('pageInitService', ['$q', 'loadingAnimation', '$http',\n    function($q, loadingAnimation, $http) {\n        var pageInit = {};\n        pageInit.pageInit = function(apis) {\n            loadingAnimation.showLoading('加载中...', 'loding', 0);\n            var data = [];\n            for (var i = 0; i < apis.length; i++) {\n                data[i] = (function() {\n                    return $http.get(apis[i]);\n                })();\n            };\n            return $q.all(data).finally(function() {\n                loadingAnimation.hideLoading();\n            });\n        };\n        return pageInit;\n    }\n])","angular.module('BaiYin.common.saveData', [])\n\n.service('addIdService', [function() {\n    this.create = function(workOrderArray) {\n        this.workOrderArray = workOrderArray;\n    };\n    this.destroy = function() {\n        this.workOrderArray = [];\n    };\n    return this;\n}])\n\n.factory('SaveWordOrderIdService', ['addIdService', function(addIdService) {\n    var saveWordOrderId = {};\n    saveWordOrderId.containsBool = function(arr, obj) {\n        var i = arr.length;\n        while (i--) {\n            if (arr[i] === obj) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    saveWordOrderId.containsIndexTwo = function(arr, obj) {\n        var i = arr.length;\n        while (i--) {\n            if (arr[i].accountName === obj) {\n                return i;\n            }\n        }\n    }\n    saveWordOrderId.containsIndex = function(arr, obj, name) {\n        var i = arr.length;\n        while (i--) {\n            if (arr[i].name === obj) {\n                return i;\n            }\n        }\n    }\n    saveWordOrderId.isEmpty = function(arr) {\n        return arr ? arr.workOrderArray.length > 0 : false;\n    }\n\n    saveWordOrderId.arrSize = function(arr) {\n        return arr.workOrderArray.length;\n    }\n\n    saveWordOrderId.getId = function(arr, i) {\n        return arr.workOrderArray[i];\n    }\n\n    saveWordOrderId.addArray = function(workOrderArray) {\n        addIdService.create(workOrderArray);\n    }\n\n    saveWordOrderId.deleteArray = function() {\n        addIdService.destroy();\n    }\n\n    saveWordOrderId.getWorkOrderArray = function() {\n        return addIdService;\n    };\n    return saveWordOrderId;\n}])","angular.module('BaiYin.common.savePopShowFrist', [])\n\n.service('savePopShowFrist', [function() {\n    this.popShowBlr = false;\n    this.create = function(popShowBlr) {\n        this.popShowBlr = popShowBlr;\n    };\n     this.destroy = function(popShowBlr) {\n        this.popShowBlr = popShowBlr;\n    };\n    return this;\n}])\n\n.factory('SavePopShowFristService', ['savePopShowFrist', function(savePopShowFrist) {\n    var savePopShowFristExample = {};\n\n    savePopShowFristExample.setPopShowBlr = function(popShowBlr) {\n        savePopShowFrist.create(popShowBlr);\n    }\n\n    savePopShowFristExample.getPopShowBlr = function() {\n        return savePopShowFrist;\n    };\n    return savePopShowFristExample;\n}])","angular.module('BaiYin.common.saveType', [])\n\n.service('saveType', [function() {\n    this.addIndexType = '0';\n    this.addHistoryType = '0';\n    this.createIndexType = function(addIndexType) {\n        this.addIndexType = addIndexType;\n    };\n    this.createHistoryType = function(addHistoryType) {\n        this.addHistoryType = addHistoryType;\n    };\n\n    this.distory = function() {\n        this.addIndexType = '0';\n        this.addHistoryType = '0';\n    }\n    return this;\n}])\n\n.factory('SaveTypeService', ['saveType', function(saveType) {\n    var saveTypeExample = {};\n\n    saveTypeExample.addIndexType = function(addIndexType) {\n        saveType.createIndexType(addIndexType);\n    }\n\n    saveTypeExample.getIndexType = function() {\n        return saveType.addIndexType;\n    };\n\n    saveTypeExample.addHistoryType = function(addHistoryType) {\n        saveType.createHistoryType(addHistoryType);\n    }\n\n    saveTypeExample.getHistoryType = function() {\n        return saveType.addHistoryType;\n    };\n\n    saveTypeExample.distory = function() {\n        saveType.distory();\n    }\n\n    return saveTypeExample;\n}])","angular.module('BaiYin.common.saveVersion', [])\n\n.service('saveVersion', [function() {\n    this.versionData = null;\n    this.create = function(versionData) {\n        this.versionData = versionData;\n    };\n    this.destroy = function() {\n        this.versionData = null;\n    };\n    return this;\n}])","angular.module('BaiYin.common.showAlert', ['ionic', 'ionic-toast'])\n\n    .service('showAlert', ['$ionicPopup','ionicToast', function ($ionicPopup,ionicToast) {\n       /* if(!isApp){*/\n            this.showMsg = function (error, title, template, okText) {\n                if (error.msg) {\n                    ionicToast.show(error.msg,'top',false,3000);\n                } else {\n                    ionicToast.show(template,'top',false,3000);\n                    //$cordovaToast.showShortBottom(template);\n                    // showAlert(title, template, okText)\n                }\n            };\n        /*}else{\n            this.showMsg = function (error, title, template, okText) {\n                var showAlert = function (title, template, okText) {\n                    var alertPopup = $ionicPopup.alert({\n                        title: title,\n                        okText: okText,\n                        template: template\n                    });\n                    alertPopup.then(function (res) {\n                    });\n                };\n                if (error.msg) {\n                    showAlert(title, error.msg, okText)\n                } else {\n                    showAlert(title, template, okText)\n                }\n            };\n        }*/\n\n        return this;\n    }])","angular\r\n    .module('BaiYin.erp', [\r\n        'ionic',\r\n        'BaiYin.erp.details',\r\n        'BaiYin.erp.my'\r\n    ])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('erp', {\r\n            url: '/erp',\r\n            controller: 'erpController',\r\n            templateUrl: 'erp/erp.tpl.html',\r\n            cache: true,\r\n            authorizedRuleType: ['1'],\r\n            params: { item: null }\r\n        })\r\n    }])\r\n    .controller('erpController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', 'ionicDatePicker',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup,  ionicDatePicker) {\r\n            //页码\r\n            $scope.pageIndex = 1;\r\n            //是否还有数据可以加载\r\n            $scope.hasMore = true;\r\n            //待办列表\r\n            $scope.todoList = new Array();\r\n            //进入页面\r\n            $scope.$on('$ionicView.enter', function () {\r\n                $scope.pageIndex = 1;\r\n                $scope.hasMore = true;\r\n                $scope.todoList = new Array();\r\n                $scope.getTodoList();\r\n            });\r\n            //审批\r\n            $scope.toDetailsPage = function(data){\r\n                $state.go('erpDetails', {item: {data: data, type: \"approve\"}});\r\n            };\r\n            //我申请的\r\n            $scope.toMyApplyPage = function () {\r\n                $state.go('erpMy', {item: {index: 0}}, {reload: true});\r\n            };\r\n            //我审批的\r\n            $scope.toMyJudgePage = function () {\r\n                $state.go('erpMy', {item: {index: 1}}, {reload: true});\r\n            };\r\n            //待办列表\r\n            $scope.getTodoList = function(){\r\n                loadingAnimation.showLoading('加载中...', 'loding', 0);\r\n                $http\r\n                    .post(\"ServiceName=ErpService&TransName=getTodoList\", {pageIndex: $scope.pageIndex++})\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if(res.code == 0){\r\n                            if(res.data.length == 0){\r\n                                $scope.hasMore = false;\r\n                            }else{\r\n                                $scope.todoList = $scope.todoList.concat(res.data.map(function(v, i){\r\n                                    v.MSG_INFO = v.MSG_INFO ? v.MSG_INFO.replace(/\\n/g, \"<br/>\") : \"\";\r\n                                    return v;\r\n                                }));\r\n                            }\r\n                        }else{\r\n                            showAlert.showMsg(res, '', '', '确认');\r\n                        }\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                    }, function (error) {\r\n                        $scope.hasMore = false;\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            };\r\n        }\r\n    ]);","angular.module('BaiYin.facilityInfo', [\r\n    'ionic',\r\n])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('facilityInfo', {\r\n            url: '/facilityInfo',\r\n            controller: 'facilityInfoController',\r\n            templateUrl: 'facilityInfo/facilityInfo.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('facilityInfoController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', 'ionicDatePicker','$cordovaBarcodeScanner',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, ionicDatePicker,$cordovaBarcodeScanner) {\r\n            $scope.$on('$ionicView.afterEnter', function() {\r\n\r\n            });\r\n            $scope.$on('$ionicView.leave', function() {\r\n\r\n            });\r\n            $scope.toScanCode = function () {\r\n                $cordovaBarcodeScanner.scan()\r\n                    .then(function (barcodeData) {\r\n                        $scope.barcodeDataText = barcodeData.text;\r\n                        $scope.barcodeData = eval(\"(\" + $scope.barcodeDataText + \")\");\r\n                        // localStorage.remove(\"scanList\");\r\n                        $scope.scanInfo($scope.barcodeData.MCH_CODE, $scope.barcodeData.CONTRACT);\r\n                    }, function (error) {\r\n\r\n                    });\r\n            }\r\n            $scope.scanInfo=function (MCH_CODE,CONTRACT) {\r\n                var obj = {\"MCH_CODE\":MCH_CODE,\"CONTRACT\":CONTRACT}\r\n                localStorage.setItem(\"scanList\",JSON.stringify(obj));\r\n                $state.go('facilityInfoScan');\r\n\r\n            }\r\n        }\r\n    ])\r\n","angular.module('BaiYin.facilityInfoA', [\r\n    'BaiYin.facilityInfo',\r\n    'BaiYin.facilityInfoScan',\r\n    'BaiYin.InspectionRecord',\r\n    'BaiYin.InspectionRecordDetail',\r\n])","angular.module('BaiYin.companyNewsDetails', [])\n\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('companyNewsDetails', {\n            url: 'companyNewsDetails',\n            controller: 'companyNewsDetailsController',\n            templateUrl: 'companyNewsDetails/companyNewsDetails.tpl.html',\n            cache: 'false',\n            params: { 'item': null, msg: null },\n            authorizedRuleType: ['1', '0']\n        })\n    }])\n\n    .controller('companyNewsDetailsController', ['$scope', '$timeout', '$http', '$location', '$anchorScroll', '$stateParams', 'pageInitService', '$ionicPopup',\n        function($scope, $timeout, $http, $location, $anchorScroll, $stateParams, pageInitService, $ionicPopup) {\n            //评论显示隐藏\n            if($stateParams.item.whichNew==7){\n                $scope.reviewShow=true;\n            };\n            /*var apis = [\n                'ServiceName=CMSService&TransName=getContentDetail&ID=' + $stateParams.item.ID,\n                \"ServiceName=CMSService&TransName=getPraiseList&ID=\" + $stateParams.item.ID,\n              \"ServiceName=CMSService&TransName=getCommentsList&ID=\" + $stateParams.item.ID\n              ];*/\n            var apis = [\n                'ServiceName=CMSService&TransName=getContentDetail&ID=' + $stateParams.item.ID\n              ];\n            pageInitService.pageInit(apis).then(function(result) {\n                $scope.data = result[0].data;\n\n                // $scope.contMsg = result[1].data;\n                // $scope.comments=result[2].data;\n                $scope.data.PUBDATE = new Date($scope.data.PUBDATE)\n                $scope.title = $stateParams.item;\n                $scope.gsxw = $scope.title.CANAME;\n            }, function(error) {\n                if (error.msg) {\n                    $scope.showAlert('', error.msg, '确认');\n                } else {\n                    $scope.showAlert('', error, '确认');\n                }\n            });\n            $scope.showAlert = function(title, template, okText) {\n                var alertPopup = $ionicPopup.alert({\n                    title: title,\n                    okText: okText,\n                    template: template\n                });\n                alertPopup.then(function(res) {});\n            };\n           /* //回复\n            $scope.replyMsg = function(res) {\n                $scope.pingLunMsg = false;\n                $scope.backName = res;\n                $scope.replyContMsg = true;\n                $timeout(function() {\n                    var oflel = document.getElementById(\"borrom\");\n                    oflel.scrollIntoView(false);\n                })\n\n            };\n            $scope.cancleBtn2 = function() {\n                $scope.replyContMsg = false;\n            };\n            //回复\n            $scope.replyBtn2 = function(getId,getHuiMsg) {\n                var huiParam={\n                    ID:$stateParams.item.ID,\n                    comments:getHuiMsg,\n                    PingLunID:getId.id\n               };\n                $http.post(\"ServiceName=CMSService&TransName=doComments\",huiParam)\n                    .then(function(res) {\n                        $scope.replyContMsg = false;\n                        $scope.showAlert('', res.msg, '确认');\n                        reviewDetail();\n                    }, function(error) {\n                        $scope.showAlert('', error.msg, '确认');\n                    });\n            };\n            //查询评论的详情\n            function reviewDetail() {\n                $http.get(\"ServiceName=CMSService&TransName=getCommentsList&ID=\" + $stateParams.item.ID)\n                    .then(function(res) {\n                        $scope.comments = res.data;\n                    }, function(error) {\n                        $scope.showAlert('', error.msg, '确认')\n                    });\n            };\n            //查询点赞\n            function pingDetail() {\n                $http.get(\"ServiceName=CMSService&TransName=getPraiseList&ID=\" + $stateParams.item.ID)\n                    .then(function(res) {\n                        $scope.contMsg = res.data;\n                    }, function(error) {\n                        $scope.showAlert('', error.msg, '确认')\n                    });\n            };\n            //点赞\n            $scope.likeM = function(needId) {\n                console.log(needId);\n                $http.get(\"ServiceName=CMSService&TransName=doPraise&ID=\"+$stateParams.item.ID)\n                    .then(function(res) {\n                          $scope.showAlert('', res.msg, '确认');\n                          pingDetail();\n                    }, function(error) {\n                        $scope.showAlert('', error.msg, '确认');\n                    });\n            };\n            //评论\n            $scope.reviewM = function() {\n                $scope.replyContMsg = false;\n                $scope.pingLunMsg = !$scope.pingLunMsg;\n            };\n            //发表评论\n            $scope.publishBtn = function(res) {\n                var pinParam={\n                    ID:$stateParams.item.ID,\n                    comments:res,\n                    PingLunID:\"0\"\n                };\n                 $http.post(\"ServiceName=CMSService&TransName=doComments\",pinParam)\n                     .then(function(res) {\n                         $scope.pingLunMsg=false;\n                         $scope.showAlert('', res.msg, '确认');\n                         reviewDetail();\n                     }, function(error) {\n                         $scope.showAlert('', error.msg, '确认');\n                     });\n            };\n            //发表取消\n            $scope.cancleBtn1 = function() {\n                $scope.pingLunMsg = false;\n            };\n            //锚点\n            $scope.toView = function(module) {\n\n                //移动到锚点  \n            };\n*/\n\n        }\n    ])","angular.module('BaiYin.KPI', [\n    'BaiYin.KPI.mock',\n])\n    .run(function ($ionicPlatform) {\n        $ionicPlatform.ready(function () {\n            // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard\n            // for form inputs)\n            if (window.cordova && window.cordova.plugins.Keyboard) {\n                cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\n            }\n            if (window.StatusBar) {\n                StatusBar.styleDefault();\n            }\n        });\n    })\n    .config(['$stateProvider', function ($stateProvider) {\n        $stateProvider.state('KPI', {\n            url: '/KPI',\n            controller: 'KPIController',\n            templateUrl: 'KPI/KPI.tpl.html',\n            cache: 'true',\n            authorizedRuleType: ['1']\n        })\n    }])\n\n    .controller('KPIController', ['$scope', '$ionicActionSheet', 'loadingAnimation', 'showAlert', 'pageInitService', '$http', '$state',\n        function ($scope, $ionicActionSheet, loadingAnimation, showAlert, pageInitService, $http, $state) {\n\n            $scope.$on('$ionicView.afterEnter', function () {\n                initLoad();\n            });\n            var dataText;\n\n            //初始化指标\n            var buttons = [];\n            var commitDate = '';\n            function initLoad() {\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\n                $http.post('ServiceName=TargetService&TransName=listOpeProgramIndexRepCompany&REPORT_ID='+commitDate)\n                    .then(function (res) {\n                        loadingAnimation.hideLoading();\n                        initChartList();\n                        if (res.code == '0') {\n                            $scope.dateList = res.data.dList;\n                            $scope.daylist = res.data.dayList;\n                            $scope.allm = res.data.allm;\n                            $scope.dateStr = res.data.dateStr;\n                            buttons = [];\n                            for (var i = 0; i < $scope.dateList.length; i++) {\n                                var dtext = {};\n                                dtext.text = $scope.dateList[i];\n                                buttons.push(dtext);\n                            }\n\n                        } else {\n                            showAlert.showMsg(res.msg);\n\n                        }\n\n                    }, function (error) {\n                        loadingAnimation.hideLoading();\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                    });\n\n            }\n\n            /**\n             * 初始化图数据，此时不需要加载提示\n             */\n            function initChartList() {\n                $http.post('ServiceName=TargetService&TransName=listOpeProgramIndexRepCompanyChart&REPORT_ID='+commitDate)\n                    .then(function (res) {\n                        if (res.code == '0') {\n                            draw(res.data.chartList);\n                        } else {\n                            showAlert.showMsg(res.msg);\n                        }\n                    }, function (error) {\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                    });\n\n            }\n\n\n            //点击日期选择\n            $scope.openPopover = function () {\n                var hideSheet = $ionicActionSheet.show({\n                    buttons: buttons,\n                    /*titleText: '选择日期',\n                    cancelText: '取消',*/\n                    cancel: function () {\n                        // add cancel code..\n                    },\n                    buttonClicked: function (index) {\n                        commitDate = buttons[index].text;\n                        initLoad();\n                        return true;\n                    }\n                });\n            };\n            //点击返回\n            $scope.goBack = function () {\n                $state.go('tabs/homePage');\n            };\n\n            /**\n             * 绘制图\n             * @param dayPower\n             */\n            function draw(dayPower) {\n                var option = {\n                    title: {\n                        subtext: '万KW·h'\n                    },\n                    tooltip: {\n                        trigger: 'item',\n                        formatter: function (params) {\n                            var date = new Date(params.value[0]);\n                            data = date.getFullYear() + '-'\n                                + (date.getMonth() + 1) + '-'\n                                + date.getDate();\n                            return data + '<br/>'\n                                + params.value[1];\n                        }\n                    },\n                    toolbox: {\n                        show: false,\n                        feature: {\n                            mark: {show: true},\n                            dataView: {show: true, readOnly: false},\n                            restore: {show: true},\n                            saveAsImage: {show: true}\n                        }\n                    },\n                    dataZoom: {\n                        show: false,\n                        start: 0\n                    },\n                    legend: {\n                        data: ['实际']\n                    },\n                    grid: {\n                        y2: 80\n                    },\n                    xAxis: [\n                        {\n                            type: 'time',\n                            splitNumber: 10,\n                            axisLabel: {\n                                formatter: function (params) {\n                                    var date = new Date(params);\n                                    var data = date.getDate();\n                                    return data;\n                                }\n                            }\n\n                        }\n                    ],\n                    yAxis: [\n                        {\n                            type: 'value'\n                        }\n                    ],\n                    series: [\n                        {\n                            name: '实际',\n                            type: 'line',\n                            smooth: false,\n                            /*symbol: 'none',*/\n                            showAllSymbol: true,\n                            /*symbolSize: function (value) {\n                                return Math.round(value[2] / 10) + 2;\n                            },*/\n                            data: (function () {\n                                var d = [];\n                                for (var v in dayPower) {\n                                    d.push([\n                                        new Date(dayPower[v].REPORT_ID),\n                                        dayPower[v].DAY_ELE_AMOUNT\n                                    ]);\n                                }\n                                return d;\n                            })()\n                        }\n                    ]\n                };\n                // console.log(\"$scope.id==\"+$scope.id);\n                var myChart = echarts.init(document.getElementById('main1'), 'macarons');\n                myChart.setOption(option);\n            }\n\n        }\n\n    ]).directive('line1', function () {\n    return {\n        scope: {\n            id: \"@\",\n            legend: \"=\",\n            item: \"=\",\n            data: \"=\"\n        },\n        restrict: 'E',\n        template: '<div style=\"height:350px;\"></div>',\n        replace: true,\n        link: function ($scope, element, attr, ctr) {\n            // $scope.$parent.initChart($scope);\n        }\n    };\n});\n","angular.module('BaiYin.KPI.mock', [\n    'ngMockE2E', 'BaiYin.common.mocksData'\n])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.KPIs', [\n    'BaiYin.KPI',\n    'BaiYin.KPIdetail'\n])","var app = angular.module('BaiYin.News', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('News', {\r\n            url: '/News',\r\n            controller: 'NewsController',\r\n            templateUrl: 'News/News.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('NewsController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams',\r\n\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams) {\r\n            var id = $stateParams.item;\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                var localid = localStorage.getItem('id');\r\n                console.log(\"id==\" + id + \"缓存localid==\" + localid);\r\n                $scope.title = '';\r\n                if (id == null && localid != null) {\r\n                    id = localid;\r\n                }\r\n                if (id != localid && localid != null) {\r\n                    id = localid;\r\n                }\r\n                //获取标题名称\r\n                if (id == 7) {\r\n                    $scope.title = '公司新闻'\r\n                }\r\n                if (id == 31) {\r\n                    $scope.title = '通知公告'\r\n                }\r\n                if (id == 32) {\r\n                    $scope.title = '公司发文'\r\n                }\r\n                getNews(id);\r\n            });\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                localStorage.removeItem(\"id\");\r\n            });\r\n            //列表文字显示的宽度\r\n            $scope.newslistLi = {width: '' + screen.width - 110 + 'px'};\r\n\r\n            //获取列表\r\n            function getNews(id) {\r\n                $scope.hasMore = false;\r\n                loadingAnimation.showLoading('加载中...', 'loding', 0);\r\n                $http.post('ServiceName=CMSService&TransName=getContentlList&PageNo=1&ID=' + id + '&PageCnt=10')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.newslist = res.data;\r\n                        //console.log(\"res==\" + JSON.stringify(res.data));\r\n                        for (var i = 0; i < $scope.newslist.length; i++) {\r\n                            $scope.newslist[i].PUBDATE = new Date($scope.newslist[i].PUBDATE.replace(/-/g, \"/\"));\r\n                        }\r\n                        if ($scope.newslist.length >= 10) {\r\n                            $scope.hasMore = true;\r\n                        } else {\r\n                            $scope.newslist = [];\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            };\r\n            //加载更多\r\n            $scope.hasMore = false;\r\n            $scope.number = 1;\r\n            $scope.loadMore = function () {\r\n                $scope.number += 1;\r\n                console.log(\"loadMore===\" + \"$scope.number==\" + $scope.number);\r\n                $http.post('ServiceName=CMSService&TransName=getContentlList&ID=7&PageNo=' + $scope.number + \"&PageCnt=10\")\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.newslist1 = res.data;\r\n                        for (var i = 0; i < $scope.newslist1.length; i++) {\r\n                            $scope.newslist1[i].PUBDATE = new Date($scope.newslist1[i].PUBDATE.replace(/-/g, \"/\"));\r\n                            $scope.newslist.push($scope.newslist1[i]);\r\n                        }\r\n                        if ($scope.newslist.length < 10) {\r\n                            $scope.hasMore = false;\r\n                        }\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n            $scope.toDetail = function (item) {\r\n                localStorage.setItem('id', id);\r\n                $state.go('companyNewsDetails', {'item': item, 'msg': $scope.gsxw})\r\n            }\r\n        }\r\n\r\n    ])\r\n","var app = angular.module('BaiYin.load', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('load', {\r\n            url: '/load',\r\n            controller: 'loadController',\r\n            templateUrl: 'load/load.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n    //echarts directive\r\n\r\n    .controller('loadController', ['$timeout','$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval','$ionicTabsDelegate',\r\n        function ($timeout,$scope, showAlert, loadingAnimation, $http, $state, $interval,$ionicTabsDelegate) {\r\n        var type={type:'T',name:'全厂'};\r\n        var nrefresh=true;\r\n        //点击近一小时数据\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                nrefresh=true;\r\n                //处理刷新\r\n                if(localStorage.getItem(\"backToLoad\")){\r\n                    nrefresh=false;\r\n                }\r\n                localStorage.removeItem(\"backToLoad\");\r\n                if(nrefresh){\r\n                    $ionicTabsDelegate.select(0);\r\n                    initLoad();\r\n                    startInterval();\r\n                    type={type:'T',name:'全厂'};\r\n                }\r\n            });\r\n            $scope.$on('$ionicView.leave',function () {\r\n                stopInterval();\r\n            });\r\n            $scope.toNearHour = function () {\r\n                localStorage.setItem(\"backToLoad\",\"1\");\r\n                $state.go('load/nearlyHour',{'type':type});\r\n            };\r\n            //历史日负荷\r\n            $scope.goHistoryInfo = function () {\r\n                localStorage.setItem(\"backToLoad\",\"1\");\r\n                $state.go('load/historyInfo',{'type':type});\r\n            };\r\n            //全场请求数据\r\n            $scope.toQcData = function () {\r\n                $ionicTabsDelegate.select(0);\r\n                initLoad();\r\n                startInterval();\r\n                type={type:'T',name:'全厂'};\r\n            }\r\n            //甘肃数据请求\r\n            $scope.toGsData = function (){\r\n                type={type:'GS',name:'甘'};\r\n                $ionicTabsDelegate.select(1);\r\n                stopInterval();\r\n                GSData();\r\n            }\r\n            //青海数据请求\r\n            $scope.toQhData = function () {\r\n                type={type:'QH',name:'青'};\r\n                $ionicTabsDelegate.select(2);\r\n                stopInterval();\r\n                $scope.proviceChart($scope,'QH');\r\n                // QHData();\r\n            }\r\n            //宁夏数据请求\r\n            $scope.toNxData = function () {\r\n                type={type:'NX',name:'宁'};\r\n                $ionicTabsDelegate.select(3);\r\n                stopInterval();\r\n                // NXData();\r\n                $scope.proviceChart($scope,'NX');\r\n            }\r\n            //新疆数据请求\r\n            $scope.toXjData = function () {\r\n                type={type:'XJ',name:'新'};\r\n                $ionicTabsDelegate.select(4);\r\n                stopInterval();\r\n                XJData();\r\n            }\r\n            /**\r\n             * 初始化负荷\r\n             */\r\n            function initLoad() {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=TargetService&TransName=totalLoad')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        initQc();\r\n                        if (res.code == '0') {\r\n                            $scope.fcLoad = res.data.load;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            /**\r\n             * 开启定时器,五分钟执行一次\r\n             */\r\n            function startInterval() {\r\n                $scope.timer = $interval(function(){\r\n                    initLoad();\r\n                },3000*60);\r\n            }\r\n            //关闭定时器\r\n            function stopInterval(){\r\n                $interval.cancel($scope.timer);\r\n            }\r\n\r\n            /**\r\n             * 初始化全厂负荷\r\n             */\r\n            function initQc() {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=TargetService&TransName=getTargetIndexLoad')\r\n                    .then(function (res) {\r\n                        $scope.initChart($scope);\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == '0') {\r\n                            $scope.totalLoad = res.data;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            /**\r\n             * 获取甘肃数据\r\n             * @constructor\r\n             */\r\n            function GSData(){\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=TargetService&TransName=gsLoad')\r\n                    .then(function (res) {\r\n                        $scope.proviceChart($scope,'GS');\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == '0') {\r\n                            $scope.gsLoad = res.data.gsLoad;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            /**\r\n             * 获取青海数据\r\n             * @constructor\r\n             */\r\n            function QHData(){\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=TargetService&TransName=qhLoad')\r\n                    .then(function (res) {\r\n                        $scope.proviceChart($scope,'QH');\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == '0') {\r\n                            $scope.qhLoad = res.data.qhLoad;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            /**\r\n             * 获取宁夏数据\r\n             * @constructor\r\n             */\r\n            function NXData(){\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=TargetService&TransName=nxLoad')\r\n                    .then(function (res) {\r\n                        $scope.proviceChart($scope,'NX');\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == '0') {\r\n                            $scope.nxLoad = res.data.nxLoad;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            /**\r\n             * 获取新疆数据\r\n             * @constructor\r\n             */\r\n            function XJData(){\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=TargetService&TransName=xjLoad')\r\n                    .then(function (res) {\r\n                        $scope.proviceChart($scope,'XJ');\r\n                        loadingAnimation.hideLoading();\r\n                        console.log(res);\r\n                        if (res.code == '0') {\r\n                            $scope.xjLoad = res.data.xjLoad;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            /**\r\n             * 实现柱状图\r\n             */\r\n            $scope.initChart = function ($scope) {\r\n                console.log(\"enter into ===\");\r\n                // $scope.legend = [\"昨日\", \"今日\"];\r\n                // $scope.item = [\"0\",\"2\",\"4\",\"6\",\"8\",\"10\",\"12\",\"14\",\"16\",\"18\",\"20\",\"22\"];\r\n                /*$scope.data = [\r\n                    [62.675,89.943,89.707,102.094,118.099,120.428],\r\n                    [143.07899,156.67999,139.283,118.086,96.066,80.908]\r\n                ];*/\r\n\r\n                $http.get('ServiceName=TargetService&TransName=totalHoursLoad')\r\n                    .then(function (res) {\r\n                        if (res.code == '0') {\r\n                            $(\"#tdes\").text(res.data.dateStr);\r\n                            draw($scope, res.data.yestLoad, res.data.todayLoad, res.data.dateStr,'');\r\n                            // $scope.item = [\"0\",\"2\",\"4\",\"6\",\"8\",\"10\"];\r\n                            /* $scope.data = [\r\n                                 [62.675,89.943,89.707,102.094,118.099,120.428],\r\n                                 [143.07899,156.67999,139.283,118.086,96.066,80.908]\r\n                             ];*/\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                        //进行line绘制\r\n\r\n                    });\r\n            };\r\n            /**\r\n             * 实现各个省的走势图\r\n             */\r\n            $scope.proviceChart = function ($scope,type) {\r\n                console.log(\"enter into ===chartGqnxLoad\");\r\n                // $scope.legend = [\"昨日\", \"今日\"];\r\n                // $scope.item = [\"0\",\"2\",\"4\",\"6\",\"8\",\"10\",\"12\",\"14\",\"16\",\"18\",\"20\",\"22\"];\r\n                /*$scope.data = [\r\n                    [62.675,89.943,89.707,102.094,118.099,120.428],\r\n                    [143.07899,156.67999,139.283,118.086,96.066,80.908]\r\n                ];*/\r\n\r\n                $http.get('ServiceName=TargetService&TransName=chartGqnxLoad')\r\n                    .then(function (res) {\r\n                        if (res.code == '0') {\r\n                            $scope.timeDes=res.data.dateStr;\r\n                            var yestoday = [];\r\n                            for (var v in res.data.yestLoad) {\r\n                                yestoday.push(res.data.yestLoad[v].TOTAL_POWER);\r\n                            }\r\n                            var today = [];\r\n                            for (var v in res.data.todayLoad) {\r\n                                today.push(res.data.todayLoad[v].TOTAL_POWER);\r\n                            }\r\n                            draw($scope, res.data.yestLoad, res.data.todayLoad, res.data.dateStr,type);\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                        //进行line绘制\r\n\r\n                    });\r\n            };\r\n            /**\r\n             *\r\n             * @param $scope\r\n             * @param yestoday\r\n             * @param today\r\n             * @param dateStr\r\n             */\r\n            function draw($scope, yestoday, today, dateStr,type) {\r\n                dateStr=dateStr.replace(/\\-/g,'/');\r\n\r\n                console.log(\"dateStr==\"+new Date(dateStr+\" 00:00\"));\r\n                var option = {\r\n                    title: {\r\n                        subtext: 'MW'\r\n                    },\r\n                    tooltip: {\r\n                        trigger: 'item',\r\n                        formatter: function (params) {\r\n                            var date = new Date(params.value[0]);\r\n                            data = date.getHours() + ':'\r\n                                + date.getMinutes();\r\n                            return data + '<br/>'\r\n                                + params.value[1];\r\n                        }\r\n                    },\r\n                    toolbox: {\r\n                        show: false,\r\n                        feature: {\r\n                            mark: {show: true},\r\n                            dataView: {show: true, readOnly: false},\r\n                            restore: {show: true},\r\n                            saveAsImage: {show: true}\r\n                        }\r\n                    },\r\n                    dataZoom: {\r\n                        show: false,\r\n                        start: 0\r\n                    },\r\n                    legend: {\r\n                        data: ['昨天', '今天']\r\n                    },\r\n                    grid: {\r\n                        y2: 80\r\n                    },\r\n                    xAxis: [\r\n                        {\r\n                            type: 'time',\r\n                            splitNumber: 12,\r\n                            axisLabel: {\r\n                                formatter: function (params) {\r\n                                    var date = new Date(params);\r\n                                    var data = date.getHours();\r\n                                    if (data == '23') {\r\n                                        data = '24';\r\n                                    }\r\n                                    return data;\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    ],\r\n                    yAxis: [\r\n                        {\r\n                            type: 'value'\r\n                        }\r\n                    ],\r\n                    series: [\r\n                        {\r\n                            name: '昨天',\r\n                            type: 'line',\r\n                            smooth: false,\r\n                            symbol: 'none',\r\n                            showAllSymbol: false,\r\n                            symbolSize: function (value) {\r\n                                return Math.round(value[2] / 10) + 2;\r\n                            },\r\n                            data: (function () {\r\n                                var d = [];\r\n                                for (var v in yestoday) {\r\n                                    d.push([\r\n                                        new Date(dateStr + \" \" + yestoday[v].OCCUR_TIME),\r\n                                        type==''||type==undefined?\r\n                                            (((yestoday[v].TOTAL_POWER - 0) < 0 ? 0 : ((yestoday[v].TOTAL_POWER - 0) > 999) ? 999 : yestoday[v].TOTAL_POWER)):\r\n                                            (((yestoday[v][type+'_POWER'] - 0) < 0 ? 0 : ((yestoday[v][type+'_POWER'] - 0) > 999) ? 999 : yestoday[v][type+'_POWER']))\r\n                                    ]);\r\n                                }\r\n                                return d;\r\n                            })()\r\n                        },\r\n                        {\r\n                            name: '今天',\r\n                            type: 'line',\r\n                            smooth: false,\r\n                            symbol: 'none',\r\n                            showAllSymbol: false,\r\n                            symbolSize: function (value) {\r\n                                return Math.round(value[2] / 10) + 2;\r\n                            },\r\n                            data: (function () {\r\n                                var d = [];\r\n                                for (var v in today) {\r\n                                    d.push([\r\n                                        new Date(dateStr + \" \" + today[v].OCCUR_TIME),\r\n                                        type==''||type==undefined?\r\n                                            (((today[v].TOTAL_POWER - 0) < 0 ? 0 : ((today[v].TOTAL_POWER - 0) > 999) ? 999 : today[v].TOTAL_POWER)):\r\n                                            (((today[v][type+'_POWER'] - 0) < 0 ? 0 : ((today[v][type+'_POWER'] - 0) > 999) ? 999 : today[v][type+'_POWER']))\r\n                                    ]);\r\n                                }\r\n                                return d;\r\n                            })()\r\n                        }\r\n                    ]\r\n                };\r\n                var lineId = 'main';\r\n                if(type!=''&&type!=undefined){\r\n                    lineId=type+'main';\r\n                }\r\n                var myChart = echarts.init(document.getElementById(lineId), 'macarons');\r\n                myChart.setOption(option);\r\n            }\r\n        }\r\n\r\n    ])\r\n    .directive('line', function () {\r\n        return {\r\n            scope: {\r\n                id: \"@\",\r\n                legend: \"=\",\r\n                item: \"=\",\r\n                data: \"=\"\r\n            },\r\n            restrict: 'E',\r\n            template: '<div style=\"height:350px;\"></div>',\r\n            replace: true,\r\n            link: function ($scope, element, attr, ctr) {\r\n                // $scope.$parent.initChart($scope);\r\n            }\r\n        };\r\n    });","angular.module('BaiYin.loadA', [\n    'BaiYin.load',\n    'BaiYin.load.nearlyHour',\n    'BaiYin.load.historyInfo',\n])","angular.module('BaiYin.OffLine', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('OffLine', {\r\n            url: '/OffLine',\r\n            controller: 'OffLineController',\r\n            templateUrl: 'OffLine/OffLine.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('OffLineController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', 'ionicDatePicker', '$cordovaBarcodeScanner',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, ionicDatePicker, $cordovaBarcodeScanner) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                $scope.OffLineClocki='';\r\n                $scope.OffLineClockj='';\r\n                $scope.positionHide = true;/*签到*/\r\n                $scope.inputHide = false;/*扫描设备二维码按钮*/\r\n                $scope.searchsBlueHide=false;/*搜索按钮*/\r\n                $scope.osiListHide=false;/*下载列表*/\r\n                $scope.OfflineMyHide=true;/*上传列表*/\r\n                $scope.uanddHide=false;/*下载按钮*/\r\n                $scope.UploadHide=true;/*上传返回*/\r\n                localStorage.setItem('notUp',0);\r\n                $scope.notUp=localStorage.getItem('notUp');\r\n                if(localStorage.getItem(\"OffList\")){\r\n                    var OffList= JSON.parse(localStorage.getItem(\"OffList\"))\r\n                    $scope.patrolRoteListData = OffList;\r\n                }else{\r\n                    $scope.patrolRoteListData=[];\r\n                }\r\n                if(localStorage.getItem(\"OffLineSignList\")){\r\n                    var OffLineSignList= JSON.parse(localStorage.getItem(\"OffLineSignList\"))\r\n                    $scope.OffLineSignIn= OffLineSignList;\r\n                }else{\r\n                    $scope.OffLineSignIn=[];\r\n                }\r\n\r\n                //签到样式\r\n                $scope.identify = {\r\n                    'padding': '5px',\r\n                    'line-height': '35px',\r\n                    'border-radius': '50%',\r\n                    'display': 'inline-block',\r\n                    'float': 'left',\r\n                    'color': '#fff',\r\n                    'margin-right': '10px',\r\n                    'font-size': '12px',\r\n                    'width': '45px',\r\n                    'text-align': 'center'\r\n                }\r\n            });\r\n            //跳转到巡检线路\r\n            $scope.toOsiLine = function (obj) {\r\n                var params = {\r\n                    DESCRIPTION:obj.DESCRIPTION,\r\n                    TEMP_ID:obj.TEMP_ID,\r\n                    START_TIME:obj.START_TIME,\r\n                    END_TIME:obj.END_TIME,\r\n                    INSPECT_TYPE:obj.INSPECT_TYPE,\r\n                    INSPECTED:obj.INSPECTED,\r\n                    INSPECT:obj.INSPECT,\r\n                    childList:obj.childList\r\n                }\r\n                console.log(obj.childList);\r\n                $state.go('OffLine/OffLineDetail',params);\r\n            }\r\n\r\n            /*扫描二维码开始阶段*/\r\n\r\n            //点击扫二维码\r\n            $scope.toScanCode = function () {\r\n                $cordovaBarcodeScanner.scan()\r\n                    .then(function (barcodeData) {\r\n                        $scope.barcodeDataText = barcodeData.text;\r\n                        $scope.barcodeData = eval(\"(\" + $scope.barcodeDataText + \")\");\r\n                        $scope.patrolHome($scope.barcodeData.MCH_CODE, $scope.barcodeData.CONTRACT);\r\n                    }, function (error) {\r\n\r\n                    });\r\n            }\r\n            //获取设备位置和名称\r\n            $scope.patrolHome = function (MCH_CODE, CONTRACT) {\r\n                var OffLinenumber=0;\r\n                for(var i=0;i<$scope.patrolRoteListData.length;i++){\r\n                    var childListOF=$scope.patrolRoteListData[i].childList;\r\n                    for(var j=0;j<childListOF.length;j++){\r\n                        if(childListOF[j].MCH_CODE==MCH_CODE){\r\n                            OffLinenumber++;\r\n                            if(childListOF[j].RECORD_TIME!='' && childListOF[j].RECORD_TIME!=null){\r\n                                continue;\r\n                            }else{\r\n                                if(childListOF[j].IS_MATCH=='TRUE'){\r\n                                    $scope.OFFlineHomeData=childListOF[j];\r\n                                    var OffLinesClocki=i;\r\n                                    var OffLinesClockj=j;\r\n                                    blueToothEnable(childListOF[j].SN_CODE,OffLinesClocki,OffLinesClockj);\r\n                                    return;\r\n                                }else{\r\n                                    $scope.OffLineClocki=i;\r\n                                    $scope.OffLineClockj=j;\r\n                                    $scope.patrolHomeData=childListOF[j];\r\n                                    $scope.inputHide = true;\r\n                                    $scope.osiListHide=true;\r\n                                    $scope.positionHide = false;\r\n                                    $scope.uanddHide=true;\r\n                                    return;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(OffLinenumber=0){\r\n                    showAlert.showMsg('', '', \"没有匹配到巡查路线！\");\r\n                }\r\n            }\r\n            //开启本机蓝牙\r\n            function blueToothEnable(SN_CODE,OffLinesClocki,OffLinesClockj) {\r\n                ble.enable(\r\n                    function () {\r\n                        // alert('开启蓝牙!');\r\n                        scanBlueTooth(SN_CODE,OffLinesClocki,OffLinesClockj);\r\n                    },\r\n                    function () {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(\"\", \"\", \"打开蓝牙失败！\");\r\n                    }\r\n                );\r\n            }\r\n            //扫描蓝牙\r\n            function scanBlueTooth(SN_CODE,OffLinesClocki,OffLinesClockj) {\r\n                loadingAnimation.hideLoading();\r\n                ble.scan([], 5, function (device) {\r\n                        //成功的回调函数\r\n                    // alert(JSON.stringify(device));\r\n                    var SNdeviceID=device.id.replace(new RegExp(/(:)/g),\"\");\r\n                    var scansccode=0;\r\n                        if (SNdeviceID==SN_CODE) {\r\n                            scansccode=scansccode+1;\r\n                            $scope.OffLineClocki=OffLinesClocki;\r\n                            $scope.OffLineClockj=OffLinesClockj;\r\n                            $scope.patrolHomeData=$scope.OFFlineHomeData;\r\n                            $scope.inputHide = true;\r\n                            $scope.osiListHide=true;\r\n                            $scope.positionHide = false;\r\n                            $scope.uanddHide=true;\r\n                        }\r\n                    }, function () {\r\n                        //失败的回调函数\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg('', '', \"未扫描到有效蓝牙！\");\r\n                    }\r\n                );\r\n                if(scansccode==0){\r\n                    showAlert.showMsg('', '', \"该二维码无效！\");\r\n                }\r\n            }\r\n            /*扫描二维码结束阶段*/\r\n\r\n\r\n            /*搜索蓝牙开始阶段*/\r\n\r\n            //点击搜索蓝牙\r\n            $scope.searchsBlueTooth = function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                openblueToothEnable();\r\n            }\r\n            //开启本机蓝牙\r\n            function openblueToothEnable() {\r\n                ble.enable(\r\n                    function () {\r\n                        scansBlueToothnow();\r\n                    },\r\n                    function () {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(\"\",\"\",\"蓝牙未开启\");\r\n                    }\r\n                );\r\n            }\r\n            //扫描蓝牙\r\n            function scansBlueToothnow() {\r\n                $scope.OffToothList = [];\r\n                $scope.timer = $timeout(function () {\r\n                    loadingAnimation.hideLoading();\r\n                    if ($scope.OffToothList.length > 0) {\r\n                        upWindows($scope.OffToothList);\r\n                    } else {\r\n                        showAlert.showMsg('', '', \"未扫描到蓝牙设备\");\r\n                    }\r\n                }, 5000);\r\n                ble.scan([], 5, function (device) {//成功的回调函数\r\n                     getBluesToothList(device);\r\n                    }, function () {\r\n                        //失败的回调函数\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg('', '', \"扫描蓝牙失败\");\r\n\r\n                    }\r\n                );\r\n            }\r\n            //获取蓝牙列表\r\n            function getBluesToothList(device) {\r\n                var Offlinetooth=0;\r\n                var SNID=device.id.replace(new RegExp(/(:)/g),\"\");\r\n                for(var i=0;i<$scope.patrolRoteListData.length;i++){\r\n                    var childListOFs=$scope.patrolRoteListData[i].childList;\r\n                    for(var j=0;j<childListOFs.length;j++){\r\n                        if(childListOFs[j].RECORD_TIME!='' && childListOFs[j].RECORD_TIME!=null){\r\n                            continue;\r\n                        }\r\n                        else{\r\n                            if(childListOFs[j].IS_MATCH_MCH==\"FALSE\" && childListOFs[j].IS_MATCH==\"TRUE\"){\r\n                                if(childListOFs[j].SN_CODE==SNID){\r\n                                    Offlinetooth++;\r\n                                    childListOFs[j].OffLineClocki=i;\r\n                                    childListOFs[j].OffLineClockj=j;\r\n                                    $scope.OffToothList.push(childListOFs[j])\r\n                                }\r\n                            }\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n                if(Offlinetooth=0){\r\n                    showAlert.showMsg('', '', \"未扫描到计划内的蓝牙设备\");\r\n                }\r\n            }\r\n            //弹出页面，显示扫描到的设备\r\n            var searchequipPopup;\r\n            function upWindows(OffToothList) {\r\n                searchequipPopup = $ionicPopup.show({\r\n                    template:'<div>' +\r\n                    '<ul>' +\r\n                    '<li id=\"devices_{{$index}}\" ng-click=\"selectsBlueTooth($index)\" ng-repeat=\"equipTooth in OffToothList track by $index\" ng-style=\"searchPopupli\">' +\r\n                    '{{equipTooth.ADDRESS}}' +\r\n                    '</li>' +\r\n                    '</ul>' +\r\n                    '</div>',\r\n                    title: '扫描到的蓝牙设备',\r\n                    scope: $scope,\r\n                });\r\n            }\r\n            $scope.searchPopupli = {\r\n                \"line-height\": \"35px\",\r\n                \"font-size\": \"12px\",\r\n                \"text-align\": \"center\",\r\n                \"border-bottom\": \"1px dotted #f4f4f4\",\r\n            };\r\n            //点击选择蓝牙设备\r\n            $scope.selectsBlueTooth= function (index) {\r\n                searchequipPopup.close();\r\n                // alert(JSON.stringify($scope.OffToothList))\r\n                $scope.patrolHomeData=$scope.OffToothList[index];\r\n                $scope.OffLineClocki=$scope.OffToothList[index].OffLineClocki;\r\n                $scope.OffLineClockj=$scope.OffToothList[index].OffLineClockj;\r\n                $scope.searchsBlueHide=true;\r\n                $scope.osiListHide=true;\r\n                $scope.positionHide = false;\r\n                $scope.uanddHide=true;\r\n            }\r\n\r\n            /*搜索蓝牙结束阶段*/\r\n\r\n            //首页签到 点击签到事件\r\n            $scope.OffLineSign = function () {\r\n                if($scope.patrolHomeData.INSPECT_TYPE==\"周\"){\r\n                    for(var i=0;i<$scope.patrolRoteListData.length;i++){\r\n                        if($scope.patrolRoteListData[i].INSPECT_TYPE==\"周\"){\r\n                            var LineSignchildren=$scope.patrolRoteListData[i].childList;\r\n                            for(var j=0;j<LineSignchildren.length;j++){\r\n                                if(LineSignchildren[j].RECORD_TIME!='' && LineSignchildren[j].RECORD_TIME!=null){\r\n                                    var nowdate=new Date();\r\n                                    var month = nowdate.getMonth()+ 1;\r\n                                    var strDate = nowdate.getDate();\r\n                                    if (month >= 1 && month <= 9) {\r\n                                        month = \"0\" + month;\r\n                                    }\r\n                                    if (strDate >= 0 && strDate <= 9) {\r\n                                        strDate = \"0\" + strDate;\r\n                                    }\r\n                                    var nowdays=nowdate.getFullYear()+'-'+month+'-'+strDate;\r\n                                    var olddate=LineSignchildren[j].RECORD_TIME.substr(0,10);\r\n                                    if(nowdays==olddate){\r\n                                        showAlert.showMsg('', '', \"执行周巡查计划时间间隔不能小于一天!\");\r\n                                        return false;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                }\r\n                if($scope.patrolHomeData.INSPECT_TYPE==\"月\"){\r\n                    for(var i=0;i<$scope.patrolRoteListData.length;i++){\r\n                        if($scope.patrolRoteListData[i].INSPECT_TYPE==\"月\"){\r\n                            var LineSignchildren=$scope.patrolRoteListData[i].childList;\r\n                            for(var j=0;j<LineSignchildren.length;j++){\r\n                                if(LineSignchildren[j].RECORD_TIME!='' && LineSignchildren[j].RECORD_TIME!=null){\r\n                                    var nowdate=new Date();\r\n                                    var month = nowdate.getMonth()+ 1;\r\n                                    var strDate = nowdate.getDate();\r\n                                    if (month >= 1 && month <= 9) {\r\n                                        month = \"0\" + month;\r\n                                    }\r\n                                    if (strDate >= 0 && strDate <= 9) {\r\n                                        strDate = \"0\" + strDate;\r\n                                    }\r\n                                    var nowdays=nowdate.getFullYear()+'-'+month+'-'+strDate;\r\n                                    var olddate=LineSignchildren[j].RECORD_TIME.substr(0,10);\r\n                                    if(nowdays==olddate){\r\n                                        showAlert.showMsg('', '', \"执行月巡查计划时间间隔不能小于一天!\");\r\n                                        return false;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if($scope.patrolHomeData.INSPECT_TYPE==\"季\"){\r\n                    for(var i=0;i<$scope.patrolRoteListData.length;i++){\r\n                        if($scope.patrolRoteListData[i].INSPECT_TYPE==\"季\"){\r\n                            var LineSignchildren=$scope.patrolRoteListData[i].childList;\r\n                            for(var j=0;j<LineSignchildren.length;j++){\r\n                                if(LineSignchildren[j].RECORD_TIME!='' && LineSignchildren[j].RECORD_TIME!=null){\r\n                                    var nowdate=new Date();\r\n                                    var month = nowdate.getMonth()+ 1;\r\n                                    var strDate = nowdate.getDate();\r\n                                    if (month >= 1 && month <= 9) {\r\n                                        month = \"0\" + month;\r\n                                    }\r\n                                    if (strDate >= 0 && strDate <= 9) {\r\n                                        strDate = \"0\" + strDate;\r\n                                    }\r\n                                    var nowdays=nowdate.getFullYear()+'-'+month+'-'+strDate;\r\n                                    var olddate=LineSignchildren[j].RECORD_TIME.substr(0,10);\r\n                                    if(nowdays==olddate){\r\n                                        showAlert.showMsg('', '', \"执行季巡查计划时间间隔不能小于一天!\");\r\n                                        return false;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if($scope.patrolHomeData.INSPECT_TYPE==\"日\"){\r\n                    for(var i=0;i<$scope.patrolRoteListData.length;i++){\r\n                        if($scope.patrolRoteListData[i].INSPECT_TYPE==\"日\"){\r\n                            var LineSignchildren=$scope.patrolRoteListData[i].childList;\r\n                            for(var j=0;j<LineSignchildren.length;j++){\r\n                                if(LineSignchildren[j].RECORD_TIME!='' && LineSignchildren[j].RECORD_TIME!=null){\r\n                                    var olddate=LineSignchildren[j].RECORD_TIME;\r\n                                    var timestamp =parseInt(new Date(olddate).getTime()/1000);\r\n                                    var nowdates=parseInt(new Date().getTime()/1000);\r\n                                    if((nowdates-timestamp)<7200){\r\n                                        showAlert.showMsg('', '', \"执行日巡查计划时间间隔不能小于两小时!\");\r\n                                        return false;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                var params = {\r\n                    BLUETOOTH_SERIAL_NO:$scope.patrolHomeData.BLUETOOTH_SERIAL_NO,\r\n                    LOCATION_DESCRIPTION:$scope.patrolHomeData.ADDRESS,\r\n                    IS_MATCH:$scope.patrolHomeData.IS_MATCH,\r\n                    PLAN_ID:$scope.patrolHomeData.PLAN_ID,\r\n                    EQUIP_NO:$scope.patrolHomeData.MCH_CODE,\r\n                    CONTRACT:$scope.patrolHomeData.CONTRACT,\r\n                    MCH_NAME:$scope.patrolHomeData.MCH_NAME,\r\n                    DESCRIPTION:$scope.patrolHomeData.DESCRIPTION,\r\n                    RECORD_TIME:getNowFormatDate(),\r\n                    IS_sign:false,\r\n                }\r\n                if(typeof $scope.OffLineClockj === \"undefined\" || $scope.OffLineClockj === null || $scope.OffLineClockj === \"\"){\r\n\r\n                }else{\r\n                    for(var i=0;i<$scope.patrolRoteListData.length;i++){\r\n                        if($scope.patrolRoteListData[i].INSPECT_TYPE==$scope.patrolHomeData.INSPECT_TYPE){\r\n                            $scope.patrolRoteListData[i].INSPECTED=parseInt($scope.patrolRoteListData[i].INSPECTED)+1;\r\n                        }\r\n                        for(var j=0;j<$scope.patrolRoteListData[$scope.OffLineClocki].childList.length;j++){\r\n                            if(j==$scope.OffLineClockj){\r\n                                $scope.patrolRoteListData[$scope.OffLineClocki].childList[$scope.OffLineClockj].RECORD_TIME=getNowFormatDate();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                localStorage.setItem(\"OffList\",JSON.stringify($scope.patrolRoteListData));\r\n                $scope.OffLineSignIn.push(params);\r\n                localStorage.setItem(\"OffLineSignList\",JSON.stringify($scope.OffLineSignIn));\r\n                showAlert.showMsg('', '', \"离线签到成功,请及时到有网的地方上传!\");\r\n                $scope.positionHide = true;\r\n                $scope.inputHide = false;\r\n                $scope.searchsBlueHide=false;\r\n                $scope.osiListHide=false;\r\n                $scope.uanddHide=false;\r\n\r\n            }\r\n            /**\r\n             * @author:Grant\r\n             * @remark:获取当前时间\r\n             * @return:datetime\r\n             */\r\n            function getNowFormatDate() {\r\n                var date = new Date();\r\n                var seperator1 = \"-\";\r\n                var seperator2 = \":\";\r\n                var month = date.getMonth() + 1;\r\n                var strDate = date.getDate();\r\n                if (month >= 1 && month <= 9) {\r\n                    month = \"0\" + month;\r\n                }\r\n                if (strDate >= 0 && strDate <= 9) {\r\n                    strDate = \"0\" + strDate;\r\n                }\r\n                var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate\r\n                    + \" \" + date.getHours() + seperator2 + date.getMinutes()\r\n                    + seperator2 + date.getSeconds();\r\n                return currentdate;\r\n            }\r\n            //返回事件\r\n            $scope.goBack = function () {\r\n                $scope.OffLineClocki='';\r\n                $scope.OffLineClockj='';\r\n                $scope.positionHide = true;\r\n                $scope.inputHide = false;\r\n                $scope.searchsBlueHide=false;\r\n                $scope.osiListHide=false;\r\n                $scope.uanddHide=false;\r\n            }\r\n            /*点击下载*/\r\n            $scope.OffLineDownload=function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=InspectionService&TransName=downLoadXcData')\r\n                        .then(function (res) {\r\n                            if (res.code == 0) {\r\n                                loadingAnimation.hideLoading();\r\n                                if(res.data.code==1){\r\n                                    showAlert.showMsg('', '', res.data.msg);\r\n                                    return false;\r\n                                }\r\n                                showAlert.showMsg('', '', \"下载巡查路线成功\");\r\n                                var obj =res.data.deList;\r\n                                localStorage.setItem(\"OffList\",JSON.stringify(obj));\r\n                                var OffList= JSON.parse(localStorage.getItem(\"OffList\"))\r\n                                $scope.patrolRoteListData = OffList;\r\n                                $scope.OfflineList=new Array();\r\n                                for(var i=0;i<OffList.length;i++){\r\n                                    $scope.OfflineList=$scope.OfflineList.concat(res.data.deList[i].childList);\r\n                                }\r\n                                console.log($scope.OfflineList);\r\n                                localStorage.setItem(\"OfflineList\",JSON.stringify($scope.OfflineList));\r\n                                for(var l=0;i<$scope.OfflineList.length;l++){\r\n                                    console.log($scope.OfflineList[l].RECORD_TIME);\r\n                                }\r\n                            } else {\r\n                                showAlert.showMsg('', '', res.msg);\r\n                            }\r\n                        }, function (error) {\r\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                        });\r\n            }\r\n            /*点击查看巡查记录*/\r\n            $scope.OffLineLook=function () {\r\n                if(localStorage.getItem(\"OffLineSignList\")){\r\n                    $state.go('OffLine/OffLineLook');\r\n                }else{\r\n                    showAlert.showMsg('', '', \"还未有巡查记录!\");\r\n                }\r\n            }\r\n        }\r\n    ])\r\n","angular.module('BaiYin.OffLineA', [\r\n    'BaiYin.OffLine',\r\n    'BaiYin.OffLine.OffLineDetail',\r\n    'BaiYin.OffLine.OffLineLook',\r\n])","angular.module('BaiYin.OSI', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('OSI', {\r\n            url: '/OSI',\r\n            controller: 'OSIController',\r\n            templateUrl: 'OSI/OSI.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('OSIController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', 'ionicDatePicker', '$cordovaBarcodeScanner',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, ionicDatePicker, $cordovaBarcodeScanner) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                $scope.positionHide = true;\r\n                $scope.inputHide = false;\r\n                $scope.searchsBlueHide=false;\r\n                $scope.osiListHide=false;\r\n                $scope.patrolRoteList();\r\n            });\r\n            //巡查路线列表\r\n            $scope.patrolRoteList = function () {\r\n                $http.post('ServiceName=InspectionService&TransName=listCInspectRoute')\r\n                    .then(function (res) {\r\n                        if (res.data.code == 0) {\r\n                            $scope.patrolRoteListData = res.data.dList;\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n            //跳转到巡检记录\r\n            $scope.toOsiHistory = function () {\r\n                $state.go('OSI/OSIHistory');\r\n            }\r\n\r\n            //跳转到巡检线路\r\n            $scope.toOsiLine = function (obj) {\r\n                var params = {\r\n                    DESCRIPTION:obj.DESCRIPTION,\r\n                    TEMP_ID:obj.TEMP_ID,\r\n                    START_TIME:obj.START_TIME,\r\n                    END_TIME:obj.END_TIME,\r\n                    INSPECT_TYPE:obj.INSPECT_TYPE,\r\n                    INSPECTED:obj.INSPECTED,\r\n                    INSPECT:obj.INSPECT\r\n                }\r\n                $state.go('OSI/OSILine',params);\r\n            }\r\n\r\n            /*扫描二维码开始阶段*/\r\n\r\n            //点击扫二维码\r\n            $scope.toScanCode = function () {\r\n                $cordovaBarcodeScanner.scan()\r\n                    .then(function (barcodeData) {\r\n                        $scope.barcodeDataText = barcodeData.text;\r\n                        $scope.barcodeData = eval(\"(\" + $scope.barcodeDataText + \")\");\r\n                        $scope.patrolHome($scope.barcodeData.MCH_CODE, $scope.barcodeData.CONTRACT);\r\n                    }, function (error) {\r\n\r\n                    });\r\n            }\r\n            //获取设备位置和名称\r\n            $scope.patrolHome = function (MCH_CODE, CONTRACT) {\r\n                $http.post('ServiceName=InspectionService&TransName=formCBluetoothEquip&MCH_CODE=' + MCH_CODE + '&CONTRACT=' + CONTRACT)\r\n                    .then(function (res) {\r\n                        if (res.data.code == 0) {\r\n                            $scope.patrolHomeData = res.data.detail;\r\n                            if ($scope.patrolHomeData.IS_MATCH=='TRUE') {\r\n                                blueToothEnable($scope.patrolHomeData.SN_CODE);\r\n                            }else{\r\n                                    $scope.inputHide = true;\r\n                                    $scope.osiListHide=true;\r\n                                    $scope.positionHide = false;\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n            //开启本机蓝牙\r\n            function blueToothEnable(SN_ADDRESS) {\r\n                ble.enable(\r\n                    function () {\r\n                        scanBlueTooth(SN_ADDRESS);\r\n                    },\r\n                    function () {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(\"\", \"\", \"打开蓝牙失败！\");\r\n                    }\r\n                );\r\n            }\r\n            //扫描蓝牙\r\n            function scanBlueTooth(SN_ADDRESS) {\r\n                loadingAnimation.hideLoading();\r\n                ble.scan([], 5, function (device) {\r\n                        //成功的回调函数\r\n                        var SNdeviceID=device.id.replace(new RegExp(/(:)/g),\"\");\r\n                        // alert(SNdeviceID);\r\n                        if (SNdeviceID==SN_ADDRESS) {\r\n                            $scope.$apply(function(){\r\n                                $scope.inputHide = true;\r\n                                $scope.osiListHide=true;\r\n                                $scope.positionHide = false;\r\n                            });\r\n                        }\r\n                    }, function () {\r\n                        //失败的回调函数\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg('', '', \"未扫描到有效蓝牙！\");\r\n                    }\r\n                );\r\n            }\r\n            /*扫描二维码结束阶段*/\r\n\r\n\r\n            /*搜索蓝牙开始阶段*/\r\n\r\n            //点击搜索蓝牙\r\n            $scope.searchsBlueTooth = function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                openblueToothEnable();\r\n            }\r\n            //开启本机蓝牙\r\n            function openblueToothEnable() {\r\n                ble.enable(\r\n                    function () {\r\n                        scansBlueToothnow();\r\n                    },\r\n                    function () {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(\"\",\"\",\"蓝牙未开启\");\r\n                    }\r\n                );\r\n            }\r\n            //扫描蓝牙\r\n            function scansBlueToothnow() {\r\n                $scope.OSIToothList = [];\r\n                $scope.timer = $timeout(function () {\r\n                    loadingAnimation.hideLoading();\r\n                    if ($scope.OSIToothList.length > 0) {\r\n                        upWindows($scope.OSIToothList);\r\n                    } else {\r\n                        showAlert.showMsg('', '', \"未扫描到蓝牙设备\");\r\n                    }\r\n                }, 5000);\r\n                ble.scan([], 5, function (device) {//成功的回调函数\r\n                     getBluesToothList(device);\r\n                    }, function () {\r\n                        //失败的回调函数\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg('', '', \"扫描蓝牙失败\");\r\n\r\n                    }\r\n                );\r\n            }\r\n            //获取蓝牙列表\r\n            function getBluesToothList(device) {\r\n                $http.post('ServiceName=InspectionService&TransName=formSBluetoothEquip&SN_CODE=' + device.id)\r\n                    .then(function (res) {\r\n                        if (res.data.code == '0') {\r\n                            $scope.equipToothdetail=res.data.dList;\r\n                            for(var i=0;i<$scope.equipToothdetail.length;i++){\r\n                                $scope.OSIToothList.push($scope.equipToothdetail[i]);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //弹出页面，显示扫描到的设备\r\n            var searchequipPopup;\r\n            function upWindows(OSIToothList) {\r\n                searchequipPopup = $ionicPopup.show({\r\n                    template:'<div>' +\r\n                    '<ul>' +\r\n                    '<li id=\"devices_{{$index}}\" ng-click=\"selectsBlueTooth($index)\" ng-repeat=\"equipTooth in OSIToothList track by $index\" ng-style=\"searchPopupli\">' +\r\n                    '{{equipTooth.ADDRESS}}' +\r\n                    '</li>' +\r\n                    '</ul>' +\r\n                    '</div>',\r\n                    title: '扫描到的蓝牙设备',\r\n                    scope: $scope,\r\n                });\r\n            }\r\n            $scope.searchPopupli = {\r\n                \"line-height\": \"35px\",\r\n                \"font-size\": \"12px\",\r\n                \"text-align\": \"center\",\r\n                \"border-bottom\": \"1px dotted #f4f4f4\",\r\n            };\r\n            //点击选择蓝牙设备\r\n            $scope.selectsBlueTooth= function (index) {\r\n                searchequipPopup.close();\r\n                $scope.patrolHomeData=$scope.OSIToothList[index];\r\n                $scope.searchsBlueHide=true;\r\n                $scope.osiListHide=true;\r\n                $scope.positionHide = false;\r\n            }\r\n\r\n            /*搜索蓝牙结束阶段*/\r\n\r\n            //首页签到 点击签到事件\r\n            $scope.patrolSign = function () {\r\n                var params = {\r\n                    BLUETOOTH_SERIAL_NO:$scope.patrolHomeData.BLUETOOTH_SERIAL_NO,\r\n                    LOCATION_DESCRIPTION:$scope.patrolHomeData.ADDRESS,\r\n                    IS_MATCH:$scope.patrolHomeData.IS_MATCH,\r\n                    PLAN_ID:$scope.patrolHomeData.PLAN_ID,\r\n                    EQUIP_NO:$scope.patrolHomeData.MCH_CODE,\r\n                    CONTRACT:$scope.patrolHomeData.CONTRACT\r\n                }\r\n                $http.post('ServiceName=InspectionService&TransName=inspectRecord',params)\r\n                    .then(function (res) {\r\n                        if (res.data.code == 0) {\r\n                            $scope.patrolSignData = res.data;\r\n                            showAlert.showMsg('','','签到成功！')\r\n                            $scope.positionHide = true;\r\n                            $scope.inputHide = false;\r\n                            $scope.searchsBlueHide=false;\r\n                            $scope.osiListHide=false;\r\n                            $scope.patrolRoteList();\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n            //返回事件\r\n            $scope.goBack = function () {\r\n                $scope.positionHide = true;\r\n                $scope.inputHide = false;\r\n                $scope.searchsBlueHide=false;\r\n                $scope.osiListHide=false;\r\n            }\r\n        }\r\n    ])\r\n","angular.module('BaiYin.OSIA', [\r\n    'BaiYin.OSI',\r\n    'BaiYin.OSI.OSIHistoryDetail',\r\n    'BaiYin.OSI.OSIcount',\r\n    'BaiYin.OSI.OSILine',\r\n    'BaiYin.OSI.OSIArear',\r\n    'BaiYin.OSI.OSIHistory',\r\n])","angular.module('BaiYin.power', [\n    'ionic',\n    'BaiYin.load'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('power', {\n        url: '/power',\n        controller: 'powerController',\n        templateUrl: 'power/power.tpl.html',\n        cache: 'true',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('powerController', ['$scope','showAlert' ,'pageInitService', '$http', '$state','$ionicTabsDelegate','$interval','$timeout','loadingAnimation',\n        function($scope,showAlert,pageInitService,$http,$state,$ionicTabsDelegate,$interval,$timeout,loadingAnimation) {\n            $scope.$on('$ionicView.afterEnter', function() {\n                $ionicTabsDelegate.select(0);\n                getKPI();\n                startInterval('getKPI');\n            });\n            $scope.$on('$ionicView.leave',function () {\n                stopInterval();\n            });\n            //全场请求数据\n            $scope.toQcData = function () {\n                stopInterval();\n                $ionicTabsDelegate.select(0);\n                getKPI();\n                startInterval('getKPI');\n            }\n            //甘肃数据请求\n            $scope.toGsData = function (){\n                $ionicTabsDelegate.select(1);\n                stopInterval();\n                selectGsData();\n                startInterval('selectGsData');\n            }\n            //青海数据请求\n            $scope.toQhData = function () {\n                $ionicTabsDelegate.select(2);\n                stopInterval();\n                selectQhData();\n                startInterval('selectQhData');\n            }\n            //宁夏数据请求\n            $scope.toNxData = function () {\n                $ionicTabsDelegate.select(3);\n                stopInterval();\n                selectNxData();\n                startInterval('selectNxData');\n            }\n            //新疆数据请求\n            $scope.toXjData = function () {\n                $ionicTabsDelegate.select(4);\n                stopInterval();\n                selectXjData();\n                startInterval('selectXjData');\n            }\n            //日电量柱状图\n            $scope.toDayInfo = function(){\n                $state.go('power/pdDay');\n            }\n            //月电量柱状图\n            $scope.toMounthInfo = function(){\n                $state.go('power/pdMounth');\n            }\n            //年电量柱状图\n            $scope.toYearInfo = function(){\n                $state.go('power/pdYear');\n            }\n            /**\n             * 开启定时器,五分钟执行一次\n             */\n            function startInterval(funcName) {\n                $scope.timer = $interval(function(){\n                    if(typeof(eval(funcName)) == \"function\"){\n                        eval(funcName+\"();\");\n                    }\n                    else\n                    {\n                        // 函数不存在\n                        stopInterval();\n                    }\n                },5*60*1000);\n               /* $scope.timer = $interval(function(){\n                    getKPI();\n                },5*60*1000);*/\n            }\n            //关闭定时器\n            function stopInterval(){\n                $interval.cancel($scope.timer);\n            }\n\n            // 获取集控中心负荷.......\n            function getKPI(){\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\n                $http.get('ServiceName=TargetService&TransName=getTargetIndex')\n                    .then(function(res){\n                        loadingAnimation.hideLoading();\n                        $scope.companyPower = res.data;\n                    },function(error) {\n                        loadingAnimation.hideLoading();\n                        showAlert.showMsg(error,'','网络异常','确认')\n                    })\n            }\n            //获取甘肃子发电厂发电量\n            function selectGsData(){\n                $(\"#dateGs\").removeClass('dcnone');\n                $(\"#dateGs\").addClass('dcactive');\n                $(\"#weekGs\").removeClass('dcactive');\n                $(\"#weekGs\").addClass('dcnone');\n                $http.post('ServiceName=TargetService&TransName=gsDayPower')\n                    .then(function (res) {\n                        $scope.gsCompanyPower = res.data.gsPower;\n                        if (res.code == '0') {\n                            // draw(res.data.gsHourPower);\n                            drawWeek(res.data.gsDayPower,res.data.dateStr);\n                        } else {\n                            showAlert.showMsg(res.msg);\n                        }\n                    }, function (error) {\n                        loadingAnimation.hideLoading();\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                    });\n            }\n            $scope.toweekGs = function(){\n                if($(\"#weekGs\").hasClass('dcactive')){\n                    console.log('====我有这个类');\n                    return false;\n                }else{\n                    console.log('====我没有这个类');\n                    $(\"#weekGs\").removeClass('dcnone');\n                    $(\"#weekGs\").addClass('dcactive');\n                    $(\"#dateGs\").removeClass('dcactive');\n                    $(\"#dateGs\").addClass('dcnone');\n                    $http.post('ServiceName=TargetService&TransName=gsPower')\n                        .then(function (res) {\n                            $scope.gsCompanyPower = res.data.gsPower;\n                            if (res.code == '0') {\n                                draw(res.data.gsHourPower);\n                            } else {\n                                showAlert.showMsg(res.msg);\n                            }\n                        }, function (error) {\n                            loadingAnimation.hideLoading();\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                        });\n                }\n\n            }\n            $scope.todateGs = function(){\n                if($(\"#dateGs\").hasClass('dcactive')){\n                    console.log('====我有这个类');\n                    return false;\n                }else{\n                    console.log('====我没有这个类');\n                    $(\"#dateGs\").removeClass('dcnone');\n                    $(\"#dateGs\").addClass('dcactive');\n                    $(\"#weekGs\").removeClass('dcactive');\n                    $(\"#weekGs\").addClass('dcnone');\n                    $http.post('ServiceName=TargetService&TransName=gsDayPower')\n                        .then(function (res) {\n                            $scope.gsCompanyPower = res.data.gsPower;\n                            if (res.code == '0') {\n                                drawWeek(res.data.gsDayPower);\n                            } else {\n                                showAlert.showMsg(res.msg);\n                            }\n                        }, function (error) {\n                            loadingAnimation.hideLoading();\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                        });\n                }\n\n            }\n            //获取青海子发电厂发电量\n            function selectQhData() {\n                $(\"#dateQh\").removeClass('dcnone');\n                $(\"#dateQh\").addClass('dcactive');\n                $(\"#weekQh\").removeClass('dcactive');\n                $(\"#weekQh\").addClass('dcnone');\n                $http.post('ServiceName=TargetService&TransName=qhDayPower')\n                    .then(function (res) {\n                        if (res.code == '0') {\n                            $scope.qhCompanyPower = res.data.qhPower;\n                            // draw2(res.data.qhHourPower);\n                            drawQh(res.data.qhDayPower);\n                        } else {\n                            showAlert.showMsg(res.msg);\n                        }\n                    }, function (error) {\n                        loadingAnimation.hideLoading();\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                    });\n\n            }\n            $scope.toweekQh = function(){\n                if($(\"#weekQh\").hasClass('dcactive')){\n                    console.log('====我有这个类');\n                    return false;\n                }else{\n                    console.log('====我没有这个类');\n                    $(\"#weekQh\").removeClass('dcnone');\n                    $(\"#weekQh\").addClass('dcactive');\n                    $(\"#dateQh\").removeClass('dcactive');\n                    $(\"#dateQh\").addClass('dcnone');\n                    $http.post('ServiceName=TargetService&TransName=qhPower')\n                        .then(function (res) {\n                            $scope.gsCompanyPower = res.data.qhPower;\n                            if (res.code == '0') {\n                                draw2(res.data.qhHourPower);\n                            } else {\n                                showAlert.showMsg(res.msg);\n                            }\n                        }, function (error) {\n                            loadingAnimation.hideLoading();\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                        });\n                }\n            }\n            $scope.todateQh = function(){\n                if($(\"#dateQh\").hasClass('dcactive')){\n                    console.log('====我有这个类');\n                    return false;\n                }else{\n                    console.log('====我没有这个类');\n                    $(\"#dateQh\").removeClass('dcnone');\n                    $(\"#dateQh\").addClass('dcactive');\n                    $(\"#weekQh\").removeClass('dcactive');\n                    $(\"#weekQh\").addClass('dcnone');\n                    $http.post('ServiceName=TargetService&TransName=qhDayPower')\n                        .then(function (res) {\n                            $scope.gsCompanyPower = res.data.qhPower;\n                            if (res.code == '0') {\n                                drawQh(res.data.qhDayPower);\n                            } else {\n                                showAlert.showMsg(res.msg);\n                            }\n                        }, function (error) {\n                            loadingAnimation.hideLoading();\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                        });\n                }\n\n            }\n            //获取宁夏子发电厂发电量\n            function selectNxData() {\n                $(\"#dateNx\").removeClass('dcnone');\n                $(\"#dateNx\").addClass('dcactive');\n                $(\"#weekNx\").removeClass('dcactive');\n                $(\"#weekNx\").addClass('dcnone');\n                $http.get('ServiceName=TargetService&TransName=nxDayPower')\n                    .then(function (res) {\n                        console.log(res);\n                        if (res.code == '0') {\n                            $scope.nxCompanyPower = res.data.nxPower;\n                            // draw3(res.data.nxDayPower);\n                            drawNx(res.data.nxDayPower);\n                        } else {\n                            showAlert.showMsg(res.msg);\n                        }\n                    },function (error) {\n                        showAlert.showMsg(error,'','网络异常','确认');\n                    });\n            }\n            $scope.toweekNx = function(){\n                if($(\"#weekNx\").hasClass('dcactive')){\n                    console.log('====我有这个类');\n                    return false;\n                }else{\n                    console.log('====我没有这个类');\n                    $(\"#weekNx\").removeClass('dcnone');\n                    $(\"#weekNx\").addClass('dcactive');\n                    $(\"#dateNx\").removeClass('dcactive');\n                    $(\"#dateNx\").addClass('dcnone');\n                    $http.post('ServiceName=TargetService&TransName=nxPower')\n                        .then(function (res) {\n                            $scope.gsCompanyPower = res.data.NxPower;\n                            if (res.code == '0') {\n                                draw3(res.data.nxHourPower);\n                            } else {\n                                showAlert.showMsg(res.msg);\n                            }\n                        }, function (error) {\n                            loadingAnimation.hideLoading();\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                        });\n                }\n            }\n            $scope.todateNx = function(){\n                if($(\"#dateNx\").hasClass('dcactive')){\n                    console.log('====我有这个类');\n                    return false;\n                }else{\n                    console.log('====我没有这个类');\n                    $(\"#dateNx\").removeClass('dcnone');\n                    $(\"#dateNx\").addClass('dcactive');\n                    $(\"#weekNx\").removeClass('dcactive');\n                    $(\"#weekNx\").addClass('dcnone');\n                    $http.post('ServiceName=TargetService&TransName=nxDayPower')\n                        .then(function (res) {\n                            $scope.gsCompanyPower = res.data.Nxpower;\n                            if (res.code == '0') {\n                                drawNx(res.data.nxDayPower);\n                            } else {\n                                showAlert.showMsg(res.msg);\n                            }\n                        }, function (error) {\n                            loadingAnimation.hideLoading();\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                        });\n                }\n\n            }\n            //获取新疆子发电厂发电量\n            function selectXjData() {\n                $(\"#dateXj\").removeClass('dcnone');\n                $(\"#dateXj\").addClass('dcactive');\n                $(\"#weekXj\").removeClass('dcactive');\n                $(\"#weekXj\").addClass('dcnone');\n                $http.get('ServiceName=TargetService&TransName=xjDayPower')\n                    .then(function (res) {\n                        console.log(res);\n                        if (res.code == '0') {\n                            $scope.xjCompanyPower = res.data.xjPower;\n                            drawXj(res.data.xjDayPower);\n                        } else {\n                            showAlert.showMsg(res.msg);\n                        }\n                    },function (error) {\n                        showAlert.showMsg(error,'','网络异常','确认');\n                    });\n            }\n            $scope.toweekXj = function(){\n                if($(\"#weekXj\").hasClass('dcactive')){\n                    console.log('====我有这个类');\n                    return false;\n                }else{\n                    console.log('====我没有这个类');\n                    $(\"#weekXj\").removeClass('dcnone');\n                    $(\"#weekXj\").addClass('dcactive');\n                    $(\"#dateXj\").removeClass('dcactive');\n                    $(\"#dateXj\").addClass('dcnone');\n                    $http.post('ServiceName=TargetService&TransName=xjPower')\n                        .then(function (res) {\n                            $scope.gsCompanyPower = res.data.gsPower;\n                            if (res.code == '0') {\n                                draw1(res.data.xjHourPower);\n                            } else {\n                                showAlert.showMsg(res.msg);\n                            }\n                        }, function (error) {\n                            loadingAnimation.hideLoading();\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                        });\n                }\n            }\n            $scope.todateXj = function(){\n                if($(\"#dateXj\").hasClass('dcactive')){\n                    console.log('====我有这个类');\n                    return false;\n                }else{\n                    console.log('====我没有这个类');\n                    $(\"#dateXj\").removeClass('dcnone');\n                    $(\"#dateXj\").addClass('dcactive');\n                    $(\"#weekXj\").removeClass('dcactive');\n                    $(\"#weekXj\").addClass('dcnone');\n                    $http.post('ServiceName=TargetService&TransName=xjDayPower')\n                        .then(function (res) {\n                            $scope.gsCompanyPower = res.data.gsPower;\n                            if (res.code == '0') {\n                                drawXj(res.data.xjDayPower);\n                            } else {\n                                showAlert.showMsg(res.msg);\n                            }\n                        }, function (error) {\n                            loadingAnimation.hideLoading();\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                        });\n                }\n\n            }\n\n            //甘肃\n            function draw(dayPower) {\n                $scope.dayGsone=[];\n                $scope.dayGstwo=[];\n                $scope.dayGsthree=[];\n                $scope.dayGsfour=[];\n                $scope.dayGstimeone=[];\n                // console.log(dayPower);\n                for (var v in dayPower) {\n                    // console.log(v)\n                    if(dayPower[v].CONTRACT=='1101'){\n                        $scope.dayGsone.push(dayPower[v].DAY_ELE_AMOUNT)\n                        $scope.dayGstimeone.push(dayPower[v].REPORT_ID)\n                    }\n                    if(dayPower[v].CONTRACT=='1201'){\n                        $scope.dayGstwo.push(dayPower[v].DAY_ELE_AMOUNT)\n                    }\n                    if(dayPower[v].CONTRACT=='1301'){\n                        $scope.dayGsthree.push(dayPower[v].DAY_ELE_AMOUNT)\n\n                    }\n                    if(dayPower[v].CONTRACT=='1401'){\n                        $scope.dayGsfour.push(dayPower[v].DAY_ELE_AMOUNT)\n\n                    }\n                }\n                drawGsdiagram()\n\n            }\n            //甘肃按小时统计\n            function drawWeek(dayPower) {\n                var powerone=[];\n                var powertwo=[];\n                var powerthree=[];\n                var powerfour=[];\n                var powerfive=[];\n                var powertime=[];\n                for (var v in dayPower) {\n                    if(dayPower[v].CONTRACT=='1101'){\n                        powerone.push(dayPower[v].REAL_VALUE)\n                        console.log(dayPower[v].RECORD_DATATIME.substr(11,5))\n                        powertime.push(dayPower[v].RECORD_DATATIME.substr(11,5))\n                    }\n                    if(dayPower[v].CONTRACT=='1201'){\n                        powertwo.push(dayPower[v].REAL_VALUE)\n                    }\n                    if(dayPower[v].CONTRACT=='1301'){\n                        powerthree.push(dayPower[v].REAL_VALUE)\n                    }\n                    if(dayPower[v].CONTRACT=='1401'){\n                        powerfour.push(dayPower[v].REAL_VALUE)\n                    }\n                }\n                var option = {\n                    title: {\n                        subtext: '万KW·h',\n                        top: '3%',\n                    },\n                    tooltip: {\n                        trigger: 'axis'\n                    },\n                    toolbox: {\n                        show: false,\n                        feature: {\n                            mark: {show: true},\n                            dataView: {show: true, readOnly: false},\n                            restore: {show: true},\n                            saveAsImage: {show: true}\n                        }\n                    },\n                    dataZoom: {\n                        show: false,\n                        start: 0\n                    },\n                    legend: {\n                        data: ['捡财塘','北大桥东风电厂','桥东第二风电场','敦煌光伏']\n                    },\n                    grid: {\n                        y2: 80\n                    },\n                    xAxis: {\n                        type: 'category',\n                        data: powertime\n                    },\n                    yAxis: [\n                        {\n                            type: 'value'\n                        }\n                    ],\n                    series: [\n                        {\n                            name: '捡财塘',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerone\n                        },\n                        {\n                            name: '北大桥东风电厂',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powertwo\n                        },\n                        {\n                            name: '桥东第二风电场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerthree\n                        },\n                        {\n                            name: '敦煌光伏',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerfour\n                        }\n\n                    ]\n\n                };\n                // console.log(\"$scope.id==\"+$scope.id);\n                var myChart = echarts.init(document.getElementById('gszst'), 'macarons');\n                myChart.setOption(option);\n            }\n            //青海按小时统计\n            function drawQh(dayPower) {\n                var powerone=[];\n                var powertwo=[];\n                var powerthree=[];\n                var powerfour=[];\n                var powerfive=[];\n                var powertime=[];\n                for (var v in dayPower) {\n                    if(dayPower[v].CONTRACT=='1601'){\n                        powerone.push(dayPower[v].REAL_VALUE)\n                        console.log(dayPower[v].RECORD_DATATIME.substr(11,5))\n                        powertime.push(dayPower[v].RECORD_DATATIME.substr(11,5))\n                    }\n                    if(dayPower[v].CONTRACT=='1701'){\n                        powertwo.push(dayPower[v].REAL_VALUE)\n                    }\n                }\n                var option = {\n                    title: {\n                        subtext: '万KW·h',\n                        top: '3%',\n                    },\n                    tooltip: {\n                        trigger: 'axis'\n                    },\n                    toolbox: {\n                        show: false,\n                        feature: {\n                            mark: {show: true},\n                            dataView: {show: true, readOnly: false},\n                            restore: {show: true},\n                            saveAsImage: {show: true}\n                        }\n                    },\n                    dataZoom: {\n                        show: false,\n                        start: 0\n                    },\n                    legend: {\n                        data: ['格尔木光伏电站','贝壳梁诺木洪风电场']\n                    },\n                    grid: {\n                        y2: 80\n                    },\n                    xAxis: {\n                        type: 'category',\n                        data: powertime\n                    },\n                    yAxis: [\n                        {\n                            type: 'value'\n                        }\n                    ],\n                    series: [\n                        {\n                            name: '格尔木光伏电站',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerone\n                        },\n                        {\n                            name: '贝壳梁诺木洪风电场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powertwo\n                        }\n\n                    ]\n\n                };\n                var myChart = echarts.init(document.getElementById('qhzst'), 'macarons');\n                myChart.setOption(option);\n            }\n            /**\n             * 作者：\n             * 创建时间：2018.04.26\n             * 时间：15.54\n             * 版本：v1.1.2\n             * 描述：绘制甘肃图表\n             * 修改时间：\n             **/\n            function drawGsdiagram() {\n                var option = {\n                    title: {\n                        subtext: '万KW·h',\n                        top: '3%',\n                    },\n                    tooltip: {\n                        trigger: 'axis'\n                    },\n                    toolbox: {\n                        show: false,\n                        feature: {\n                            mark: {show: true},\n                            dataView: {show: true, readOnly: false},\n                            restore: {show: true},\n                            saveAsImage: {show: true}\n                        }\n                    },\n                    dataZoom: {\n                        show: false,\n                        start: 0\n                    },\n                    legend: {\n                        data: ['捡财塘','北大桥东风电厂','桥东第二风电场','敦煌光伏']\n                    },\n                    grid: {\n                        y2:80,\n                        top: '20%',\n                    },\n                    xAxis: {\n                        type: 'category',\n                        data: $scope.dayGstimeone\n                    },\n                    yAxis: [\n                        {\n                            type: 'value'\n                        }\n                    ],\n                    series: [\n                        {\n                            name: '捡财塘',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:$scope.dayGsone\n                        },\n                        {\n                            name: '北大桥东风电厂',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:$scope.dayGstwo\n                        },\n                        {\n                            name: '桥东第二风电场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:$scope.dayGsthree\n                        },\n                        {\n                            name: '敦煌光伏',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:$scope.dayGsfour\n                        }\n\n                    ]\n                };\n                $scope.GsChart = echarts.init(document.getElementById('gszst'), 'macarons');\n                $scope.GsChart.setOption(option);\n            }\n\n            //新疆\n            function drawXj(dayPower) {\n                var powerone=[];\n                var powertwo=[];\n                var powerthree=[];\n                var powerfour=[];\n                var powerfive=[];\n                var powertime=[];\n                for (var v in dayPower) {\n                    if(dayPower[v].CONTRACT=='1801'){\n                        powerone.push(dayPower[v].REAL_VALUE)\n                        console.log(dayPower[v].RECORD_DATATIME.substr(11,5))\n                        powertime.push(dayPower[v].RECORD_DATATIME.substr(11,5))\n                    }\n                    if(dayPower[v].CONTRACT=='1802'){\n                        powertwo.push(dayPower[v].REAL_VALUE)\n                    }\n                    if(dayPower[v].CONTRACT=='1803'){\n                        powerthree.push(dayPower[v].REAL_VALUE)\n                    }\n                    if(dayPower[v].CONTRACT=='1804'){\n                        powerfour.push(dayPower[v].REAL_VALUE)\n                    }\n                    if(dayPower[v].CONTRACT=='1901'){\n                        powerfive.push(dayPower[v].REAL_VALUE)\n                    }\n                }\n                var option = {\n                    title: {\n                        subtext: '万KW·h',\n                        top: '3%',\n                    },\n                    tooltip: {\n                        trigger: 'axis'\n                    },\n                    toolbox: {\n                        show: false,\n                        feature: {\n                            mark: {show: true},\n                            dataView: {show: true, readOnly: false},\n                            restore: {show: true},\n                            saveAsImage: {show: true}\n                        }\n                    },\n                    dataZoom: {\n                        show: false,\n                        start: 0\n                    },\n                    legend: {\n                        data: ['麻黄沟东风电一场','淖毛湖风电场','景峡风电场','烟墩风电场','小草湖北风电一场']\n                    },\n                    grid: {\n                        y2: 80,\n                        top: '20%',\n                    },\n                    xAxis: {\n                        type: 'category',\n                        data:powertime\n                    },\n                    yAxis: [\n                        {\n                            type: 'value'\n                        }\n                    ],\n                    series: [\n                        {\n                            name: '麻黄沟东风电一场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerone\n                        },\n                        {\n                            name: '淖毛湖风电场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powertwo\n                        },\n                        {\n                            name: '景峡风电场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerthree\n                        },\n                        {\n                            name: '烟墩风电场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerfour\n                        },\n                        {\n                            name: '小草湖北风电一场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerfive\n                        },\n                    ]\n                };\n                var myChart = echarts.init(document.getElementById('xjzst'), 'macarons');\n                myChart.setOption(option);\n            }\n            function draw1(dayPower) {\n                var powerone=[];\n                var powertwo=[];\n                var powerthree=[];\n                var powerfour=[];\n                var powerfive=[];\n                var powertime=[];\n                for (var v in dayPower) {\n                    if(dayPower[v].CONTRACT=='1801'){\n                        powerone.push(dayPower[v].DAY_ELE_AMOUNT)\n                        powertime.push(dayPower[v].REPOART_ID)\n                    }\n                    if(dayPower[v].CONTRACT=='1802'){\n                        powertwo.push(dayPower[v].DAY_ELE_AMOUNT)\n                    }\n                    if(dayPower[v].CONTRACT=='1803'){\n                        powerthree.push(dayPower[v].DAY_ELE_AMOUNT)\n                    }\n                    if(dayPower[v].CONTRACT=='1804'){\n                        powerfour.push(dayPower[v].DAY_ELE_AMOUNT)\n                    }\n                    if(dayPower[v].CONTRACT=='1901'){\n                        powerfive.push(dayPower[v].DAY_ELE_AMOUNT)\n                    }\n                }\n                var option = {\n                    title: {\n                        subtext: '万KW·h',\n                        top: '3%',\n                    },\n                    tooltip: {\n                        trigger: 'axis'\n                    },\n                    toolbox: {\n                        show: false,\n                        feature: {\n                            mark: {show: true},\n                            dataView: {show: true, readOnly: false},\n                            restore: {show: true},\n                            saveAsImage: {show: true}\n                        }\n                    },\n                    dataZoom: {\n                        show: false,\n                        start: 0\n                    },\n                    legend: {\n                        data: ['麻黄沟东风电一场','淖毛湖风电场','景峡风电场','烟墩风电场','小草湖北风电一场']\n                    },\n                    grid: {\n                        y2: 80,\n                        top: '20%',\n                    },\n                    xAxis: {\n                        type: 'category',\n                        data:powertime\n                    },\n                    yAxis: [\n                        {\n                            type: 'value'\n                        }\n                    ],\n                    series: [\n                        {\n                            name: '麻黄沟东风电一场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerone\n                        },\n                        {\n                            name: '淖毛湖风电场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powertwo\n                        },\n                        {\n                            name: '景峡风电场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerthree\n                        },\n                        {\n                            name: '烟墩风电场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerfour\n                        },\n                        {\n                            name: '小草湖北风电一场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerfive\n                        },\n                    ]\n                };\n                var myChart = echarts.init(document.getElementById('xjzst'), 'macarons');\n                myChart.setOption(option);\n            }\n            //青海\n            function draw2(dayPower,dateStr) {\n                var powerone=[];\n                var powertwo=[];\n                var powerthree=[];\n                var powerfour=[];\n                var powertime=[];\n                for (var v in dayPower) {\n                    if(dayPower[v].CONTRACT=='1601'){\n                        powerone.push(dayPower[v].DAY_ELE_AMOUNT)\n                        powertime.push(dayPower[v].REPOART_ID)\n                    }\n                    if(dayPower[v].CONTRACT=='1701'){\n                        powertwo.push(dayPower[v].DAY_ELE_AMOUNT)\n                    }\n                }\n                var option = {\n                    title: {\n                        subtext: '万KW·h'\n                    },\n                    tooltip: {\n                        trigger: 'axis'\n                    },\n                    toolbox: {\n                        show: false,\n                        feature: {\n                            mark: {show: true},\n                            dataView: {show: true, readOnly: false},\n                            restore: {show: true},\n                            saveAsImage: {show: true}\n                        }\n                    },\n                    dataZoom: {\n                        show: false,\n                        start: 0\n                    },\n                    legend: {\n                        data: ['格尔木光伏电站','贝壳梁诺木洪风电场']\n                    },\n                    grid: {\n                        y2: 80\n                    },\n                    xAxis: {\n                        type: 'category',\n                        data:powertime\n                    },\n                    yAxis: [\n                        {\n                            type: 'value'\n                        }\n                    ],\n                    series: [\n                        {\n                            name: '格尔木光伏电站',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerone\n                        },\n                        {\n                            name: '贝壳梁诺木洪风电场',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powertwo\n                        }\n                    ]\n                };\n                var myChart = echarts.init(document.getElementById('qhzst'), 'macarons');\n                myChart.setOption(option);\n            }\n            //宁夏\n            function drawNx(dayPower) {\n                var powerone=[];\n                var powertwo=[];\n                var powerthree=[];\n                var powerfour=[];\n                var powertime=[];\n                for (var v in dayPower) {\n                    if(dayPower[v].CONTRACT=='1501'){\n                        powerone.push(dayPower[v].REAL_VALUE)\n                        powertime.push(dayPower[v].RECORD_DATATIME.substr(11,5))\n                    }\n                }\n                var option = {\n                    title: {\n                        subtext: '万KW·h'\n                    },\n                    tooltip: {\n                        trigger: 'axis'\n                    },\n                    toolbox: {\n                        show: false,\n                        feature: {\n                            mark: {show: true},\n                            dataView: {show: true, readOnly: false},\n                            restore: {show: true},\n                            saveAsImage: {show: true}\n                        }\n                    },\n                    dataZoom: {\n                        show: false,\n                        start: 0\n                    },\n                    legend: {\n                        data: ['石嘴山光伏电站']\n                    },\n                    grid: {\n                        y2: 80\n                    },\n                    xAxis: {\n                        type: 'category',\n                        data:powertime\n                    },\n                    yAxis: [\n                        {\n                            type: 'value'\n                        }\n                    ],\n                    series: [\n                        {\n                            name: '石嘴山光伏电站',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerone\n                        }\n                    ]\n                };\n                var myChart = echarts.init(document.getElementById('nxzst'), 'macarons');\n                myChart.setOption(option);\n            }\n            function draw3(dayPower,dateStr) {\n                var powerone=[];\n                var powertwo=[];\n                var powerthree=[];\n                var powerfour=[];\n                var powertime=[];\n                for (var v in dayPower) {\n                    if(dayPower[v].CONTRACT=='1501'){\n                        powerone.push(dayPower[v].DAY_ELE_AMOUNT)\n                        powertime.push(dayPower[v].REPOART_ID)\n                    }\n                }\n                var option = {\n                    title: {\n                        subtext: '万KW·h'\n                    },\n                    tooltip: {\n                        trigger: 'axis'\n                    },\n                    toolbox: {\n                        show: false,\n                        feature: {\n                            mark: {show: true},\n                            dataView: {show: true, readOnly: false},\n                            restore: {show: true},\n                            saveAsImage: {show: true}\n                        }\n                    },\n                    dataZoom: {\n                        show: false,\n                        start: 0\n                    },\n                    legend: {\n                        data: ['石嘴山光伏电站']\n                    },\n                    grid: {\n                        y2: 80\n                    },\n                    xAxis: {\n                        type: 'category',\n                        data:powertime\n                    },\n                    yAxis: [\n                        {\n                            type: 'value'\n                        }\n                    ],\n                    series: [\n                        {\n                            name: '石嘴山光伏电站',\n                            type: 'line',\n                            smooth: false,\n                            symbol: 'none',\n                            showAllSymbol: false,\n                            data:powerone\n                        }\n                    ]\n                };\n                var myChart = echarts.init(document.getElementById('nxzst'), 'macarons');\n                myChart.setOption(option);\n            }\n        }])\n    .directive('powerline', function () {\n        return {\n            scope: {\n                id: \"@\",\n                legend: \"=\",\n                item: \"=\",\n                data: \"=\"\n            },\n            restrict: 'E',\n            template: '<div style=\"height:350px;\"></div>',\n            replace: true,\n            link: function ($scope, element, attr, ctr) {\n                // $scope.$parent.initChart($scope);\n            }\n        };\n    });","angular.module('BaiYin.power.mock', [\n    'ngMockE2E', 'BaiYin.common.mocksData'\n])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.powerA', [\r\n    'BaiYin.power',\r\n    'BaiYin.pdDay',\r\n    'BaiYin.pdMounth',\r\n    'BaiYin.pdYear',\r\n])","angular\n    .module('BaiYin.home', [\n        'BaiYin.tabs.homePage',\n        'BaiYin.tabs.mine',\n        'BaiYin.tabs.message',\n        'BaiYin.tabs.OMA',\n        'BaiYin.tabs.porductManage'\n    ])\n    .controller('tabController', ['$scope', '$http', '$state', '$ionicViewSwitcher', '$ionicHistory','showAlert',\n        function($scope, $http, $state, $ionicViewSwitcher, $ionicHistory,showAlert) {\n            $scope.getContentTpl = function() {\n                return $scope.currentTab + '/content.tpl.html';\n            };\n            $scope.isActived = function(tabName) {\n                return tabName == $scope.currentTab;\n            };\n            $scope.goTab = function(tabName) {\n                if (tabName != $scope.currentTab) {\n                    $ionicViewSwitcher.nextDirection('none');\n                    $ionicHistory.nextViewOptions({ historyRoot: true });\n                    $ionicHistory.clearHistory();\n                    $state.go(tabName, {}, {\n                        location: 'replace'\n                    });\n                }\n            };\n            $scope.goTabJygl = function () {\n                showAlert.showMsg('','','程序员正在玩命开发中……')\n            };\n        }\n    ]);","angular.module('BaiYin.Problems', [])\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('Problems', {\n        url: '/Problems',\n        controller: 'ProblemsController',\n        templateUrl: 'Problems/Problems.tpl.html',\n        cache: 'false',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('ProblemsController', ['$scope', 'showAlert', 'pageInitService', '$http', '$state',\n    function($scope, showAlert, pageInitService, $http, $state) {\n        $scope.$on('$ionicView.afterEnter', function() {\n            var apis = [\n            ''\n            ];\n\n            pageInitService.pageInit(apis).then(function(result) {\n             $scope.listsMsg = result[0];\n             agentListMsg($scope.listsMsg);\n            \n            $scope.agentsItem = function(item) {\n                $state.go('ProblemsSolving');\n                var ItemCont =JSON.stringify(item);\n                sessionStorage.setItem(\"agentsVD\", ItemCont); \n            }\n        }, function(error) {\n             showAlert.showMsg(error,'','网络异常','确认')\n        });\n            $scope.loadNumber=1;\n            $scope.loadMore=function(){\n             $scope.loadNumber+=1;\n             $http.get( '' + $scope.loadNumber)\n             .then(function(res){\n                 if(res.data.length>0){\n                   for(var i=0;i<res.data.length;i++){\n                    res.data[i].CREATED_DATE=new Date(res.data[i].CREATED_DATE.replace(/-/g,\"/\"));\n                    $scope.items.push(res.data[i])  ;\n                    $scope.$broadcast('scroll.infiniteScrollComplete');\n                }\n            }else if(res.data.length<=0||res.data==null||res.data==undefined){\n             $scope.hasMore=false;\n             $scope.$broadcast('scroll.infiniteScrollComplete');\n         }\n     }\n     ,function(error){\n       showAlert.showMsg(error,'','网络异常','确认')\n         $scope.hasMore=false;\n     })\n         };\n    });\n        $scope.newProblems=function(){\n             $state.go('NewProblems')\n        }\n        function agentListMsg(res){\n         var str = [];\n         var arr = {};\n         for (var i = 0; i < res.data.length; i++) {\n            arr = res.data[i]\n            arr.CREATED_DATE = new Date(arr.CREATED_DATE.replace(/-/g,\"/\"))\n            str.push(arr)\n        }\n        $scope.items = str;\n         if($scope.items.length>=10&&$scope.items!=undefined&&$scope.items!=null){\n                $scope.hasMore=true;\n            }\n    };\n    $scope.doRefresh = function() {\n        $http.get('')\n        .then(function(res) {\n            agentListMsg(res)\n            $scope.$broadcast('scroll.refreshComplete');\n            if(res.data.length==10){\n               $scope.loadNumber=1;\n               $scope.hasMore=true;\n           }else{\n            $scope.hasMore=false;\n        }\n    }, function(error) {\n        $scope.hasMore=false;\n        showAlert.showMsg(error,'','网络异常','确认')\n})\n    }\n\n}\n])","angular.module('BaiYin.Problems.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.ProblemsA', [\n   'BaiYin.Problems',\n   'BaiYin.ProblemsSolving',\n   'BaiYin.NewProblems',\n   'BaiYin.Tracking'\n])","angular\r\n    .module('BaiYin.taskManage', [\r\n        'ionic',\r\n    ])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('taskManage', {\r\n            url: '/taskManage',\r\n            controller: 'taskManageController',\r\n            templateUrl: 'taskManage/taskManage.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('taskManageController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', '$ionicActionSheet', '$ionicScrollDelegate',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, $ionicActionSheet, $ionicScrollDelegate) {\r\n             //日常tab对应状态\r\n             var TabState = [\"New\", \"Excuting\", \"Finished\"];\r\n             //状态转换\r\n             var StateContrast = {\"New\": \"新建\", \"Excuting\": \"处理中\", \"Finished\": \"已完成\"};\r\n\r\n            $scope.DailyList = [new Array(), new Array(), new Array()];//日常数据\r\n            $scope.SpeciaList = new Array();//专项数据\r\n            //是否还有数据可以加载\r\n            $scope.hasDaily = [true, true, true];\r\n            $scope.hasSpecia = true;\r\n            //分页\r\n            var dailyIndex = [0, 0, 0],\r\n                specialIndex = 0;\r\n            $scope.$on('$ionicView.afterEnter', function (event, view) {\r\n                if(view.direction == \"forward\"){\r\n                    $ionicScrollDelegate.scrollTop();\r\n\r\n                    $scope.toUsually();\r\n                    $ionicTabsDelegate.select(0);\r\n    \r\n                    $scope.reDaily();\r\n                    $scope.reSpecia();\r\n                }\r\n            });\r\n            //重置日常\r\n            $scope.reDaily = function(){\r\n                $scope.DailyList = [new Array(), new Array(), new Array()];\r\n                dailyIndex = [0, 0, 0];\r\n                $scope.hasDaily = [true, true, true];\r\n\r\n                $scope.getDailyData(0);\r\n                $scope.getDailyData(1);\r\n                $scope.getDailyData(2);\r\n            };\r\n            //重置专项\r\n            $scope.reSpecia = function(){\r\n                $scope.SpeciaList = new Array();\r\n                specialIndex = 0;\r\n                $scope.hasSpecia = true;\r\n\r\n                $scope.getSpecialData();\r\n            };\r\n            //点击日常\r\n            $scope.toUsually = function () {\r\n                $scope.spanUsually = {\r\n                    \"color\": \"#3492e9\",\r\n                    \"background\": \"#fff\",\r\n                    \"padding\": \"5px 10px\",\r\n                    \"border-top-left-radius\": \"10px\",\r\n                    \"border-bottom-left-radius\": \"10px\"\r\n                };\r\n                $scope.spanSpecial = {\r\n                    \"color\": \"#fff\",\r\n                    \"background\": \"rgba(0,0,0,0.2)\",\r\n                    \"padding\": \"5px 10px\",\r\n                    \"margin-left\": \"-5px\",\r\n                    \"border-top-right-radius\": \"10px\",\r\n                    \"border-bottom-right-radius\": \"10px\"\r\n                }\r\n                //显示日常任务数据\r\n                $scope.rcrwHide = false;\r\n                //隐藏专项任务数据\r\n                $scope.specialHide = true;\r\n            }\r\n            //点击专项\r\n            $scope.toSpecial = function () {\r\n                $scope.spanUsually = {\r\n                    \"color\": \"#fff\",\r\n                    \"background\": \"rgba(0,0,0,0.2)\",\r\n                    \"padding\": \"5px 10px\",\r\n                    \"border-top-left-radius\": \"10px\",\r\n                    \"border-bottom-left-radius\": \"10px\"\r\n                };\r\n                $scope.spanSpecial = {\r\n                    \"color\": \"#3492e9\",\r\n                    \"background\": \"#fff\",\r\n                    \"padding\": \"5px 10px\",\r\n                    \"margin-left\": \"-5px\",\r\n                    \"border-top-right-radius\": \"10px\",\r\n                    \"border-bottom-right-radius\": \"10px\"\r\n                }\r\n                //隐藏日常任务数据\r\n                $scope.rcrwHide = true;\r\n                //显示专项任务数据\r\n                $scope.specialHide = false;\r\n            }\r\n            $scope.toAllData = function () {\r\n                $ionicTabsDelegate.select(0);\r\n            }\r\n            $scope.toClzData = function () {\r\n                $ionicTabsDelegate.select(1);\r\n            }\r\n            $scope.toYwcData = function () {\r\n                $ionicTabsDelegate.select(2);\r\n            }\r\n            //点击选择项目类型\r\n            $scope.commitStatus = '';\r\n            var stustList = [\"全部\", \"单独报批重大项目\", \"跨年度技改项目\", \"一般项目\", \"重大项目\", \"自控项目\"].map(function(v, i){\r\n                return {text: v};\r\n            });\r\n            $scope.toSelectStatus = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: stustList,\r\n                    buttonClicked: function (index) {\r\n                        stustList[index].text == \"全部\"\r\n                            ? $scope.commitStatus = \"\"\r\n                            : $scope.commitStatus = stustList[index].text;\r\n                        $scope.reSpecia();\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n            //点击跳转到设备详情\r\n            $scope.toTmDetail = function (data) {\r\n                $state.go(\"taskManage/tmDetail\", {item: {data: data}});\r\n            }\r\n\r\n            //获取日常任务数据\r\n            $scope.getDailyData = function(state){\r\n                if(!$scope.hasDaily[state]){\r\n                    return;\r\n                }\r\n                loadingAnimation.showLoading('加载中...', 'loding', 0);\r\n                $http.post(\"ServiceName=TaskService&TransName=getDailyList\", {\r\n                    state: TabState[state],\r\n                    pageIndex: dailyIndex[state]++\r\n                })\r\n                .then(function (res) {\r\n                    loadingAnimation.hideLoading();\r\n                    if(res.code == \"0\"){\r\n                        if(!res.data.length){\r\n                            $scope.hasDaily[state] = false;\r\n                        }else{\r\n                            $scope.DailyList[state] = $scope.DailyList[state].concat(res.data.map(function(v, i){\r\n                                for(var key in v){\r\n                                    if(key.indexOf(\"TIME\") != -1){\r\n                                        v[key] = v[key] && v[key] != \"null\" ? $filter(\"date\")(new Date(v[key]), \"yyyy-MM-dd\") : \"\";\r\n                                    }\r\n                                }\r\n                                v.STATE = StateContrast[v.STATE];\r\n                                return v;\r\n                            }));\r\n                        }\r\n                    }else{\r\n                        showAlert.showMsg(res, '', '', '确认')\r\n                    }\r\n                    $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                }, function (error) {\r\n                    loadingAnimation.hideLoading();\r\n                    $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                    showAlert.showMsg(error, '', '网络异常', '确认')\r\n                });\r\n            };\r\n            //获取专项任务数据\r\n            $scope.getSpecialData = function(){\r\n                if(!$scope.hasSpecia){\r\n                    return;\r\n                }\r\n                loadingAnimation.showLoading('加载中...', 'loding', 0);\r\n                $http.post(\"ServiceName=TaskService&TransName=getSpecialList\", {\r\n                    item_catelogy: $scope.commitStatus,\r\n                    pageIndex: specialIndex++\r\n                })\r\n                .then(function (res) {\r\n                    loadingAnimation.hideLoading();\r\n                    if(res.code == \"0\"){\r\n                        if(!res.data.length){\r\n                            $scope.hasSpecia = false;\r\n                        }else{\r\n                            $scope.SpeciaList = $scope.SpeciaList.concat(res.data.map(function(v, i){\r\n                                for(var key in v){\r\n                                    if(key.indexOf(\"TIME\") != -1){\r\n                                        v[key] = v[key] && v[key] != \"null\" ? $filter(\"date\")(new Date(v[key]), \"yyyy-MM-dd\") : \"\";\r\n                                    }\r\n                                }\r\n                                v.STATE = StateContrast[v.STATE];\r\n                                return v;\r\n                            }));\r\n                        }\r\n                    }else{\r\n                        showAlert.showMsg(res, '', '', '确认')\r\n                    }\r\n                    $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                }, function (error) {\r\n                    loadingAnimation.hideLoading();\r\n                    $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                    showAlert.showMsg(error, '', '网络异常', '确认')\r\n                });\r\n            };\r\n        }\r\n    ]);","angular.module('BaiYin.taskManageA', [\r\n    'BaiYin.taskManage',\r\n    'BaiYin.taskManage.tmDetail',\r\n])","angular.module('BaiYin.userConfig', [\n    'ionic',\n    'BaiYin.editingUserInfo',\n    'BaiYin.editingPwd',\n    'BaiYin.userConfig.myDevice'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('userConfig', {\n        url: '/userConfig',\n        controller: 'userConfigController',\n        templateUrl: 'userConfig/userConfig.tpl.html',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('userConfigController', ['pageInitService', '$scope', '$http', '$ionicPopup', '$stateParams', '$state', 'Session',\n    function(pageInitService, $scope, $http, $ionicPopup, $stateParams, $state, Session) {\n        $scope.UserInfo = Session.userInfoData.UserInfo;\n    }\n])","angular.module('BaiYin.userServers', [\n    'BaiYin.blankPage',\n    'BaiYin.login'\n])","angular.module('BaiYin.agentsList', [])\r\n.config(['$stateProvider', function($stateProvider) {\r\n    $stateProvider.state('AgentsList', {\r\n        url: '/AgentsList',\r\n        controller: 'AgentsListController',\r\n        templateUrl: 'Agents/AgentsList/AgentsList.tpl.html',\r\n        cache: 'false',\r\n        authorizedRuleType: ['1']\r\n    })\r\n}])\r\n\r\n.controller('AgentsListController', ['$scope', 'showAlert', 'pageInitService', '$http', '$state',\r\n    function($scope, showAlert, pageInitService, $http, $state) {\r\n        $scope.$on('$ionicView.afterEnter', function() {\r\n            var apis = [\r\n            'ServiceName=ApproveService&TransName=getUnApprvedList'\r\n            ];\r\n\r\n            pageInitService.pageInit(apis).then(function(result) {\r\n             $scope.listsMsg = result[0]\r\n             console.log(result[0])\r\n             agentListMsg($scope.listsMsg)\r\n            \r\n            $scope.agentsItem = function(item) {\r\n                $state.go('agentsView')\r\n                var ItemCont =JSON.stringify(item)\r\n                sessionStorage.setItem(\"agentsVD\", ItemCont); \r\n            }\r\n        }, function(error) {\r\n             showAlert.showMsg(error,'','网络异常','确认')\r\n        });\r\n            $scope.loadNumber=1;\r\n            $scope.loadMore=function(){\r\n             $scope.loadNumber+=1;\r\n             $http.get( 'ServiceName=ApproveService&TransName=getUnApprvedList&PageNo=' + $scope.loadNumber)\r\n             .then(function(res){\r\n                 if(res.data.length>0){\r\n                   for(var i=0;i<res.data.length;i++){\r\n                    res.data[i].CREATED_DATE=new Date(res.data[i].CREATED_DATE);\r\n                    $scope.items.push(res.data[i])  \r\n                    console.log( res.data[i])\r\n                    $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                }\r\n            }else if(res.data.length<=0||res.data==null||res.data==undefined){\r\n             $scope.hasMore=false;\r\n             $scope.$broadcast('scroll.infiniteScrollComplete');\r\n         }\r\n     }\r\n     ,function(error){\r\n       showAlert.showMsg(error,'','网络异常','确认')\r\n         $scope.hasMore=false;\r\n     })\r\n         };\r\n    });\r\n        $scope.historySearch=function(){\r\n             $state.go('historyList')\r\n        }\r\n        function agentListMsg(res){\r\n         var str = [];\r\n         var arr = {};\r\n         for (var i = 0; i < res.data.length; i++) {\r\n            arr = res.data[i]\r\n            arr.CREATED_DATE = new Date(arr.CREATED_DATE)\r\n            str.push(arr)\r\n        }\r\n        $scope.items = str;\r\n         if($scope.items.length>=10&&$scope.items!=undefined&&$scope.items!=null){\r\n                $scope.hasMore=true;\r\n            }\r\n    };\r\n    $scope.doRefresh = function() {\r\n        $http.get('ServiceName=ApproveService&TransName=getUnApprvedList')\r\n        .then(function(res) {\r\n            agentListMsg(res)\r\n            $scope.$broadcast('scroll.refreshComplete');\r\n            if(res.data.length==10){\r\n               $scope.loadNumber=1;\r\n               $scope.hasMore=true;\r\n           }else{\r\n            $scope.hasMore=false;\r\n        }\r\n    }, function(error) {\r\n        $scope.hasMore=false;\r\n        showAlert.showMsg(error,'','网络异常','确认')\r\n})\r\n    }\r\n\r\n}\r\n])","angular.module('BaiYin.attence.attenceCdDetail', [\r\n    'ionic',\r\n    'ionic-datepicker',\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/attenceCdDetail', {\r\n            url: '/attence/attenceCdDetail',\r\n            controller: 'attenceCdDetailController',\r\n            templateUrl: 'attence/attenceCdDetail/attenceCdDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {dateTimeShow: null, partName: null, partCode: null}\r\n        })\r\n        var datePickerObj = {\r\n            inputDate: new Date(),\r\n            setLabel: '选择',\r\n            todayLabel: '今天',\r\n            closeLabel: '关闭',\r\n            mondayFirst: false,\r\n            weeksList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],//[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n            monthsList: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],//[\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\r\n            templateType: 'popup',\r\n            from: new Date(2012, 1, 1),\r\n            to: new Date(2020, 1, 1),\r\n            showTodayButton: true,\r\n            dateFormat: 'yyyy-MM-dd',\r\n            closeOnSelect: false\r\n        };\r\n        ionicDatePickerProvider.configDatePicker(datePickerObj);\r\n    }])\r\n    .controller('attenceCdDetailController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicActionSheet', 'ionicDatePicker',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicActionSheet, ionicDatePicker) {\r\n            var dateTimeShow, departCode;\r\n            $scope.$on('$ionicView.enter', function () {\r\n                //获取统计页面传来的时间和部门\r\n                dateTimeShow = $stateParams.dateTimeShow;\r\n                var departName = $stateParams.partName;\r\n                departCode = $stateParams.partCode;\r\n                console.log(\"dateTimeShow==\" + dateTimeShow + \"/departName==\" + departName + \"/departCode==\" + departCode);\r\n                $(\"#attenceCdGlassid\").val(departName);\r\n                $(\"#attenceCdTimeid\").text(dateTimeShow);\r\n                cdztList(dateTimeShow, departCode);\r\n                orgList();\r\n            });\r\n            var date = new Date();\r\n\r\n            //点击选择部门\r\n            var glassName = '';\r\n            var glassArray;\r\n\r\n            //获取部门信息\r\n            function orgList() {\r\n                glassArray = [];\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=ClockService&TransName=deptList')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.orgList = res.data.tList;\r\n                            console.log(\"orgList==\" + JSON.stringify($scope.orgList));\r\n                            //默认部门\r\n                            // $(\"#attenceCdGlassid\").val($scope.orgList[0].ORG_NAME);\r\n                            for (var i = 0; i < $scope.orgList.length; i++) {\r\n                                var olist = {};\r\n                                olist.orgCode = $scope.orgList[i].ORG_CODE;\r\n                                olist.text = $scope.orgList[i].ORG_NAME;\r\n                                glassArray.push(olist);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            $scope.selectGlass = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: glassArray,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        glassName = glassArray[index].text;\r\n                        departCode = glassArray[index].orgCode;\r\n                        console.log(\"glassName==\" + glassName + \"/departCode==\" + departCode);\r\n                        $(\"#attenceCdGlassid\").val(glassName);\r\n                        cdztList(dateTimeShow, departCode);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            //获取迟到早退列表信息\r\n            function cdztList(dayTime, departNo) {\r\n                var parmas = {\r\n                    QUERY_DATE: dayTime,\r\n                    DEPT: departNo,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendReasonService&TransName=lateAndEarly', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.cdztList = res.data.tList;\r\n                            console.log(\"cdztList===\" + JSON.stringify($scope.cdztList));\r\n                        } else {\r\n                            $scope.cdztList = '';\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            var ipObj1 = {\r\n                callback: function (val) {\r\n                    console.log('点击事件返回值 : ' + new Date(val));\r\n                    dateTimeShow = $filter(\"date\")(val, \"yyyy-MM-dd\");\r\n                    $(\"#attenceCdTimeid\").text(dateTimeShow);\r\n                    cdztList(dateTimeShow, departCode);\r\n                },\r\n                from: new Date(2012, 1, 1),\r\n                to: new Date(),\r\n                inputDate: new Date(),\r\n                mondayFirst: false,\r\n                closeOnSelect: false,\r\n                templateType: 'popup'\r\n            };\r\n            $scope.openDatePicker = function () {\r\n                ionicDatePicker.openDatePicker(ipObj1);\r\n            };\r\n        }\r\n\r\n    ])\r\n","angular.module('BaiYin.attence.attenceWdDetail', [\r\n    'ionic',\r\n    'ionic-datepicker',\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/attenceWdDetail', {\r\n            url: '/attence/attenceWdDetail',\r\n            controller: 'attenceWdDetailController',\r\n            templateUrl: 'attence/attenceWdDetail/attenceWdDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {dateTimeShow: null, partName: null, partCode: null}\r\n        })\r\n        var datePickerObj = {\r\n            inputDate: new Date(),\r\n            setLabel: '选择',\r\n            todayLabel: '今天',\r\n            closeLabel: '关闭',\r\n            mondayFirst: false,\r\n            weeksList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],//[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n            monthsList: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],//[\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\r\n            templateType: 'popup',\r\n            from: new Date(2012, 1, 1),\r\n            to: new Date(2020, 1, 1),\r\n            showTodayButton: true,\r\n            dateFormat: 'yyyy-MM-dd',\r\n            closeOnSelect: false\r\n        };\r\n        ionicDatePickerProvider.configDatePicker(datePickerObj);\r\n    }])\r\n    .controller('attenceWdDetailController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicActionSheet', 'ionicDatePicker', '$ionicPopup',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicActionSheet, ionicDatePicker, $ionicPopup) {\r\n            $scope.qqCause = true;\r\n            var dateTimeShow,departCode;\r\n            $scope.$on('$ionicView.enter', function () {\r\n                //获取统计页面传来的时间和部门\r\n                dateTimeShow = $stateParams.dateTimeShow;\r\n                var departName = $stateParams.partName;\r\n                departCode = $stateParams.partCode;\r\n                console.log(\"这是\"+departName,departCode);\r\n                $(\"#unClockGalssId\").val(departName);\r\n                $(\"#wdkDetailtimeID\").text(dateTimeShow);\r\n                unClockList(dateTimeShow, departCode);\r\n\r\n\r\n            });\r\n            var date = new Date();\r\n            $scope.toCause = function (obj) {\r\n                console.log(\"obj==\" + JSON.stringify(obj));\r\n                $scope.qqCause = false;\r\n            }\r\n\r\n            //获取未打卡列表信息\r\n            function unClockList(day, dept) {\r\n                var parmas = {\r\n                    QUERY_DATE: day,\r\n                    DEPT: dept,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendReasonService&TransName=unClock',parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.unClockList = res.data.tList;\r\n                        } else {\r\n                            $scope.unClockList='';\r\n                            showAlert.showMsg('','',res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            //点击选择部门\r\n            var glassName = '';\r\n            var glassArray;\r\n\r\n            //获取部门信息\r\n            function orgList() {\r\n                glassArray = [];\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=ClockService&TransName=deptList')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.orgList = res.data.tList;\r\n                            //默认部门\r\n                            // $(\"#unClockGalssId\").val($scope.orgList[0].ORG_NAME);\r\n                            for (var i = 0; i < $scope.orgList.length; i++) {\r\n                                var olist = {};\r\n                                olist.orgCode = $scope.orgList[i].ORG_CODE;\r\n                                olist.text = $scope.orgList[i].ORG_NAME;\r\n                                glassArray.push(olist);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            $scope.selectGlass = function () {\r\n                //获取部门列表\r\n                orgList();\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: glassArray,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        glassName = glassArray[index].text;\r\n                        departCode = glassArray[index].orgCode\r\n                        console.log(\"glassName==\" + glassName);\r\n                        $(\"#unClockGalssId\").val(glassName);\r\n                        unClockList($scope.now, departCode);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n\r\n            var ipObj1 = {\r\n                callback: function (val) {\r\n                    console.log('点击事件返回值 : ' + new Date(val));\r\n                    $scope.now = $filter(\"date\")(val, \"yyyy-MM-dd\");\r\n                    $(\"#wdkDetailtimeID\").text($scope.now);\r\n                    unClockList($scope.now, departCode);\r\n                },\r\n                from: new Date(2012, 1, 1),\r\n                to: new Date(),\r\n                inputDate: new Date(),\r\n                mondayFirst: false,\r\n                closeOnSelect: false,\r\n                templateType: 'popup'\r\n            };\r\n            $scope.openDatePicker = function () {\r\n                ionicDatePicker.openDatePicker(ipObj1);\r\n            };\r\n\r\n        }\r\n\r\n    ])\r\n","angular.module('BaiYin.attence.attenceZtDetail', [\r\n    'ionic',\r\n    'ionic-datepicker',\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/attenceZtDetail', {\r\n            url: '/attence/attenceZtDetail',\r\n            controller: 'attenceZtDetailController',\r\n            templateUrl: 'attence/attenceZtDetail/attenceZtDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {dateTimeShow: null, partName: null, partCode: null}\r\n        })\r\n        var datePickerObj = {\r\n            inputDate: new Date(),\r\n            setLabel: '选择',\r\n            todayLabel: '今天',\r\n            closeLabel: '关闭',\r\n            mondayFirst: false,\r\n            weeksList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],//[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n            monthsList: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],//[\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\r\n            templateType: 'popup',\r\n            from: new Date(2012, 1, 1),\r\n            to: new Date(2020, 1, 1),\r\n            showTodayButton: true,\r\n            dateFormat: 'yyyy-MM-dd',\r\n            closeOnSelect: false\r\n        };\r\n        ionicDatePickerProvider.configDatePicker(datePickerObj);\r\n    }])\r\n    .controller('attenceZtDetailController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicActionSheet', 'ionicDatePicker',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicActionSheet, ionicDatePicker) {\r\n            var dateTimeShow, departCode;\r\n            $scope.$on('$ionicView.enter', function () {\r\n                //获取统计页面传来的时间和部门\r\n                dateTimeShow = $stateParams.dateTimeShow;\r\n                var departName = $stateParams.partName;\r\n                departCode = $stateParams.partCode;\r\n                console.log(\"dateTimeShow==\" + dateTimeShow + \"/departName==\" + departName + \"/departCode==\" + departCode);\r\n                $(\"#attenceCdGlassid\").val(departName);\r\n                $(\"#attenceCdTimeid\").text(dateTimeShow);\r\n                cdztList(dateTimeShow, departCode);\r\n                orgList();\r\n            });\r\n            var date = new Date();\r\n\r\n            //点击选择部门\r\n            var glassName = '';\r\n            var glassArray;\r\n\r\n            //获取部门信息\r\n            function orgList() {\r\n                glassArray = [];\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=ClockService&TransName=deptList')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.orgList = res.data.tList;\r\n                            console.log(\"orgList==\" + JSON.stringify($scope.orgList));\r\n                            //默认部门\r\n                            // $(\"#attenceCdGlassid\").val($scope.orgList[0].ORG_NAME);\r\n                            for (var i = 0; i < $scope.orgList.length; i++) {\r\n                                var olist = {};\r\n                                olist.orgCode = $scope.orgList[i].ORG_CODE;\r\n                                olist.text = $scope.orgList[i].ORG_NAME;\r\n                                glassArray.push(olist);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            $scope.selectGlass = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: glassArray,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        glassName = glassArray[index].text;\r\n                        departCode = glassArray[index].orgCode;\r\n                        console.log(\"glassName==\" + glassName + \"/departCode==\" + departCode);\r\n                        $(\"#attenceCdGlassid\").val(glassName);\r\n                        cdztList(dateTimeShow, departCode);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            //获取迟到早退列表信息\r\n            function cdztList(dayTime, departNo) {\r\n                var parmas = {\r\n                    QUERY_DATE: dayTime,\r\n                    DEPT: departNo,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendReasonService&TransName=lateAndEarly', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.cdztList = res.data.tList;\r\n                            console.log(\"cdztList===\" + JSON.stringify($scope.cdztList));\r\n                        } else {\r\n                            $scope.cdztList = '';\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            var ipObj1 = {\r\n                callback: function (val) {\r\n                    console.log('点击事件返回值 : ' + new Date(val));\r\n                    dateTimeShow = $filter(\"date\")(val, \"yyyy-MM-dd\");\r\n                    $(\"#attenceCdTimeid\").text(dateTimeShow);\r\n                    cdztList(dateTimeShow, departCode);\r\n                },\r\n                from: new Date(2012, 1, 1),\r\n                to: new Date(),\r\n                inputDate: new Date(),\r\n                mondayFirst: false,\r\n                closeOnSelect: false,\r\n                templateType: 'popup'\r\n            };\r\n            $scope.openDatePicker = function () {\r\n                ionicDatePicker.openDatePicker(ipObj1);\r\n            };\r\n        }\r\n\r\n    ])\r\n","angular.module('BaiYin.attence.attenZcDetail', [\r\n    'ionic',\r\n    'ionic-datepicker',\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/attenZcDetail', {\r\n            url: '/attence/attenZcDetail',\r\n            controller: 'attenZcDetailController',\r\n            templateUrl: 'attence/attenZcDetail/attenZcDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {dateTimeShow: null, partName: null, partCode: null}\r\n        })\r\n        var datePickerObj = {\r\n            inputDate: new Date(),\r\n            setLabel: '选择',\r\n            todayLabel: '今天',\r\n            closeLabel: '关闭',\r\n            mondayFirst: false,\r\n            weeksList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],//[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n            monthsList: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],//[\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\r\n            templateType: 'popup',\r\n            from: new Date(2012, 1, 1),\r\n            to: new Date(2020, 1, 1),\r\n            showTodayButton: true,\r\n            dateFormat: 'yyyy-MM-dd',\r\n            closeOnSelect: false\r\n        };\r\n        ionicDatePickerProvider.configDatePicker(datePickerObj);\r\n    }])\r\n    .controller('attenZcDetailController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicActionSheet', 'ionicDatePicker',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicActionSheet, ionicDatePicker) {\r\n            var dateTimeShow, departCode;\r\n            $scope.$on('$ionicView.enter', function () {\r\n                //获取统计页面传来的时间和部门\r\n                dateTimeShow = $stateParams.dateTimeShow;\r\n                var departName = $stateParams.partName;\r\n                departCode = $stateParams.partCode;\r\n                console.log(\"dateTimeShow==\" + dateTimeShow + \"/departName==\" + departName + \"/departCode==\" + departCode);\r\n                $(\"#attenceCdGlassid\").val(departName);\r\n                $(\"#attenceCdTimeid\").text(dateTimeShow);\r\n                cdztList(dateTimeShow, departCode);\r\n                orgList();\r\n            });\r\n            var date = new Date();\r\n\r\n            //点击选择部门\r\n            var glassName = '';\r\n            var glassArray;\r\n\r\n            //获取部门信息\r\n            function orgList() {\r\n                glassArray = [];\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=ClockService&TransName=deptList')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.orgList = res.data.tList;\r\n                            console.log(\"orgList==\" + JSON.stringify($scope.orgList));\r\n                            //默认部门\r\n                            // $(\"#attenceCdGlassid\").val($scope.orgList[0].ORG_NAME);\r\n                            for (var i = 0; i < $scope.orgList.length; i++) {\r\n                                var olist = {};\r\n                                olist.orgCode = $scope.orgList[i].ORG_CODE;\r\n                                olist.text = $scope.orgList[i].ORG_NAME;\r\n                                glassArray.push(olist);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            $scope.selectGlass = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: glassArray,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        glassName = glassArray[index].text;\r\n                        departCode = glassArray[index].orgCode;\r\n                        console.log(\"glassName==\" + glassName + \"/departCode==\" + departCode);\r\n                        $(\"#attenceCdGlassid\").val(glassName);\r\n                        cdztList(dateTimeShow, departCode);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            //获取正常打卡列表信息\r\n            function cdztList(dayTime, departNo) {\r\n                var parmas = {\r\n                    QUERY_DATE: dayTime,\r\n                    DEPT: departNo,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendReasonService&TransName=normalPerson', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.cdztList = res.data.zList;\r\n                            console.log(\"cdztList===\" + JSON.stringify($scope.cdztList));\r\n                        } else {\r\n                            $scope.cdztList = '';\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            var ipObj1 = {\r\n                callback: function (val) {\r\n                    console.log('点击事件返回值 : ' + new Date(val));\r\n                    dateTimeShow = $filter(\"date\")(val, \"yyyy-MM-dd\");\r\n                    $(\"#attenceCdTimeid\").text(dateTimeShow);\r\n                    cdztList(dateTimeShow, departCode);\r\n                },\r\n                from: new Date(2012, 1, 1),\r\n                to: new Date(),\r\n                inputDate: new Date(),\r\n                mondayFirst: false,\r\n                closeOnSelect: false,\r\n                templateType: 'popup'\r\n            };\r\n            $scope.openDatePicker = function () {\r\n                ionicDatePicker.openDatePicker(ipObj1);\r\n            };\r\n        }\r\n\r\n    ])\r\n","angular.module('BaiYin.attence.countAttence', [\r\n    'ionic',\r\n    'ionic-datepicker',\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/countAttence', {\r\n            url: '/attence/countAttence',\r\n            controller: 'countAttenceController',\r\n            templateUrl: 'attence/countAttence/countAttence.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n        var datePickerObj = {\r\n            inputDate: new Date(),\r\n            setLabel: '选择',\r\n            todayLabel: '今天',\r\n            closeLabel: '关闭',\r\n            mondayFirst: false,\r\n            weeksList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],//[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n            monthsList: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],//[\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\r\n            templateType: 'popup',\r\n            from: new Date(2012, 1, 1),\r\n            to: new Date(2020, 1, 1),\r\n            showTodayButton: true,\r\n            dateFormat: 'yyyy-MM-dd',\r\n            closeOnSelect: false\r\n        };\r\n        ionicDatePickerProvider.configDatePicker(datePickerObj);\r\n\r\n    }])\r\n    .controller('countAttenceController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicActionSheet', 'ionicDatePicker',\r\n\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicActionSheet, ionicDatePicker) {\r\n            var date = new Date();\r\n            console.log(date);\r\n            //当前部门\r\n            $scope.deptName = token.DeptName;\r\n            $scope.deptNo = token.DeptNo;\r\n            //部门变量\r\n            var glassName = token.DeptName;\r\n            var glassMName = token.DeptName;\r\n            var glassMCode = '';\r\n            var glassCode = '';\r\n            var glassArray;\r\n            var glassArraym;\r\n            glassCode = $scope.deptNo;\r\n            glassMCode = $scope.deptNo;\r\n            $scope.num=0;\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                //当前部门\r\n                $scope.num++;\r\n                if($scope.num==1){\r\n                    $scope.deptName = token.DeptName;\r\n                    $(\"#countgalssId\").val(token.DeptName);\r\n                }else{\r\n                    // $scope.deptName = glassName;\r\n                    $(\"#countgalssId\").val(glassName);\r\n                }\r\n\r\n                $scope.now = $filter(\"date\")(date, \"yyyy-MM-dd\");\r\n                countByDay($scope.now, glassCode);\r\n            });\r\n            //点击日统计数据\r\n            $scope.toCountDay = function () {\r\n                $ionicTabsDelegate.select(0);\r\n                $scope.now = $filter(\"date\")(date, \"yyyy-MM-dd\");\r\n                countByDay($scope.now, glassCode);\r\n            }\r\n            //点击月统计数据\r\n            $scope.toCountMounth = function () {\r\n                $ionicTabsDelegate.select(1);\r\n                console.log(\"月当前部门==\" + token.DeptName);\r\n                //$(\"#glassMounthId\").val(token.DeptName);\r\n                //点击当前月的后一个月\r\n                $(\".rightSelect\").attr(\"disabled\", true);\r\n                //获取部门\r\n                $scope.nowMounth = $filter(\"date\")(date, \"yyyy-MM\");\r\n                $scope.newDate = $filter(\"date\")(date, \"yyyy-MM\");\r\n                countnMounth($scope.nowMounth, glassMCode);\r\n            }\r\n\r\n            //点击向前一个月\r\n            $scope.getPreMonth = function (date) {\r\n                var arr = date.split('-');\r\n                var year = arr[0]; //获取当前日期的年份\r\n                var month = arr[1]; //获取当前日期的月份\r\n                var year2 = year;\r\n                var month2 = parseInt(month) - 1;\r\n                if (month2 == 0) {\r\n                    year2 = parseInt(year2) - 1;\r\n                    month2 = 12;\r\n                }\r\n                if (month2 < 10) {\r\n                    month2 = '0' + month2;\r\n                }\r\n                var t2 = year2 + '-' + month2;\r\n                $scope.nowMounth = t2;\r\n                countnMounth(t2, glassMCode);\r\n                //点击当前月的后一个月\r\n                $(\".rightSelect\").attr(\"disabled\", false);\r\n            }\r\n            //点击向后一个月\r\n            $scope.getNextMonth = function (date) {\r\n                console.log(\"date==\" + date);\r\n                var arr = date.split('-');\r\n                var year = arr[0]; //获取当前日期的年份\r\n                var month = arr[1]; //获取当前日期的月份\r\n                var year2 = year;\r\n                var month2 = parseInt(month) + 1;\r\n                if (month2 == 13) {\r\n                    year2 = parseInt(year2) + 1;\r\n                    month2 = 1;\r\n                }\r\n                if (month2 < 10) {\r\n                    month2 = '0' + month2;\r\n                }\r\n\r\n                var t2 = year2 + '-' + month2;\r\n                if ($scope.newDate <= t2) {\r\n                    $(\".rightSelect\").attr(\"disabled\", true);\r\n                    $scope.nowMounth = t2;\r\n                    countnMounth(t2, glassMCode);\r\n                }\r\n                else {\r\n                    $scope.nowMounth = t2;\r\n                    countnMounth(t2, glassMCode);\r\n                    $(\".rightSelect\").attr(\"disabled\", false);\r\n                }\r\n            }\r\n            //获取日历插件\r\n            var ipObj1 = {\r\n                callback: function (val) {\r\n                    console.log('点击事件返回值 : ' + new Date(val));\r\n                    $scope.now = $filter(\"date\")(val, \"yyyy-MM-dd\");\r\n                    countByDay($scope.now, glassCode);\r\n                },\r\n                from: new Date(2012, 1, 1),\r\n                to: new Date(),\r\n                inputDate: new Date(),\r\n                mondayFirst: false,\r\n                closeOnSelect: false,\r\n                templateType: 'popup'\r\n            };\r\n            $scope.openDatePicker = function () {\r\n                ionicDatePicker.openDatePicker(ipObj1);\r\n            };\r\n\r\n            //获取日统计信息\r\n            function countByDay(day, dept) {\r\n                var parmas = {\r\n                    QUERY_DATE: day,\r\n                    DEPT: dept,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendStatisticsService&TransName=dayStatistics', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.countDayList = res.data;\r\n                            $scope.wdkNUM = $scope.countDayList.unclockPerson;\r\n                            $scope.dkNUM = $scope.countDayList.clockPerson;\r\n                            $scope.allNUM = $scope.countDayList.allPerson;\r\n                            orgList();\r\n                            draw($scope, $scope.wdkNUM, $scope.dkNUM, $scope.allNUM);\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            //获取月统计信息\r\n            function countnMounth(mounth, dept) {\r\n                var parmas = {\r\n                    QUERY_MONTH: mounth,\r\n                    DEPT: dept,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendStatisticsService&TransName=monthStatistics', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.personList= res.data.tList;\r\n                            orgList();\r\n                        } else {\r\n                            showAlert.showMsg(res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            //获取部门信息\r\n            function orgList() {\r\n                glassArray = [];\r\n                glassArraym = [];\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=ClockService&TransName=deptList')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.orgList = res.data.tList;\r\n                            for (var i = 0; i < $scope.orgList.length; i++) {\r\n                                var olist = {};\r\n                                olist.orgCode = $scope.orgList[i].ORG_CODE;\r\n                                olist.text = $scope.orgList[i].ORG_NAME;\r\n                                glassArray.push(olist);\r\n                                glassArraym.push(olist);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            //月统计选择部门\r\n            $scope.toSelectGlass = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: glassArraym,\r\n                    cancel: function () {\r\n\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        glassMName = glassArraym[index].text;\r\n                        glassMCode = glassArraym[index].orgCode;\r\n                        $(\"#glassMounthId\").val(glassMName);\r\n                        countnMounth($scope.nowMounth, glassMCode);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            //日统计选择部门\r\n            $scope.selectGlass = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: glassArray,\r\n                    cancel: function () {\r\n\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        glassName = glassArray[index].text;\r\n                        glassCode = glassArray[index].orgCode;\r\n                        $(\"#countgalssId\").val(glassName);\r\n                        countByDay($scope.now, glassCode);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n\r\n            //画饼图\r\n            function draw($scope, wdkNum, dkNum, allNum) {\r\n                var a = [];\r\n                var radius = [55, 75];\r\n                var labelTop = {\r\n                    normal: {\r\n                        color: '#ccc',\r\n                        label: {\r\n                            show: true,\r\n                            position: 'center',\r\n                            formatter: '打卡人数/总数',\r\n                            textStyle: {\r\n                                baseline: 'bottom'\r\n                            }\r\n                        },\r\n                        labelLine: {\r\n                            show: false\r\n                        }\r\n                    }\r\n                };\r\n                var labelFromatter = {\r\n                    normal: {\r\n                        label: {\r\n                            formatter: function (params) {\r\n                                return dkNum + '/' + allNum;\r\n                            },\r\n                            textStyle: {\r\n                                baseline: 'top'\r\n                            }\r\n                        }\r\n                    },\r\n                }\r\n                var labelBottom = {\r\n                    normal: {\r\n                        color: '#3492e9',\r\n                        label: {\r\n                            show: true,\r\n                            position: 'center'\r\n                        },\r\n                        labelLine: {\r\n                            show: false\r\n                        }\r\n                    },\r\n                    emphasis: {\r\n                        color: 'rgba(0,0,0,0)'\r\n                    }\r\n                };\r\n                var option = {\r\n                    title: {\r\n                        /*text : '考勤统计',*///标题说明\r\n                        x: 'center'//居中\r\n                    },\r\n                    // 提示框，鼠标悬浮交互时的信息提示\r\n                    tooltip: {\r\n                        show: true,\r\n                        formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n                    },\r\n                    // 图例\r\n                    legend: {\r\n                        x: 'center',\r\n                        y: '10',\r\n                    },\r\n                    series: [\r\n                        {\r\n                            name: '',\r\n                            type: 'pie',\r\n                            radius: radius,\r\n                            center: ['50%', '43%'],\r\n                            label: {\r\n                                normal: {\r\n                                    position: 'inner' //内置文本标签\r\n                                }\r\n                            },\r\n                            labelLine: {\r\n                                normal: {\r\n                                    show: false\r\n                                }\r\n                            },\r\n                            data: [\r\n                                {name: '打卡人数', value: dkNum, itemStyle: labelBottom},\r\n                                {name: '未打卡', value: wdkNum, itemStyle: labelTop}\r\n                            ],\r\n                            itemStyle: labelFromatter,\r\n                        }\r\n                    ]\r\n                };\r\n                var myChart = echarts.init(document.getElementById('main'), 'macarons');\r\n                myChart.setOption(option);\r\n            }\r\n\r\n            //点击跳转迟到详情\r\n            $scope.tocdDetail = function (num) {\r\n                if (num == 0) {\r\n                    return;\r\n                } else {\r\n                    $scope.dateTimeShow = $(\"#countDayId\").text();\r\n                    $scope.partName = $(\"#countgalssId\").val();\r\n                    $scope.partCode = glassCode;\r\n                    var item = {\r\n                        dateTimeShow: $scope.dateTimeShow,\r\n                        partName: $scope.partName,\r\n                        partCode: $scope.partCode,\r\n                    }\r\n                    $state.go('attence/attenceCdDetail', item);\r\n                }\r\n            }\r\n            //点击跳转早退详情\r\n            $scope.toZtDetail = function (num) {\r\n                if (num == 0) {\r\n                    return;\r\n                } else {\r\n                    $scope.dateTimeShow = $(\"#countDayId\").text();\r\n                    $scope.partName = $(\"#countgalssId\").val();\r\n                    $scope.partCode = glassCode;\r\n                    var item = {\r\n                        dateTimeShow: $scope.dateTimeShow,\r\n                        partName: $scope.partName,\r\n                        partCode: $scope.partCode,\r\n                    }\r\n                    $state.go('attence/attenceZtDetail', item);\r\n                }\r\n            }\r\n            //点击正常打卡详情\r\n            $scope.tozcDetail = function (num) {\r\n                if (num == 0) {\r\n                    return;\r\n                } else {\r\n                    $scope.dateTimeShow = $(\"#countDayId\").text();\r\n                    $scope.partName = $(\"#countgalssId\").val();\r\n                    $scope.partCode = glassCode;\r\n                    var item = {\r\n                        dateTimeShow: $scope.dateTimeShow,\r\n                        partName: $scope.partName,\r\n                        partCode: $scope.partCode,\r\n                    }\r\n                    $state.go('attence/attenZcDetail', item);\r\n                }\r\n            }\r\n\r\n            //点击跳打卡详情页面\r\n            $scope.towdDetail = function (num) {\r\n                if (num == 0) {\r\n                    return;\r\n                } else {\r\n                    $scope.dateTimeShow = $(\"#countDayId\").text();\r\n                    $scope.partName = $(\"#countgalssId\").val();\r\n                    $scope.partCode = glassCode;\r\n                    var item = {\r\n                        dateTimeShow: $scope.dateTimeShow,\r\n                        partName: $scope.partName,\r\n                        partCode: $scope.partCode,\r\n                    }\r\n                    $state.go('attence/attenceWdDetail', item);\r\n                }\r\n\r\n            }\r\n            //点击跳转到日未打卡列表\r\n            $scope.towdkList = function (num) {\r\n                if (num == 0) {\r\n                    return;\r\n                } else {\r\n                    $scope.dateTimeShow = $scope.nowMounth;\r\n                    $scope.partCode = glassCode;\r\n                    $scope.partName = $(\"#glassMounthId\").val();\r\n                    var item = {\r\n                        dateTimeShow: $scope.dateTimeShow,\r\n                        personNum: num,\r\n                        partCode: $scope.partCode,\r\n                        partName: $scope.partName,\r\n                    }\r\n                    $state.go('attence/countAttence/wdkList', item);\r\n                }\r\n\r\n            }\r\n            //点击跳转到日迟到列表\r\n            $scope.tocdList = function (num) {\r\n                if (num == 0) {\r\n                    return;\r\n                } else {\r\n                    $scope.dateTimeShow = $scope.nowMounth;\r\n                    $scope.partCode = glassCode;\r\n                    $scope.partName = $(\"#glassMounthId\").val();\r\n                    var item = {\r\n                        dateTimeShow: $scope.dateTimeShow,\r\n                        personNum: num,\r\n                        partCode: $scope.partCode,\r\n                        partName: $scope.partName,\r\n                    }\r\n                    $state.go('attence/countAttence/cdList', item);\r\n                }\r\n            }\r\n            //点击跳转日早退列表\r\n            $scope.toztList = function (num) {\r\n                if (num == 0) {\r\n                    return;\r\n                } else {\r\n                    $scope.dateTimeShow = $scope.nowMounth;\r\n                    $scope.partCode = glassCode;\r\n                    $scope.partName = $(\"#glassMounthId\").val();\r\n                    var item = {\r\n                        dateTimeShow: $scope.dateTimeShow,\r\n                        personNum: num,\r\n                        partCode: $scope.partCode,\r\n                        partName: $scope.partName,\r\n                    }\r\n                    $state.go('attence/countAttence/ztList', item);\r\n                }\r\n            }\r\n\r\n            //点击跳转个人月打卡详情\r\n            $scope.toeveryDetail=function (obj) {\r\n                console.log(obj);\r\n                $scope.dateTimeShow = $scope.nowMounth;\r\n                $scope.PERSON_ID = obj.personId;\r\n                $scope.personName = obj.personName;\r\n                $scope.count = obj.COUNT;\r\n                var item = {\r\n                    PERSON_ID: $scope.PERSON_ID,\r\n                    QUERY_MONTH: $scope.dateTimeShow,\r\n                    personName: $scope.personName,\r\n                    count: $scope.count,\r\n                }\r\n                $state.go('attence/countAttence/wdkDetail', item);\r\n            }\r\n        }\r\n    ])\r\n    .directive('pie', function () {\r\n        return {\r\n            scope: {\r\n                id: \"@\",\r\n                legend: \"=\",\r\n                //item: \"=\",\r\n                data: \"=\"\r\n            },\r\n            restrict: 'E',\r\n            template: '<div style=\"height:200px; width:200px\"></div>',\r\n            replace: true,\r\n            link: function ($scope, element, attrs, controller) {\r\n            }\r\n        };\r\n    });\r\n","angular.module('BaiYin.attence.countAttenceA', [\r\n    'BaiYin.attence.countAttence',\r\n    'BaiYin.attence.countAttence.wdkList',\r\n    'BaiYin.attence.countAttence.wdkDetail',\r\n    'BaiYin.attence.countAttence.cdList',\r\n    'BaiYin.attence.countAttence.cdDetail',\r\n    'BaiYin.attence.countAttence.ztList',\r\n    'BaiYin.attence.countAttence.ztDetail',\r\n    'BaiYin.attence.countAttence.zcList',\r\n])","angular.module('BaiYin.attence.fillCause', [\r\n    'ionic',\r\n    'ionic-datepicker',\r\n\r\n])\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider,ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/fillCause', {\r\n            url: '/attence/fillCause',\r\n            controller: 'fillCauseController',\r\n            templateUrl: 'attence/fillCause/fillCause.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n        var datePickerObj = {\r\n            inputDate: new Date(),\r\n            setLabel: '选择',\r\n            todayLabel: '今天',\r\n            closeLabel: '关闭',\r\n            mondayFirst: false,\r\n            weeksList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],//[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n            monthsList: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],//[\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\r\n            templateType: 'popup',\r\n            from: new Date(2012, 1, 1),\r\n            to: new Date(2020, 1, 1),\r\n            showTodayButton: true,\r\n            dateFormat: 'yyyy-MM-dd',\r\n            closeOnSelect: false\r\n        };\r\n        ionicDatePickerProvider.configDatePicker(datePickerObj);\r\n    }])\r\n    .controller('fillCauseController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup','$ionicActionSheet','ionicDatePicker',\r\n\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup,$ionicActionSheet,ionicDatePicker) {\r\n        var chidaoNOTE=\"事由:\" ;\r\n        $scope.$on('$ionicView.afterEnter', function () {\r\n                //获取当前月份\r\n                getNowDate();\r\n            });\r\n            var date = new Date();\r\n            var number=1;\r\n            //获取系统前一周的时间\r\n            var oneweekdate = new Date(date-7*24*3600*1000);\r\n            var y = oneweekdate.getFullYear();\r\n            var m = oneweekdate.getMonth()+1;\r\n            var d = oneweekdate.getDate();\r\n            $scope.fromDate = y+'-'+m+'-'+d;\r\n            function getNowDate() {\r\n                $scope.now = $filter(\"date\")(date, \"yyyy-MM-dd\");\r\n                lateAndEarlyList();\r\n            }\r\n            //获取日历插件\r\n            var ipObj1 = {\r\n                callback: function (val) {\r\n                    console.log('点击事件返回值 : ' + new Date(val));\r\n                    $scope.now = $filter(\"date\")(val, \"yyyy-MM-dd\");\r\n                    if($scope.tabType=='lateAndEarly'){\r\n                        lateAndEarlyList();\r\n                    }else if($scope.tabType=='unClock'){\r\n                        unClockList();\r\n                    }\r\n                },\r\n                from: $scope.fromDate,\r\n                to: new Date(),\r\n                inputDate: new Date(),\r\n                mondayFirst: false,\r\n                closeOnSelect: false,\r\n                templateType: 'popup'\r\n            };\r\n            $scope.openDatePicker = function () {\r\n                ipObj1.inputDate = new Date($scope.now);\r\n                ionicDatePicker.openDatePicker(ipObj1);\r\n            };\r\n            //隐藏填写事由\r\n            $scope.fillCause = true;\r\n            $scope.blackShow = true;\r\n\r\n            //点击向前一个月\r\n            $scope.getPreMonth = function (date) {\r\n                console.log(\"date==\" + date);\r\n                var arr = date.split('-');\r\n                var year = arr[0]; //获取当前日期的年份\r\n                var month = arr[1]; //获取当前日期的月份\r\n                var year2 = year;\r\n                var month2 = parseInt(month) - 1;\r\n                if (month2 == 0) {\r\n                    year2 = parseInt(year2) - 1;\r\n                    month2 = 12;\r\n                }\r\n                if (month2 < 10) {\r\n                    month2 = '0' + month2;\r\n                }\r\n                var t2 = year2 + '-' + month2;\r\n                $scope.now = t2;\r\n            }\r\n            //点击向后一个月\r\n            $scope.getNextMonth = function (date) {\r\n                console.log(\"date==\" + date);\r\n                var arr = date.split('-');\r\n                var year = arr[0]; //获取当前日期的年份\r\n                var month = arr[1]; //获取当前日期的月份\r\n                var year2 = year;\r\n                var month2 = parseInt(month) + 1;\r\n                if (month2 == 13) {\r\n                    year2 = parseInt(year2) + 1;\r\n                    month2 = 1;\r\n                }\r\n                if (month2 < 10) {\r\n                    month2 = '0' + month2;\r\n                }\r\n\r\n                var t2 = year2 + '-' + month2;\r\n                $scope.now = t2;\r\n            }\r\n            //点击异常考勤查看事由\r\n            $scope.tofillCause = function (list, index) {\r\n                console.log(list,index)\r\n                 chidaoNOTE=list[index].NOTE;\r\n                weiCONFIRM_DATE=list[index].CONFIRM_DATE;\r\n                console.log(weiCONFIRM_DATE);\r\n                $scope.node =chidaoNOTE;\r\n                if(weiCONFIRM_DATE == null || typeof weiCONFIRM_DATE == \"undefined\" ||\r\n                    weiCONFIRM_DATE == \"\"){\r\n                    //缺勤事由点击事件\r\n                    $scope.data = new Object();\r\n                    // 自定义弹窗\r\n                    var myPopup = $ionicPopup.show({\r\n                        template: '<textarea ng-style=\"syWidth\" ng-model=\"node\" readonly></textarea>',\r\n                        title: '事由确认',\r\n                        scope: $scope,\r\n                        buttons: [\r\n                            {\r\n                                text: '取消',\r\n                                type: 'button-cancel'\r\n                            },\r\n                            {\r\n                                text: '<b>确认审核</b>',\r\n                                type: 'button-positive',\r\n                                onTap: function (e) {\r\n                                    if (!$scope.node) {\r\n                                        // 不允许用户关闭，除非输入数据\r\n                                        e.preventDefault();\r\n                                    } else {\r\n                                        submitNote(list, index);\r\n                                    }\r\n                                }\r\n                            },\r\n                        ]\r\n                    });\r\n                    myPopup.then(function (res) {\r\n                        console.log('Tapped!', res);\r\n                    });\r\n\r\n                }else{\r\n                    return false;\r\n                }\r\n\r\n            };\r\n\r\n            //缺勤事由编辑框样式\r\n            $scope.syWidth = {\r\n                \"height\": '100px',\r\n                \"border\": '1px solid #f4f4f4',\r\n                \"margin\": '0 auto',\r\n            }\r\n            //点击取消\r\n            $scope.toFillCancel = function () {\r\n                $scope.fillCause = true;\r\n                $scope.blackShow = true;\r\n            }\r\n\r\n            //切换标签\r\n            $scope.tabType = \"lateAndEarly\";\r\n            $scope.changeTabType=function(tabType){\r\n                console.log(number);\r\n                if(number==1){\r\n\r\n                }else{\r\n                    $scope.tabType = tabType;\r\n                    if(tabType=='lateAndEarly'){\r\n                        lateAndEarlyList();\r\n                    }else if(tabType=='unClock'){\r\n                        unClockList();\r\n                    }\r\n                }\r\n                number=2;\r\n            }\r\n            //获取迟到早退信息\r\n            function lateAndEarlyList() {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendReasonService&TransName=lateAndEarlyReason&QUERY_DATE=' + $scope.now)\r\n                    .then(function (res) {\r\n                        $scope.lateAndEarlyList = new Array();\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.lateAndEarlyList = res.data.tList;\r\n                        } else if ($scope.tabType == \"lateAndEarly\") {\r\n                            showAlert.showMsg(res.data);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //未打卡数据\r\n            function unClockList(){\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendReasonService&TransName=unClockReason&QUERY_DATE=' + $scope.now)\r\n                    .then(function (res) {\r\n                        $scope.unClockList = new Array();\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            console.log(res.data.wList)\r\n                            $scope.unClockList = res.data.wList;\r\n                        } else if ($scope.tabType == \"unClock\") {\r\n                            showAlert.showMsg(res.data);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //确认事由\r\n            function submitNote(list, index) {\r\n                console.log(list,index,$scope.now);\r\n                loadingAnimation.showLoading('数据保存中', 'loding', 0);\r\n                $http.post('ServiceName=AttendReasonService&TransName=Confirmation', {\r\n                    \"TRANSACTION_ID\": list[index].TRANSACTION_ID || \"\",\r\n                    \"PERSON_ID\": list[index].PERSON_ID,\r\n                    \"QUERY_DATE\": $scope.now\r\n                }).then(function (res) {\r\n                    loadingAnimation.hideLoading();\r\n                    if (res.data.code == '0') {\r\n                        if($scope.tabType=='lateAndEarly'){\r\n                            lateAndEarlyList();\r\n                        }else if($scope.tabType=='unClock'){\r\n                            unClockList();\r\n                        }\r\n                    } else {\r\n                        showAlert.showMsg(res.data);\r\n                    }\r\n                }, function (error) {\r\n                    loadingAnimation.hideLoading();\r\n                    showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                });\r\n            }\r\n        }\r\n    ])\r\n","angular.module('BaiYin.attence.leaveEarlyDetail', [\r\n    'ionic',\r\n    'ionic-datepicker',\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider',function ($stateProvider,ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/leaveEarlyDetail', {\r\n            url: '/attence/leaveEarlyDetail',\r\n            controller: 'leaveEarlyDetailController',\r\n            templateUrl: 'attence/leaveEarlyDetail/leaveEarlyDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n        var datePickerObj = {\r\n            inputDate: new Date(),\r\n            setLabel: '选择',\r\n            todayLabel: '今天',\r\n            closeLabel: '关闭',\r\n            mondayFirst: false,\r\n            weeksList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],//[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n            monthsList: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],//[\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\r\n            templateType: 'popup',\r\n            from: new Date(2012, 1, 1),\r\n            to: new Date(2020, 1, 1),\r\n            showTodayButton: true,\r\n            dateFormat: 'yyyy-MM-dd',\r\n            closeOnSelect: false\r\n        };\r\n        ionicDatePickerProvider.configDatePicker(datePickerObj);\r\n    }])\r\n    .controller('leaveEarlyDetailController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams','$ionicActionSheet','ionicDatePicker',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams,$ionicActionSheet,ionicDatePicker) {\r\n        $scope.qqCause = true;\r\n        $scope.$on('$ionicView.enter', function () {\r\n                //获取当前月份\r\n                getNowDate();\r\n            });\r\n            var date = new Date();\r\n\r\n            function getNowDate() {\r\n                $scope.now = $filter(\"date\")(date, \"yyyy-MM-dd\");\r\n            }\r\n\r\n            /*//点击向前一个月\r\n            $scope.getPreMonth = function (date) {\r\n                console.log(\"date==\" + date);\r\n                var arr = date.split('-');\r\n                var year = arr[0]; //获取当前日期的年份\r\n                var month = arr[1]; //获取当前日期的月份\r\n                var year2 = year;\r\n                var month2 = parseInt(month) - 1;\r\n                if (month2 == 0) {\r\n                    year2 = parseInt(year2) - 1;\r\n                    month2 = 12;\r\n                }\r\n                if (month2 < 10) {\r\n                    month2 = '0' + month2;\r\n                }\r\n                var t2 = year2 + '-' + month2;\r\n                $scope.now = t2;\r\n            }\r\n            //点击向后一个月\r\n            $scope.getNextMonth = function (date) {\r\n                console.log(\"date==\" + date);\r\n                var arr = date.split('-');\r\n                var year = arr[0]; //获取当前日期的年份\r\n                var month = arr[1]; //获取当前日期的月份\r\n                var year2 = year;\r\n                var month2 = parseInt(month) + 1;\r\n                if (month2 == 13) {\r\n                    year2 = parseInt(year2) + 1;\r\n                    month2 = 1;\r\n                }\r\n                if (month2 < 10) {\r\n                    month2 = '0' + month2;\r\n                }\r\n\r\n                var t2 = year2 + '-' + month2;\r\n                $scope.now = t2;\r\n            }*/\r\n            $scope.toCause = function(){\r\n                $scope.qqCause = false;\r\n            }\r\n            //点击选择部门\r\n            var glassName = '';\r\n            var glassArray = [{\"text\": \"人事部\"}, {\"text\": \"财务部\"}, {\"text\": \"技术部\"}, {\"text\": \"现场部\"}, {\"text\": \"研发部\"}, {\"text\": \"销售部\"}, {\"text\": \"理财部\"}];\r\n            $scope.selectGlass = function() {\r\n\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: glassArray,\r\n                    //destructiveText: 'Delete',\r\n                    //titleText: 'Modify your album',\r\n                    //cancelText: 'Cancel',\r\n                    cancel: function() {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function(index) {\r\n                        glassName = glassArray[index].text;\r\n                        $(\"#detailGalssId\").val(glassName);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            var ipObj1 = {\r\n                callback: function (val) {\r\n                    console.log('点击事件返回值 : ' + new Date(val));\r\n                    $scope.now = $filter(\"date\")(val, \"yyyy-MM-dd\");\r\n                },\r\n                from: new Date(2012, 1, 1),\r\n                to: new Date(),\r\n                inputDate: new Date(),\r\n                mondayFirst: false,\r\n                closeOnSelect: false,\r\n                templateType: 'popup'\r\n            };\r\n            $scope.openDatePicker = function () {\r\n                ionicDatePicker.openDatePicker(ipObj1);\r\n            };\r\n        }\r\n\r\n    ])\r\n","angular.module('BaiYin.attence.myAttence', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('attence/myAttence', {\r\n            url: '/attence/myAttence',\r\n            controller: 'myAttenceController',\r\n            templateUrl: 'attence/myAttence/myAttence.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('myAttenceController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup',\r\n\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup) {\r\n\r\n            var u = navigator.userAgent, app = navigator.appVersion;\r\n            var isiOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\r\n            if (isiOS) {\r\n                $('textarea').focus(function () {\r\n                    alert(\"textarea输入\");\r\n                    $(\".popup\").css(\"top\", \"10px\");\r\n                });\r\n            }\r\n\r\n            $scope.$on('$ionicView.enter', function () {\r\n                //获取当前月份\r\n                getNowDate();\r\n            });\r\n            var date = new Date();\r\n\r\n            function getNowDate() {\r\n                //禁止点击当前月的后一个月\r\n                $(\".rightSelect\").attr(\"disabled\", true);\r\n                $scope.now = $filter(\"date\")(date, \"yyyy-MM\");\r\n                $scope.newDate = $filter(\"date\")(date, \"yyyy-MM\");\r\n                attenceList($scope.now);\r\n            }\r\n\r\n            //点击向前一个月\r\n            $scope.getPreMonth = function (date) {\r\n                console.log(\"date==\" + date);\r\n                var arr = date.split('-');\r\n                var year = arr[0]; //获取当前日期的年份\r\n                var month = arr[1]; //获取当前日期的月份\r\n                var year2 = year;\r\n                var month2 = parseInt(month) - 1;\r\n                if (month2 == 0) {\r\n                    year2 = parseInt(year2) - 1;\r\n                    month2 = 12;\r\n                }\r\n                if (month2 < 10) {\r\n                    month2 = '0' + month2;\r\n                }\r\n                var t2 = year2 + '-' + month2;\r\n                $scope.now = t2;\r\n                attenceList(t2);\r\n                //点击当前月的后一个月\r\n                $(\".rightSelect\").attr(\"disabled\", false);\r\n            }\r\n            //点击向后一个月\r\n            $scope.getNextMonth = function (date) {\r\n                var arr = date.split('-');\r\n                var year = arr[0]; //获取当前日期的年份\r\n                var month = arr[1]; //获取当前日期的月份\r\n                var year2 = year;\r\n                var month2 = parseInt(month) + 1;\r\n                if (month2 == 13) {\r\n                    year2 = parseInt(year2) + 1;\r\n                    month2 = 1;\r\n                }\r\n                if (month2 < 10) {\r\n                    month2 = '0' + month2;\r\n                }\r\n                var t2 = year2 + '-' + month2;\r\n                if ($scope.newDate <= t2) {\r\n                    $(\".rightSelect\").attr(\"disabled\", true);\r\n                    $scope.now = t2;\r\n                    attenceList(t2);\r\n                }\r\n                else {\r\n                    $scope.now = t2;\r\n                    attenceList(t2);\r\n                    $(\".rightSelect\").attr(\"disabled\", false);\r\n                }\r\n\r\n            }\r\n\r\n            //获取考勤信息\r\n            function attenceList(mounth) {\r\n                console.log(\"mounth==\" + mounth);\r\n                $scope.attenList = [];\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendStatisticsService&TransName=myAttendence&QUERY_MONTH=' + mounth)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.attenceList = new Array();\r\n                            res.data.dList.forEach(function (v, i) {\r\n                                var date = [v.year, v.month, v.date].join(\"-\");\r\n                                $scope.attenceList.push({\r\n                                    dates: date,\r\n                                    year: v.year,\r\n                                    month: v.month,\r\n                                    date: v.date,\r\n                                    week: v.week,\r\n                                    list: res.data.dvalue[date].map(function (v, i) {\r\n                                        if (v.actualStartTime == null) {\r\n                                            v.actualStartTime = ''\r\n                                        } else {\r\n                                            v.actualStartTime = v.actualStartTime.substr(11, 5)\r\n                                        }\r\n                                        if (v.actualEndTime == null) {\r\n                                            v.actualEndTime = ''\r\n                                        } else {\r\n                                            v.actualEndTime = v.actualEndTime.substr(11, 5)\r\n                                        }\r\n                                        return v;\r\n                                    })\r\n                                });\r\n                            });\r\n                            // $scope.attencedateList =res.data.dList;\r\n\r\n                            console.log($scope.attenceList)\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            $scope.textareaFoucs = function () {\r\n                var userAgent = navigator.userAgent;\r\n                var isAndroid = userAgent.indexOf('Android') > -1 || userAgent.indexOf('Adr') > -1; //android终端\r\n                var isIOS = !!navigator.userAgent.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //判断是iOS\r\n                if (isIOS) {\r\n                    $(\".popup-container\").css(\"top\", \"-300px\")\r\n\r\n                }\r\n            }\r\n\r\n            //点击异常考勤编辑事由\r\n            $scope.to_edit = function (obj) {\r\n\r\n                console.log(\"obj==\" + JSON.stringify(obj));\r\n                if (obj.checkInState == \"正常\" && obj.checkOutState == \"正常\") {\r\n                    return false;\r\n                } else {\r\n\r\n                    if (obj.confirmDate == null || typeof obj.confirmDate == \"undefined\" ||\r\n                        obj.confirmDate == \"\") {\r\n                        var weidakazao = obj.actualStartTime;\r\n                        var weidakawan = obj.actualEndTime;\r\n                        console.log('====早上打卡没?' + weidakazao + '====晚上打卡没?' + weidakawan);\r\n                        console.log(token.UserID);\r\n                        var months = obj.month;\r\n                        var dates = obj.date;\r\n                        if (months < 10) {\r\n                            months = '0' + months;\r\n                        }\r\n                        if (dates < 10) {\r\n                            dates = '0' + dates;\r\n                        }\r\n                        var QUERY_DATE = obj.year + '-' + months + '-' + dates;\r\n                        var nowmonth = date.getMonth() + 1;\r\n                        var nowdata = date.getDate();\r\n                        if (nowmonth < 10) {\r\n                            nowmonth = '0' + nowmonth;\r\n                        }\r\n                        if (nowdata < 10) {\r\n                            nowdata = '0' + nowdata;\r\n                        }\r\n                        var s2 = date.getFullYear() + \"-\" + nowmonth + \"-\" + nowdata;\r\n                        console.log(s2);\r\n                        var d1 = new Date(QUERY_DATE.replace(/\\-/g, \"\\/\"));\r\n                        var d2 = new Date(s2.replace(/\\-/g, \"\\/\"));\r\n                        if (QUERY_DATE > s2) {\r\n                            showAlert.showMsg('', '', '还未到考勤时间!')\r\n                            return false;\r\n                        }\r\n                        var PERSON_ID = obj.personalId;\r\n                        if (!obj.personalId) {\r\n                            PERSON_ID = token.UserID;\r\n                        }\r\n                        var TRANSACTION_ID = obj.transactionId;\r\n                        if (!TRANSACTION_ID) {\r\n                            TRANSACTION_ID = '';\r\n                        }\r\n                        console.log(QUERY_DATE);\r\n                        var nownote = obj.note;\r\n                        $scope.placeholder = nownote;\r\n                        $scope.data = new Object();\r\n                        // 自定义弹窗\r\n\r\n                        var myPopup = $ionicPopup.show({\r\n                            template: '<textarea ng-style=\"syWidth\" id=\"textID\"  ng-model=\"data.node\" placeholder=\"{{placeholder}}\" ng-focus=\"textareaFoucs()\"></textarea>',\r\n                            title: '填写事由',\r\n                            scope: $scope,\r\n                            buttons: [\r\n                                {\r\n                                    text: '取消',\r\n                                    type: 'button-cancel'\r\n                                },\r\n                                {\r\n                                    text: '<b>确认</b>',\r\n                                    type: 'button-positive',\r\n                                    onTap: function (e) {\r\n                                        console.log($scope.data.node);\r\n                                        if (!$scope.data.node) {\r\n\r\n                                            // 不允许用户关闭，除非输入数据\r\n\r\n                                            e.preventDefault();\r\n                                        } else {\r\n                                            if (weidakazao == null && weidakawan == null || weidakazao == '' && weidakawan == '' || weidakazao == '' && weidakawan == null || weidakazao == null && weidakawan == '') {\r\n                                                submitWNote(QUERY_DATE, PERSON_ID, $scope.data.node, TRANSACTION_ID);\r\n                                            } else {\r\n                                                console.log('======提交数据' + QUERY_DATE + '====' + PERSON_ID + '====' + $scope.data.node + '===' + TRANSACTION_ID);\r\n                                                submitNote(QUERY_DATE, PERSON_ID, $scope.data.node, TRANSACTION_ID);\r\n                                            }\r\n\r\n                                        }\r\n                                    }\r\n                                },\r\n                            ]\r\n                        });\r\n                        myPopup.then(function (res) {\r\n                            console.log('Tapped!', res);\r\n                        });\r\n\r\n                    } else {\r\n                        return false;\r\n                    }\r\n\r\n                }\r\n\r\n            };\r\n\r\n            //提交事由\r\n            function submitWNote(QUERY_DATE, PERSON_ID, note, TRANSACTION_ID) {\r\n                loadingAnimation.showLoading('数据保存中', 'loding', 0);\r\n                $http.post('ServiceName=AttendReasonService&TransName=wClockReason', {\r\n                    \"TRANSACTION_ID\": TRANSACTION_ID,\r\n                    \"PERSON_ID\": PERSON_ID,\r\n                    \"NOTE\": note,\r\n                    \"QUERY_DATE\": QUERY_DATE\r\n                }).then(function (res) {\r\n                    loadingAnimation.hideLoading();\r\n                    if (res.data.code == '0') {\r\n                        attenceList($scope.now);\r\n\r\n                    } else {\r\n                        showAlert.showMsg(res.data);\r\n                    }\r\n                }, function (error) {\r\n                    loadingAnimation.hideLoading();\r\n                    showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                });\r\n            }\r\n\r\n            //提交事由\r\n            function submitNote(QUERY_DATE, PERSON_ID, note, TRANSACTION_ID) {\r\n                loadingAnimation.showLoading('数据保存中', 'loding', 0);\r\n                $http.post('ServiceName=AttendReasonService&TransName=reason', {\r\n                    \"TRANSACTION_ID\": TRANSACTION_ID,\r\n                    \"PERSON_ID\": PERSON_ID,\r\n                    \"NOTE\": note,\r\n                    \"QUERY_DATE\": QUERY_DATE\r\n                }).then(function (res) {\r\n                    loadingAnimation.hideLoading();\r\n                    if (res.data.code == '0') {\r\n                        attenceList($scope.now);\r\n\r\n                    } else {\r\n                        showAlert.showMsg(res.data);\r\n                    }\r\n                }, function (error) {\r\n                    loadingAnimation.hideLoading();\r\n                    showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                });\r\n            }\r\n\r\n            //获取打卡位置\r\n            $scope.toPosition = function (obj) {\r\n                console.log(\"obj==\" + JSON.stringify(obj));\r\n                $scope.data = {}\r\n                // 自定义弹窗\r\n                if (obj.checkInAddr != null && obj.checkOutAddr != null) {\r\n                    var myPopup = $ionicPopup.show({\r\n                        template: '<div class=\"dkposition\"><ul><li ng-style=\"myPopupLi\">上班打卡位置：' + obj.checkInAddr + '</li>' +\r\n                        '<li ng-style=\"myPopuplastLi\">下班打卡位置：' + obj.checkOutAddr + '</li></ul></div>',\r\n                        title: '打卡位置',\r\n                        scope: $scope,\r\n                    });\r\n                    myPopup.then(function (res) {\r\n                        console.log('Tapped!', res);\r\n                    });\r\n                    $timeout(function () {\r\n                        myPopup.close(); // 2秒后关闭弹窗\r\n                    }, 2000);\r\n                    $scope.myPopupLi = {\r\n                        \"line-height\": \"35px\",\r\n                        \"font-size\": \"12px\",\r\n                        \"text-align\": \"center\",\r\n                        \"border-bottom\": \"1px dotted #f4f4f4\",\r\n                    }\r\n                    $scope.myPopuplastLi = {\r\n                        \"line-height\": \"35px\",\r\n                        \"font-size\": \"12px\",\r\n                        \"text-align\": \"center\",\r\n                    }\r\n                }\r\n            };\r\n\r\n\r\n        }\r\n\r\n    ])\r\n","angular.module('BaiYin.bulletinBoard.edit', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('bulletinBoard/edit', {\r\n            url: '/bulletinBoard/edit',\r\n            controller: 'editController',\r\n            templateUrl: 'bulletinBoard/edit/edit.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {LINE_NO: null}\r\n        })\r\n    }])\r\n    .controller('editController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams',\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams) {\r\n            $scope.$on('$ionicView.enter', function () {\r\n                // //设置 textarea 的高度随着 内容 增加 自适应\r\n                // $scope.textareaHeight = {height: '' + screen.height - 280 + 'px'};\r\n                //$(\".ggbbcontent\").height($(\".ggbbcontent\")[0].scrollHeight);\r\n                //$(\".ggbbcontent\").on(\"keyup keydown\", function(){\r\n                    //$(this).height(this.scrollHeight);\r\n                //})\r\n                /*$scope.textareaHeight = {height: '' +280 + 'px'};*/\r\n            });\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                boardDetail($stateParams.LINE_NO);\r\n            });\r\n            //返回\r\n            $scope.toBack=function(){\r\n                console.log(\"back===\");\r\n                history.back();\r\n            };\r\n            //编辑提交\r\n            $scope.toEdit=function(){\r\n                subEdit();\r\n            };\r\n\r\n            /**\r\n             * 编辑提交\r\n             */\r\n            function subEdit(){\r\n                console.log(\"$scope.sortid==\"+$('#sortid').val());\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                var param=$scope.detail;\r\n                param.SORT=$('#sortid').val();\r\n                param.NEWS_TITLE=$('#news_title_id').val();\r\n                param.NEWS_CONTENT=$('#news_content_id').val();\r\n                $http.post('ServiceName=WhiteBoardService&TransName=FunWhiteBoardNewspaper',param)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            showAlert.showMsg('','','功能内容提交成功！');\r\n                            history.back();\r\n                        } else {\r\n                            showAlert.showMsg('','',res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //白板明细\r\n            function boardDetail(line_no){\r\n                console.log(\"line_no==\"+line_no);\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                var param={LINE_NO:line_no};\r\n                $http.post('ServiceName=WhiteBoardService&TransName=FormWhiteBoardNewspaper',param)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.detail = res.data.detail;\r\n                            console.log(\"$scope.detail==\"+JSON.stringify($scope.detail));\r\n                            $(\"#sortid\").val($scope.detail.SORT);\r\n                            $(\"#news_title_id\").val($scope.detail.NEWS_TITLE);\r\n                            $(\"#news_content_id\").val($scope.detail.NEWS_CONTENT);\r\n                            //获取textarea编辑框字数\r\n                            var content_len=$scope.detail.NEWS_CONTENT.length;\r\n                            console.log(content_len);\r\n                            if(content_len>=300){\r\n                                $scope.textareaHeight = {height: '' + 200+ 'px'};\r\n                            }else if(content_len<=20){\r\n                                $scope.textareaHeight = {height: '' + 200+ 'px'};\r\n                            }else{\r\n                                $scope.textareaHeight = {height: '' + 200+ 'px'};\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n        }\r\n    ])\r\n","angular.module('BaiYin.bulletinBoard.view', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('bulletinBoard/view', {\r\n            url: '/bulletinBoard/view',\r\n            controller: 'boardViewController',\r\n            templateUrl: 'bulletinBoard/view/boardView.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {LINE_NO: null}\r\n        })\r\n    }])\r\n    .controller('boardViewController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams',\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams) {\r\n            $scope.$on('$ionicView.enter', function () {\r\n            });\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                boardViewDetail($stateParams.LINE_NO);\r\n            });\r\n\r\n            //白板明细\r\n            function boardViewDetail(line_no){\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                var param={LINE_NO:line_no};\r\n                $http.post('ServiceName=WhiteBoardService&TransName=FormWhiteBoardNewspaper',param)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.detail = res.data.detail;\r\n                        } else {\r\n                            showAlert.showMsg(res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n        }\r\n    ])\r\n","angular\r\n\t.module('BaiYin.erp.details', [\r\n\t\t'ionic',\r\n\t\t'BaiYin.erp.selectUser'\r\n\t])\r\n\t.config(['$stateProvider', function($stateProvider) {\r\n\t\t$stateProvider.state('erpDetails', {\r\n\t\t\turl: '/erp/details',\r\n\t\t\tcontroller: 'erpDetailsController',\r\n\t\t\ttemplateUrl: 'erp/details/details.tpl.html',\r\n\t\t\tcache: true,\r\n\t\t\tauthorizedRuleType: ['1'],\r\n\t\t\tparams: {item: null}\r\n\t\t})\r\n\t}])\r\n\t.controller('erpDetailsController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', 'ionicDatePicker', '$ionicActionSheet', '$ionicScrollDelegate', '$ionicSlideBoxDelegate',\r\n\t\tfunction ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, ionicDatePicker, $ionicActionSheet, $ionicScrollDelegate, $ionicSlideBoxDelegate) {\r\n\t\t\t//申请信息\r\n\t\t\t$scope.data = new Object();\r\n\t\t\t//显示类型\r\n\t\t\t$scope.showType = \"\";\r\n\t\t\t//标题\r\n\t\t\t$scope.title = \"\";\r\n\t\t\t$scope.typeIndex = 0;\r\n\t\t\t$scope.types = [\"申请单\", \"申请详情\", \"文档\", \"审批流程\"];\r\n\t\t\t//链接超时时间设置为20S\r\n\t\t\tvar timeout = {timeout: 20 * 1000};\r\n\t\t\t//进入页面\r\n\t\t\t$scope.$on('$ionicView.enter', function (event, view) {\r\n                if(view.direction == \"forward\"){\r\n\t\t\t\t\t$scope.data = $stateParams.item.data;\r\n                    $scope.data.KEY_REF = encodeURIComponent($scope.data.KEY_REF);\r\n\t\t\t\t\t$scope.showType = $stateParams.item.type;\r\n\t\t\t\t\t$scope.title = $scope.data.LU_DESCRIPTION;\r\n\t\t\t\t\tgetMainTable();\r\n                }\r\n\t\t\t});\r\n\r\n\t\t\t//滑动切换\r\n\t\t\t$scope.slideHasChanged = function (index) {\r\n\t\t\t\t$scope.typeIndex = index;\r\n\t\t\t};\r\n\r\n            //切换typeIndex\r\n            $scope.changeTypeIndex = function(type){\r\n\t\t\t\tvar index = $scope.types.indexOf(type);\r\n\t\t\t\tif(index != -1){\r\n\t\t\t\t\t$scope.typeIndex = index;\r\n\t\t\t\t\t$ionicSlideBoxDelegate.slide(index);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar getSendData = function(){\r\n\t\t\t\tif(!$scope.data.opinion){\r\n\t\t\t\t\tthrow \"审批意见不可为空\";\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlu_name: $scope.data.LU_NAME || \"\",\r\n\t\t\t\t\tkey_ref: $scope.data.KEY_REF || \"\",\r\n\t\t\t\t\tline_no: $scope.data.LINE_NO || \"\",\r\n\t\t\t\t\tstep_no: $scope.data.STEP_NO || \"\",\r\n\t\t\t\t\tgroup_id: $scope.data.GROUP_ID || \"\",\r\n\t\t\t\t\tperson_id: $scope.data.PERSON_ID || \"\",\r\n\t\t\t\t\tdesc: $scope.data.opinion\r\n\t\t\t\t};\r\n\t\t\t};\r\n\r\n\t\t\t//同意\r\n\t\t\t$scope.toSelectUser = function () {\r\n\t\t\t\tvar data = null;\r\n\t\t\t\ttry{\r\n                    if(!$scope.data.opinion){\r\n                        $scope.data.opinion =  \"同意.\";\r\n                    }\r\n\t\t\t\t\tdata = getSendData();\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tshowAlert.showMsg(\"\", \"\", e, \"确认\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tloadingAnimation.showLoading('加载中...', 'loding', 0);\r\n\t\t\t\t$http\r\n                    .post(\"ServiceName=ErpService&TransName=startApprove\", data, timeout)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if(res.data){\r\n\t\t\t\t\t\t\tshowAlert.showMsg('', '', res.data, '确认');\r\n                        }else{\r\n\t\t\t\t\t\t\tshowAlert.showMsg(\"\", \"\", \"已通过\", \"确认\");\r\n\t\t\t\t\t\t\thistory.go(-1);\r\n\t\t\t\t\t\t}\r\n                    }, function (error) {\r\n\t\t\t\t\t\tloadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n\t\t\t};\r\n\r\n\t\t\t//拒绝\r\n\t\t\t$scope.toRefused = function () {\r\n\t\t\t\tvar data = null;\r\n\t\t\t\ttry{\r\n\t\t\t\t\tdata = getSendData();\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tshowAlert.showMsg(\"\", \"\", e, \"确认\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tloadingAnimation.showLoading('加载中...', 'loding', 0);\r\n\t\t\t\t$http\r\n                    .post(\"ServiceName=ErpService&TransName=refuseApprove\", data, timeout)\r\n                    .then(function (res) {\r\n\t\t\t\t\t\tloadingAnimation.hideLoading();\r\n\t\t\t\t\t\tif(res.data){\r\n\t\t\t\t\t\t\tshowAlert.showMsg('', '', res.data, '确认');\r\n                        }else{\r\n\t\t\t\t\t\t\tshowAlert.showMsg(\"\", \"\", \"已拒绝\", \"确认\");\r\n\t\t\t\t\t\t\thistory.go(-1);\r\n\t\t\t\t\t\t}\r\n                    }, function (error) {\r\n\t\t\t\t\t\tloadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n\t\t\t};\r\n\r\n\t\t\t//获取主子表主表\r\n\t\t\t$scope.MainTable = new Array();\r\n\t\t\tvar getMainTable = function(){\r\n\t\t\t\tloadingAnimation.showLoading('加载中...', 'loding', 0);\r\n\r\n                $http\r\n                    .post(\"ServiceName=ErpService&TransName=getMainField\",{\r\n\t\t\t\t\t\tlogic_unit: $scope.data.LU_NAME,\r\n\t\t\t\t\t\tkey_ref: $scope.data.KEY_REF\r\n\t\t\t\t\t}, timeout)\r\n                    .then(function (res) {\r\n                        getChildTable();\r\n                        if(res.code == 0){\r\n\t\t\t\t\t\t\t$scope.MainTable = res.data;\r\n                        }else{\r\n                            showAlert.showMsg(res, '', '', '确认');\r\n                        }\r\n                    }, function (error) {\r\n\t\t\t\t\t\tgetChildTable();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n\t\t\t};\r\n\r\n\t\t\t//获取主子表子表\r\n\t\t\t$scope.ChildTable = new Array();\r\n\t\t\tvar getChildTable = function(){\r\n                $http\r\n                    .post(\"ServiceName=ErpService&TransName=getChildField\",{\r\n\t\t\t\t\t\tlogic_unit: $scope.data.LU_NAME,\r\n\t\t\t\t\t\tkey_ref: $scope.data.KEY_REF\r\n\t\t\t\t\t}, timeout)\r\n                    .then(function (res) {\r\n                        getDoc();\r\n                        if(res.code == 0){\r\n\t\t\t\t\t\t\t$scope.ChildTable = res.data;\r\n                        }else{\r\n                            showAlert.showMsg(res, '', '', '确认');\r\n                        }\r\n                    }, function (error) {\r\n\t\t\t\t\t\tgetDoc();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n\t\t\t};\r\n\r\n\t\t\t//获取审批文档\r\n\t\t\t$scope.docList = new Array();\r\n\t\t\tvar getDoc = function(){\r\n                $http\r\n                    .post(\"ServiceName=ErpService&TransName=getDoc\", {\r\n                        logic_unit: $scope.data.LU_NAME,\r\n                        key_ref: $scope.data.KEY_REF\r\n                    }, timeout)\r\n                    .then(function (res) {\r\n                        getStep();\r\n                        if(res.code == 0){\r\n\t\t\t\t\t\t\t$scope.docList = res.data;\r\n                        }else{\r\n                            showAlert.showMsg(res, '', '', '确认');\r\n                        }\r\n                    }, function (error) {\r\n                        getStep();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n\t\t\t};\r\n\r\n\t\t\t//获取审批步骤\r\n\t\t\t$scope.step = {now: 0, list: new Array(), total: 0};\r\n\t\t\tvar getStep = function(){\r\n                $http\r\n                    .post(\"ServiceName=ErpService&TransName=getStep\", {\r\n                        logic_unit: $scope.data.LU_NAME,\r\n                        key_ref: $scope.data.KEY_REF\r\n                    }, timeout)\r\n                    .then(function (res) {\r\n                        endLoad();\r\n                        if(res.code == 0){\r\n\t\t\t\t\t\t\t$scope.step.total = res.data.total;\r\n\t\t\t\t\t\t\t$scope.step.list = res.data.list;\r\n\t\t\t\t\t\t\t$scope.step.list.forEach(v => {\r\n\t\t\t\t\t\t\t\tif(v.APP_SIGN && v.APP_DATE){\r\n\t\t\t\t\t\t\t\t\t$scope.step.now++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n                        }else{\r\n                            showAlert.showMsg(res, '', '', '确认');\r\n                        }\r\n                    }, function (error) {\r\n\t\t\t\t\t\tendLoad();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n\t\t\t};\r\n\r\n\t\t\t//加载数据结束\r\n\t\t\tvar endLoad = function(){\r\n\t\t\t\tif($scope.ChildTable.length == 0){\r\n\t\t\t\t\t$scope.types.splice($scope.types.indexOf(\"申请详情\"), 1);\r\n\t\t\t\t}\r\n\t\t\t\tif($scope.docList.length == 0){\r\n\t\t\t\t\t$scope.types.splice($scope.types.indexOf(\"文档\"), 1);\r\n\t\t\t\t}\r\n\t\t\t\t$ionicSlideBoxDelegate.update();\r\n\t\t\t\tloadingAnimation.hideLoading();\r\n\t\t\t};\r\n\t\t}\r\n\t]);","angular\r\n    .module('BaiYin.erp.my', [\r\n        'ionic',\r\n        'BaiYin.erp.details'\r\n    ])\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('erpMy', {\r\n            url: '/erp/my',\r\n            controller: 'erpMyController',\r\n            templateUrl: 'erp/my/my.tpl.html',\r\n            cache: true,\r\n            authorizedRuleType: ['1'],\r\n            params: { item: new Object() }\r\n        });\r\n        var datePickerConfig = {\r\n            inputDate: new Date(),\r\n            setLabel: '选择',\r\n            todayLabel: '今天',\r\n            closeLabel: '关闭',\r\n            mondayFirst: false,\r\n            weeksList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],//[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n            monthsList: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],//[\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\r\n            templateType: 'popup',\r\n            from: new Date(2012, 1, 1),\r\n            to: new Date(2030, 12, 31),\r\n            showTodayButton: true,\r\n            dateFormat: 'yyyy-MM-dd',\r\n            closeOnSelect: true\r\n        };\r\n        ionicDatePickerProvider.configDatePicker(datePickerConfig);\r\n    }])\r\n    .controller('erpMyController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', 'ionicDatePicker', '$ionicActionSheet',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, ionicDatePicker, $ionicActionSheet) {\r\n            //标题\r\n            $scope.titles = [\"我申请的\", \"我审批的\"];\r\n            $scope.index = 0;\r\n            //查询条件集合\r\n            $scope.queryData = {pageIndex: 0};\r\n            $scope.hasMore = false;\r\n            //数据\r\n            $scope.list = new Array();\r\n            //进入页面\r\n            $scope.$on('$ionicView.beforeEnter', function (event, view) {\r\n                if(view.direction == \"forward\"){\r\n                    getLuName();\r\n                    $scope.index = $stateParams.item.index;\r\n                    if($scope.index == 0){\r\n                        $scope.queryData.submit_user = token.UserID;\r\n                    }else if($scope.index == 1){\r\n                        $scope.queryData.app_sign = token.UserID;\r\n                    }\r\n                }\r\n            });\r\n\r\n            var luName = [{text: \"全部\", id: \"\"}];\r\n            //业务类型\r\n            $scope.toSelectType = function(){\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: luName,\r\n                    buttonClicked: function (index) {\r\n                        $scope.queryData.type = luName[index].text;\r\n                        $scope.queryData.lu_name = luName[index].id;\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n             //获取业务类型\r\n             var getLuName = function () {\r\n                loadingAnimation.showLoading('加载中...', 'loding', 0);\r\n                $http\r\n                    .post(\"ServiceName=ErpService&TransName=getLuName\")\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if(res.code == 0){\r\n                            res.data.forEach(function(v, i){\r\n                                luName.push({\r\n                                    text: v.DESCRIPTION,\r\n                                    id: v.LOGIC_UNIT\r\n                                });\r\n                            });\r\n                        }else{\r\n                            showAlert.showMsg(res, '', '', '确认');\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            };\r\n\r\n            var datePickerConfig = {\r\n                callback: function (val) {\r\n                    $scope.queryData.record_time = $filter(\"date\")(val, \"yyyy-MM-dd\");\r\n                }\r\n            };\r\n            //提交时间\r\n            $scope.toSelectTime = function () {\r\n                datePickerConfig.inputDate = new Date($scope.queryData.record_time || new Date());\r\n                ionicDatePicker.openDatePicker(datePickerConfig);\r\n            };\r\n\r\n            var $dom = $(\".erpMyCSS .query, .erpMyCSS .dataList\");\r\n            //切换查询\r\n            $scope.slideToggle = function () {\r\n                $dom.slideToggle();\r\n            }\r\n            //点击搜索\r\n            $scope.select = function (slideToggle) {\r\n                $scope.hasMore = true;\r\n                $scope.list = new Array();\r\n                $scope.queryData.pageIndex = 0;\r\n                $scope.toInquiry(true);\r\n            };\r\n            //查询\r\n            $scope.toInquiry = function (slideToggle) {\r\n                ++$scope.queryData.pageIndex;\r\n                loadingAnimation.showLoading('加载中...', 'loding', 0);\r\n                $http\r\n                    .post(\"ServiceName=ErpService&TransName=getRecordList\", $scope.queryData)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if(res.code == 0){\r\n                            if(res.data.length == 0){\r\n                                $scope.hasMore = false;\r\n                            }else{\r\n                                $scope.list = $scope.list.concat(res.data.map(function(v, i){\r\n                                    v.MSG_INFO = v.MSG_INFO ? v.MSG_INFO.replace(/\\n/g, \"<br/>\") : \"\";\r\n                                    return v;\r\n                                }));\r\n                            }\r\n\r\n                            if(slideToggle){\r\n                                $scope.slideToggle();\r\n                            }\r\n                        }else{\r\n                            showAlert.showMsg(res, '', '', '确认');\r\n                        }\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                    }, function (error) {\r\n                        $scope.hasMore = false;\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            };\r\n\r\n            //详情\r\n            $scope.toDetailsPage = function (data) {\r\n                $state.go('erpDetails', {item: {data: data, type: \"details\"}});\r\n            };\r\n        }\r\n    ]);","angular.module('BaiYin.facilityInfoScan', [\r\n    'ionic',\r\n])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('facilityInfoScan', {\r\n            url: '/facilityInfo/facilityInfoScan',\r\n            controller: 'facilityInfoScanController',\r\n            templateUrl: 'facilityInfo/facilityInfoScan/facilityInfoScan.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {\r\n                item:null\r\n            }\r\n        })\r\n    }])\r\n    .controller('facilityInfoScanController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', 'ionicDatePicker','$cordovaBarcodeScanner',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, ionicDatePicker,$cordovaBarcodeScanner) {\r\n            $scope.$on('$ionicView.afterEnter', function() {\r\n                $scope.barcodeData= JSON.parse(localStorage.getItem(\"scanList\"));\r\n                $scope.facilityObtain($scope.barcodeData.MCH_CODE, $scope.barcodeData.CONTRACT);\r\n            });\r\n            /**\r\n             * @author:Grant\r\n             * @remark:根据二维码扫描到的信息获取设备信息\r\n             * parameter:MCH_CODE,CONTRACT\r\n             * request:POST{ServiceName:EquipService,TransName:equipmentInfo}\r\n             * field:$scope.equipmentDetail\r\n             */\r\n            $scope.goObtain=function () {\r\n                $ionicTabsDelegate.select(0);\r\n                $scope.facilityObtain($scope.barcodeData.MCH_CODE, $scope.barcodeData.CONTRACT);\r\n            }\r\n            $scope.facilityObtain=function(MCH_CODE,CONTRACT) {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                var params = {\r\n                    MCH_CODE:MCH_CODE,\r\n                    CONTRACT:CONTRACT\r\n                }\r\n                $http.post('ServiceName=EquipService&TransName=equipmentInfo',params)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == 0) {\r\n                            $scope.jbxxHide = false;\r\n                            $scope.equipmentDetail=res.data.detail;\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n            /**\r\n             * @author:Grant\r\n             * @remark:根据二维码扫描到的信息获取缺陷履历\r\n             * @parameter:扫描到的二维码信息(MCH_CODE,CONTRACT)\r\n             * request:POST{ServiceName:EquipService,TransName:equipmentDefect}\r\n             * field:$scope.equipmentDefectList\r\n             */\r\n            $scope.goDefect=function () {\r\n                $ionicTabsDelegate.select(1);\r\n                facilityDefectList($scope.barcodeData.MCH_CODE, $scope.barcodeData.CONTRACT);\r\n\r\n            }\r\n            function facilityDefectList(MCH_CODE,CONTRACT) {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                var params = {\r\n                    MCH_CODE:MCH_CODE,\r\n                    CONTRACT:CONTRACT\r\n                }\r\n                $http.post('ServiceName=EquipService&TransName=equipmentDefect',params)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == 0) {\r\n                            $scope.equipmentDefectList=res.data.tList;\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n            /**\r\n             * @author:Grant\r\n             * @remark:根据缺陷履历跳转到缺陷详情\r\n             * @parameter:\r\n             * request:POST{ServiceName:EquipService,TransName:repairInspection}\r\n             * field:\r\n             */\r\n            $scope.toDefectDetail=function (DefectList) {\r\n                console.log(DefectList);\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                var params={\r\n                    FAULT_REP_ID:DefectList.FAULT_REP_ID,\r\n                    MCH_CODE:DefectList.FACT_MCH_CODE\r\n                }\r\n                $http.post('ServiceName=DefectManageService&TransName=listFaultRepMain',params)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == 0) {\r\n                            console.log(res);\r\n                            var item=res.data.hList[0];\r\n                            console.log(item);\r\n                            $state.go('pm/defectFill/defectFillDetail', {item: item});\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n\r\n\r\n            }\r\n            /**\r\n             * @author:Grant\r\n             * @remark:根据二维码扫描到的信息获取工单履历\r\n             * @parameter:扫描到的二维码信息(MCH_CODE,CONTRACT)\r\n             * request:POST{ServiceName:EquipService,TransName:repairInspection}\r\n             * field:$scope.equipmentWorkList\r\n             */\r\n            $scope.goWork=function () {\r\n                $ionicTabsDelegate.select(2);\r\n                facilityWorkList($scope.barcodeData.MCH_CODE, $scope.barcodeData.CONTRACT);\r\n            }\r\n            function facilityWorkList(MCH_CODE,CONTRACT) {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                var params = {\r\n                    MCH_CODE:MCH_CODE,\r\n                    CONTRACT:CONTRACT\r\n                }\r\n                $http.post('ServiceName=EquipService&TransName=repairInspection',params)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == 0) {\r\n                            $scope.equipmentWorkList=res.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n            /**\r\n             * @author:Grant\r\n             * @remark:根据二维码扫描到的信息获取巡查记录\r\n             * @parameter:扫描到的二维码信息(MCH_CODE,CONTRACT)\r\n             * request:POST{ServiceName:EquipService,TransName:inspectionRecordAsE}\r\n             * field:$scope.equipmentPatrolList\r\n             */\r\n            $scope.goInspection=function () {\r\n                $ionicTabsDelegate.select(3);\r\n                facilityInspectionList($scope.barcodeData.MCH_CODE, $scope.barcodeData.CONTRACT);\r\n            }\r\n\r\n            function facilityInspectionList(MCH_CODE,CONTRACT) {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                var params = {\r\n                    MCH_CODE:MCH_CODE,\r\n                    CONTRACT:CONTRACT\r\n                }\r\n                $http.post('ServiceName=EquipService&TransName=inspectionRecordAsE',params)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == 0) {\r\n                            console.log(res);\r\n                            $scope.equipmentPatrolList=res.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n            $scope.goInspectionRecord=function (PatrolList) {\r\n                console.log(PatrolList)\r\n                var params = {\r\n                    MCH_CODE: PatrolList.MCH_CODE,\r\n                    PERSON_ID:PatrolList.PERSON_ID\r\n                }\r\n                var obj = {\"MCH_CODE\":PatrolList.MCH_CODE,\"PERSON_ID\":PatrolList.PERSON_ID}\r\n                localStorage.setItem(\"PatrolList\",JSON.stringify(obj));\r\n                $state.go('InspectionRecord', params);\r\n            }\r\n\r\n        }\r\n    ])\r\n","angular.module('BaiYin.InspectionRecord', [\r\n    'ionic',\r\n])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('InspectionRecord', {\r\n            url: '/facilityInfo/InspectionRecord',\r\n            controller: 'InspectionRecordController',\r\n            templateUrl: 'facilityInfo/InspectionRecord/InspectionRecord.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {\r\n                MCH_CODE: null,\r\n                PERSON_ID:null\r\n            }\r\n        })\r\n    }])\r\n    .controller('InspectionRecordController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', 'ionicDatePicker','$cordovaBarcodeScanner',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, ionicDatePicker,$cordovaBarcodeScanner) {\r\n            $scope.$on('$ionicView.afterEnter', function() {\r\n                console.log('=====ceshi===');\r\n                console.log($stateParams.item);\r\n                // $scope.MCH_CODE=$stateParams.MCH_CODE;\r\n                // $scope.PERSON_ID=$stateParams.PERSON_ID;\r\n                var PatrolList= JSON.parse(localStorage.getItem(\"PatrolList\"));\r\n                $scope.MCH_CODE=PatrolList.MCH_CODE;\r\n                $scope.PERSON_ID=PatrolList.PERSON_ID;\r\n                $scope.goInspection()\r\n            });\r\n            /**\r\n             * @author:Grant\r\n             * @remark:根据二维码扫描到的信息获取巡查记录\r\n             * @parameter:扫描到的二维码信息(MCH_CODE,CONTRACT)\r\n             * request:POST{ServiceName:EquipService,TransName:inspectionRecordAsE}\r\n             * field:$scope.InspectiomRecordList\r\n             */\r\n            $scope.goInspection=function () {\r\n                var MCH_CODE=$scope.MCH_CODE;\r\n                var PERSON_ID=$scope.PERSON_ID;\r\n                facilityInspectionList(MCH_CODE, PERSON_ID);\r\n            }\r\n\r\n            function facilityInspectionList(MCH_CODE,PERSON_ID) {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                var params = {\r\n                    MCH_CODE:MCH_CODE,\r\n                    PERSON_ID:PERSON_ID\r\n                }\r\n                $http.post('ServiceName=EquipService&TransName=inspectionRecordAsEP',params)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == 0) {\r\n                            console.log(res);\r\n                            $scope.InspectiomRecordList=res.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n            $scope.goInspectionDetail=function (RecordList) {\r\n                console.log(RecordList)\r\n                // var params = {\r\n                //     RecordList:RecordList\r\n                // }\r\n                var params = {\r\n                    MCH_CODE:RecordList.MCH_CODE,\r\n                    PERSON_ID:RecordList.PERSON_ID,\r\n                    PLAN_ID:RecordList.PLAN_ID,\r\n                }\r\n                $state.go('InspectionRecordDetail',params);\r\n            }\r\n\r\n        }\r\n    ])\r\n","angular.module('BaiYin.InspectionRecordDetail', [\r\n    'ionic',\r\n])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('InspectionRecordDetail', {\r\n            url: '/facilityInfo/InspectionRecordDetail',\r\n            controller: 'InspectionRecordDetailController',\r\n            templateUrl: 'facilityInfo/InspectionRecordDetail/InspectionRecordDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {\r\n                MCH_CODE: null,\r\n                PERSON_ID: null,\r\n                PLAN_ID: null\r\n            }\r\n        })\r\n    }])\r\n    .controller('InspectionRecordDetailController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', 'ionicDatePicker','$cordovaBarcodeScanner',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, ionicDatePicker,$cordovaBarcodeScanner) {\r\n            $scope.$on('$ionicView.afterEnter', function() {\r\n                console.log($stateParams)\r\n                $scope.MCH_CODE=$stateParams.MCH_CODE;\r\n                $scope.PERSON_ID=$stateParams.PERSON_ID;\r\n                $scope.PLAN_ID=$stateParams.PLAN_ID;\r\n                $scope.goInspection()\r\n            });\r\n            /**\r\n             * @author:Grant\r\n             * @remark:根据二维码扫描到的信息获取巡查记录\r\n             * @parameter:扫描到的二维码信息(MCH_CODE,CONTRACT)\r\n             * request:POST{ServiceName:EquipService,TransName:inspectionRecordAsE}\r\n             * field:$scope.InspectiomRecordList\r\n             */\r\n            $scope.goInspection=function () {\r\n                var MCH_CODE=$scope.MCH_CODE;\r\n                var PERSON_ID=$scope.PERSON_ID;\r\n                var PLAN_ID=$scope.PLAN_ID;\r\n                facilityInspectionList(MCH_CODE, PERSON_ID,PLAN_ID);\r\n            }\r\n\r\n            function facilityInspectionList(MCH_CODE,PERSON_ID,PLAN_ID) {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                var params = {\r\n                    MCH_CODE:MCH_CODE,\r\n                    PERSON_ID:PERSON_ID,\r\n                    PLAN_ID:PLAN_ID\r\n                }\r\n                $http.post('ServiceName=EquipService&TransName=inspectionRecordAsEPP',params)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == 0) {\r\n                            console.log(res);\r\n                            $scope.InspectiomRecordDetailList=res.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n            //签到样式\r\n            $scope.identify = {\r\n                'padding': '5px',\r\n                'line-height': '35px',\r\n                'border-radius': '50%',\r\n                'display': 'inline-block',\r\n                'float': 'left',\r\n                'color': '#fff',\r\n                'margin-right': '10px',\r\n                'font-size': '12px',\r\n                'width': '45px',\r\n                'text-align': 'center'\r\n            }\r\n\r\n        }\r\n    ])\r\n","angular.module('BaiYin.KPIdetail', [])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('KPIdetail', {\n        url: '/KPIdetail',\n        params: { 'items': null },\n        controller: 'KPIdetailController',\n        templateUrl: 'KPI/KPIdetail/KPIdetail.tpl.html',\n        cache: 'false',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('KPIdetailController', ['$scope', 'showAlert', 'pageInitService', '$stateParams', '$http', '$state', 'kpi_echarts',\n    function($scope, showAlert, pageInitService, $stateParams, $http, $state, kpi_echarts) {\n        $scope.$on('$ionicView.afterEnter', function() {\n            var apis = [\n                'ServiceName=SDICIndexService&TransName=getIndexData&IndexID=' + $stateParams.items.indexId\n            ];\n            pageInitService.pageInit(apis).then(function(result) {\n                resolveMessages = result[0];\n                toDoRefresh(resolveMessages);\n            }, function(error) {\n                showAlert.showMsg(error, '', '网络异常', '确认')\n            });\n        });\n        $scope.title = $stateParams.items.indexName;\n        //进来默认第一个图表\n        function toDoRefresh(resolveMessages) {\n            var Arr = [];\n            angular.forEach(resolveMessages.data, function(value, index) {\n                Arr.push(index);\n            });\n            Arr.sort();\n            $scope.data = Arr;\n            if (Arr.length > 0) {\n                kpi_echarts.kpiEcharts(resolveMessages.data[Arr[0]], 'main');\n            } else if (resolveMessages.data && resolveMessages.data != null && !angular.equals({}, $scope.data)) {\n                kpi_echarts.kpiEcharts(resolveMessages.data[Arr[0]], 'main');\n            }\n            //选择顶部tab\n            $scope.seleteItem = function(val) {\n                kpi_echarts.kpiEcharts(resolveMessages.data[val], 'main');\n            }\n        };\n        $scope.doRefresh = function() {\n            $http.get('ServiceName=SDICIndexService&TransName=getIndexData&IndexID=' + $stateParams.items.indexId)\n                .then(function(res) {\n                    resolveMessages = res;\n                    $scope.$broadcast('scroll.refreshComplete');\n                    toDoRefresh(resolveMessages);\n                }, function(error) {\n                    showAlert.showMsg(error, '', '网络异常', '确认')\n                });\n        };\n\n    }\n])\n","angular.module('BaiYin.load.historyInfo', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('load/historyInfo', {\r\n            url: '/load/historyInfo',\r\n            controller: 'historyInfoController',\r\n            templateUrl: 'load/historyInfo/historyInfo.tpl.html',\r\n            cache: 'true',\r\n            params:{type:null},\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n\r\n    .controller('historyInfoController', ['$scope', 'showAlert', '$http', '$state','$stateParams','loadingAnimation',\r\n        function ($scope,showAlert,$http, $state,$stateParams,loadingAnimation) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                $scope.type=$stateParams.type.type;\r\n                $scope.name=$stateParams.type.name;\r\n                var url=\"ServiceName=TargetService&TransName=currMonthP\";\r\n                if($scope.type=='T'){\r\n                    url=\"ServiceName=TargetService&TransName=currMonthT\";\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post(url)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == '0') {\r\n                            $scope.hList = res.data.hList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            });\r\n        }\r\n    ])","angular.module('BaiYin.load.nearlyHour', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('load/nearlyHour', {\r\n            url: '/load/nearlyHour',\r\n            controller: 'nearlyHourController',\r\n            templateUrl: 'load/nearlyHour/nearlyHour.tpl.html',\r\n            cache: 'true',\r\n            params:{type:null},\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n\r\n    .controller('nearlyHourController', ['$scope', 'showAlert', '$http', '$state','$stateParams','loadingAnimation',\r\n        function ($scope, showAlert,$http, $state,$stateParams,loadingAnimation) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                $scope.type=$stateParams.type.type;\r\n                $scope.name=$stateParams.type.name;\r\n                var url=\"ServiceName=TargetService&TransName=nearlyOneHourP\";\r\n                if($scope.type=='T'){\r\n                    url=\"ServiceName=TargetService&TransName=nearlyOneHourT\";\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post(url)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.code == '0') {\r\n                            $scope.hList = res.data.hList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            });\r\n\r\n        }\r\n    ]);","angular.module('BaiYin.OffLine.OffLineLook', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('OffLine/OffLineLook', {\r\n            url: '/OffLine/OffLineLook',\r\n            controller: 'OffLineLookController',\r\n            templateUrl: 'OffLine/OffLineLook/OffLineLook.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {},\r\n        })\r\n    }])\r\n    .controller('OffLineLookController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', '$cordovaBarcodeScanner',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, $cordovaBarcodeScanner) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                var OffLineUpList= JSON.parse(localStorage.getItem(\"OffLineSignList\"));\r\n                // alert(JSON.stringify(OffLineUpList))\r\n                $scope.hDetail=OffLineUpList;\r\n                //签到样式\r\n                $scope.identify = {\r\n                    'padding': '5px',\r\n                    'line-height': '60px',\r\n                    'border-radius': '50%',\r\n                    'display': 'inline-block',\r\n                    'float': 'left',\r\n                    'color': '#fff',\r\n                    'margin-right': '10px',\r\n                    'font-size': '12px',\r\n                    'width': '71px',\r\n                    'text-align': 'center'\r\n                }\r\n            });\r\n            /*点击上传*/\r\n            $scope.OffLineUpload=function () {\r\n                var params = {\r\n                    OffLineUpList:$scope.hDetail\r\n                }\r\n                $http.post('ServiceName=InspectionService&TransName=upLoadXcData',params)\r\n                    .then(function (res) {\r\n                        console.log(res);\r\n                        if (res.code == 0) {\r\n                            showAlert.showMsg('', '', '上传成功!');\r\n                            $scope.hDetail=[];\r\n                            localStorage.removeItem('OffLineSignList');\r\n                            localStorage.removeItem('OffList');\r\n                            $state.go('OffLine');\r\n                        }else {\r\n                            showAlert.showMsg('', '', '上传失败,请稍后再试!');\r\n                            localStorage.setItem(\"OffLineSignList\",JSON.stringify($scope.hDetail));\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n            /*点击删除*/\r\n            $scope.dealOffLine=function (detailList,index) {\r\n                console.log(detailList,index);\r\n                $scope.hDetail.splice(index,1);\r\n                console.log($scope.hDetail.length);\r\n                if($scope.hDetail.length==0){\r\n                    localStorage.removeItem('OffLineSignList');\r\n                    $state.go('OffLine');\r\n\r\n                }else{\r\n                    localStorage.setItem(\"OffLineSignList\",JSON.stringify($scope.hDetail));\r\n                }\r\n            }\r\n        }\r\n    ])\r\n","angular.module('BaiYin.OffLine.OffLineDetail', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('OffLine/OffLineDetail', {\r\n            url: '/OffLine/OffLineDetail',\r\n            controller: 'OffLineDetailController',\r\n            templateUrl: 'OffLine/OffLineDetail/OffLineDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {\r\n                TEMP_ID: null,\r\n                DESCRIPTION: null,\r\n                INSPECT_TYPE: null,\r\n                START_TIME: null,\r\n                END_TIME: null,\r\n                INSPECTED: null,\r\n                INSPECT: null,\r\n                childList: null\r\n            }\r\n        })\r\n    }])\r\n    .controller('OffLineDetailController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', '$cordovaBarcodeScanner',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, $cordovaBarcodeScanner) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                console.log($stateParams);\r\n                /*$scope.qdTimeHide = false;\r\n                $scope.djqdTimeHide = true;*/\r\n                $scope.itemQdBtnhide = true;\r\n                $scope.inputHide = true;\r\n                $scope.positionHide = true;\r\n                $scope.OSIDetailHide=false;\r\n                // var OffList= JSON.parse(localStorage.getItem(\"OffList\"));\r\n                // console.log(OffList);\r\n                $scope.tempID = $stateParams.TEMP_ID;\r\n                $scope.description = $stateParams.DESCRIPTION;\r\n                $scope.inspectType = $stateParams.INSPECT_TYPE;\r\n                $scope.INSPECTED = $stateParams.INSPECTED;\r\n                $scope.INSPECT = $stateParams.INSPECT;\r\n                $scope.startTime = $stateParams.START_TIME;\r\n                $scope.endTime = $stateParams.END_TIME;\r\n                $scope.childList = $stateParams.childList;\r\n                console.log($scope.childList);\r\n                $scope.hDetail=$scope.childList;\r\n                console.log(\"$scope.hDetail===\" + JSON.stringify($scope.hDetail));\r\n                for (var i = 0; i < $scope.hDetail.length; i++) {\r\n                    if ($scope.hDetail[i].RECORD_TIME == '' || $scope.hDetail[i].RECORD_TIME == null) {\r\n                        /*$scope.identifyShow = '未签到';*/\r\n                        console.log('', '', 'i==' + i);\r\n                        $(\"#qdIconColorid\" + i).css('background', '#ccc');\r\n                        $(\"#qdIconColorid\" + i).text('未签到');\r\n                    } else {\r\n                        $(\"#qdIconColorid\" + i).text('已签到');\r\n                        $(\"#qdIconColorid\" + i).css(\"background\", \"#83ecad\");\r\n                    }\r\n                }\r\n                $scope.amount = 0;\r\n                //是否显示扫码\r\n                if ($scope.INSPECTED == $scope.INSPECT) {\r\n                    // $scope.inputHide = true;\r\n                }\r\n                //签到样式\r\n                $scope.identify = {\r\n                    'padding': '5px',\r\n                    'line-height': '35px',\r\n                    'border-radius': '50%',\r\n                    'display': 'inline-block',\r\n                    'float': 'left',\r\n                    'color': '#fff',\r\n                    'margin-right': '10px',\r\n                    'font-size': '12px',\r\n                    'width': '45px',\r\n                    'text-align': 'center'\r\n                }\r\n\r\n                // HistoryDetail($scope.tempID);\r\n            });\r\n\r\n            function HistoryDetail(tempid) {\r\n                console.log(\"tempid==\" + tempid);\r\n                var parmas = {\r\n                    TEMP_ID: tempid\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=InspectionService&TransName=cInspectRouteDetailPage', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.hDetail = res.data.dList;\r\n                            console.log(res.data);\r\n                            console.log(\"$scope.hDetail===\" + JSON.stringify($scope.hDetail));\r\n                            for (var i = 0; i < $scope.hDetail.length; i++) {\r\n                                if ($scope.hDetail[i].RECORD_TIME == '' || $scope.hDetail[i].RECORD_TIME == null) {\r\n                                    /*$scope.identifyShow = '未签到';*/\r\n                                    console.log('', '', 'i==' + i);\r\n                                    $(\"#qdIconColorid\" + i).css('background', '#ccc');\r\n                                    $(\"#qdIconColorid\" + i).text('未签到');\r\n                                } else {\r\n                                    $(\"#qdIconColorid\" + i).text('已签到');\r\n                                    $(\"#qdIconColorid\" + i).css(\"background\", \"#83ecad\");\r\n                                }\r\n                            }\r\n                            console.log(\"$scope.hDetail==\" + JSON.stringify($scope.hDetail));\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            //点击扫二维码\r\n            $scope.toScanCode = function () {\r\n                $cordovaBarcodeScanner.scan()\r\n                    .then(function (barcodeData) {\r\n                        $scope.barcodeDataText = barcodeData.text;\r\n                        $scope.barcodeData = eval(\"(\" + $scope.barcodeDataText + \")\");\r\n                        $scope.patrolLine($scope.barcodeData.MCH_CODE, $scope.barcodeData.CONTRACT, $scope.tempID);\r\n                    }, function (error) {\r\n                        console.log(\"ERROR:\" + error);\r\n                    });\r\n            }\r\n            var planID;\r\n            $scope.patrolLine = function (MCH_CODE, CONTRACT, tempid) {\r\n                var params = {\r\n                    MCH_CODE: MCH_CODE,\r\n                    CONTRACT: CONTRACT,\r\n                    TEMP_ID: tempid\r\n                }\r\n                $http.post('ServiceName=InspectionService&TransName=formCBluetoothEquip', params)\r\n                    .then(function (res) {\r\n                        if (res.data.code == 0) {\r\n                            $scope.patrolLine = res.data.detail;\r\n                            planID = $scope.patrolLine.PLAN_ID;\r\n                            if ($scope.patrolLine.IS_MATCH == 'TRUE') {\r\n                                //扫描蓝牙\r\n                                blueToothEnable($scope.patrolLine.SN_ADDRESS);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n\r\n            //开启本机蓝牙\r\n            function blueToothEnable(SN_ADDRESS) {\r\n                ble.enable(\r\n                    function () {\r\n                        scanBlueTooth(SN_ADDRESS);\r\n                    },\r\n                    function () {\r\n                        showAlert.showMsg(\"\", \"\", \"打开蓝牙失败！\");\r\n                    }\r\n                );\r\n            }\r\n            //扫描蓝牙\r\n            function scanBlueTooth(SN_ADDRESS) {\r\n                ble.scan([], 5, function (device) {\r\n                        //成功的回调函数\r\n                        if (device.id == SN_ADDRESS) {\r\n                            signedLightUp();\r\n                            /*$scope.$apply(function(){\r\n                                // $scope.inputHide = true;\r\n                                $scope.positionHide = false;\r\n                            });*/\r\n                        }\r\n                    }, function () {\r\n                        //失败的回调函数\r\n                        showAlert.showMsg('', '', \"未扫描到有效蓝牙！\");\r\n                    }\r\n                );\r\n            }\r\n\r\n            function signedLightUp() {\r\n\r\n                for (var i = 0; i < $scope.hDetail.length; i++) {\r\n                    if (planID == $scope.hDetail[i].PLAN_ID) {\r\n                        //显示签到按钮\r\n                        $(\".itemQdBtn\" + i).show();\r\n                    }\r\n                }\r\n                /*if(planID == ''){\r\n                    alert(\"匹配成功----\");\r\n                }*/\r\n\r\n            }\r\n\r\n            //点击签到\r\n            $scope.toSigned = function (obj, num) {\r\n                $(\"#recordID\").attr(\"disabled\", true);\r\n                var params = {\r\n                    BLUETOOTH_SERIAL_NO: $scope.patrolLine.BLUETOOTH_SERIAL_NO,\r\n                    PLAN_ID: obj.PLAN_ID,\r\n                    LOCATION_DESCRIPTION: $scope.patrolLine.ADDRESS,\r\n                    IS_MATCH: $scope.patrolLine.IS_MATCH,\r\n                    EQUIP_NO: $scope.patrolLine.MCH_CODE,\r\n                    CONTRACT: $scope.patrolLine.CONTRACT\r\n                };\r\n                $http.post('ServiceName=InspectionService&TransName=inspectRecord', params)\r\n                    .then(function (res) {\r\n                        if (res.data.code == 0) {\r\n                            showAlert.showMsg('', '', '恭喜您，签到成功');\r\n                            $(\"#recordTimeid\" + num).hide();\r\n                            $(\"#newRecordTimeid\" + num).show();\r\n                            //签到按钮隐藏\r\n                            $scope.itemQdBtnHide = true;\r\n                            //颜色变蓝色\r\n                            $(\"#qdIconColorid\" + num).css('background', '#83ecad');\r\n                            $(\"#qdIconColorid\" + num).text('已签到');\r\n                            //显示签到时间\r\n                            $scope.recordTime = res.data.RECORD_TIME;\r\n\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n\r\n            }\r\n\r\n            //跳转到巡检记录\r\n            $scope.toOsiHistory = function () {\r\n                $state.go('OSI/OSIHistory');\r\n                //载入缓存数据\r\n                var obj = {\r\n                    tempID: $scope.tempID,\r\n                    description: $scope.description,\r\n                    inspectType: $scope.inspectType,\r\n                    INSPECTED: $scope.INSPECTED,\r\n                    INSPECT: $scope.INSPECT,\r\n                    startTime: $scope.startTime,\r\n                    endTime: $scope.endTime\r\n                };\r\n                localStorage.setItem(\"OSI_LINE\",JSON.stringify(obj));\r\n\r\n            }\r\n            //点击搜索蓝牙\r\n            $scope.searchsBlueTooth = function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                openblueToothEnable();\r\n            }\r\n            //开启本机蓝牙\r\n            function openblueToothEnable() {\r\n                ble.enable(\r\n                    function () {\r\n                        scansBlueToothnow();\r\n                    },\r\n                    function () {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(\"\",\"\",\"蓝牙未开启\");\r\n                    }\r\n                );\r\n            }\r\n            //扫描蓝牙\r\n            function scansBlueToothnow() {\r\n                $scope.equipToothList = [];\r\n                $scope.timer = $timeout(function () {\r\n                    loadingAnimation.hideLoading();\r\n                    if ($scope.equipToothList.length > 0) {\r\n                        upWindows($scope.equipToothList);\r\n                    } else {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg('', '', \"未扫描到蓝牙设备\");\r\n                    }\r\n                }, 5000);\r\n                ble.scan([], 5, function (device) {//成功的回调函数\r\n                        getBluesToothList(device);\r\n                    }, function () {\r\n                        //失败的回调函数\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg('', '', \"扫描蓝牙失败\");\r\n                    }\r\n                );\r\n            }\r\n            //弹出页面，显示扫描到的设备\r\n            var searchequipPopup;\r\n\r\n            function upWindows(equipToothList) {\r\n                searchequipPopup = $ionicPopup.show({\r\n                    template:'<div>' +\r\n                    '<ul>' +\r\n                    '<li id=\"devices_{{$index}}\" ng-click=\"selectsBlueTooth($index)\" ng-repeat=\"equipTooth in equipToothList track by $index\" ng-style=\"searchPopupli\">' +\r\n                    '{{equipTooth.ADDRESS}}' +\r\n                    '</li>' +\r\n                    '</ul>' +\r\n                    '</div>',\r\n                    title: '扫描到的蓝牙设备',\r\n                    scope: $scope,\r\n                });\r\n            }\r\n            //获取蓝牙列表\r\n            function getBluesToothList(device) {\r\n                $http.post('ServiceName=InspectionService&TransName=formSBluetoothEquip&SN_CODE=' + device.id)\r\n                    .then(function (res) {\r\n                        if (res.data.code == '0') {\r\n                            $scope.equipToothdetail=res.data.dList;\r\n                            for(var i=0;i<$scope.equipToothdetail.length;i++){\r\n                                $scope.equipToothList.push($scope.equipToothdetail[i]);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            $scope.searchPopupli = {\r\n                \"line-height\": \"35px\",\r\n                \"font-size\": \"12px\",\r\n                \"text-align\": \"center\",\r\n                \"border-bottom\": \"1px dotted #f4f4f4\",\r\n            };\r\n            //点击选择蓝牙设备\r\n            $scope.selectsBlueTooth = function (index) {\r\n                searchequipPopup.close();\r\n                var MCH_CODE= $scope.equipToothList[index].MCH_CODE;\r\n                var CONTRACT= $scope.equipToothList[index].CONTRACT;\r\n                $scope.patrolHome(MCH_CODE, CONTRACT);\r\n                $scope.OSIDetailHide=true;\r\n                $scope.positionHide = false;\r\n\r\n            }\r\n\r\n        }\r\n    ])\r\n","angular.module('BaiYin.pm.defectFillA', [\n    'BaiYin.pm.defectFill.defectFill',\n    'BaiYin.pm.defectFill.adddefectFill',\n    'BaiYin.pm.defectFill.defectFillDetail',\n])","angular.module('BaiYin.pm.journalA', [\n    'BaiYin.pm.journal.journalList',\n    'BaiYin.pm.journal.journalDetailList',\n    'BaiYin.pm.journal.journalDetail'\n])","angular.module('BaiYin.pm.troubleA', [\n    'BaiYin.pm.trouble.hideTrouble',\n    'BaiYin.pm.trouble.addTrouble',\n    'BaiYin.pm.trouble.troubleDetail',\n])","angular.module('BaiYin.OSI.OSIArear', [\r\n    'ionic',\r\n])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('OSI/OSIArear', {\r\n            url: '/OSI/OSIArear',\r\n            controller: 'OSIArearController',\r\n            templateUrl: 'OSI/OSIArear/OSIArear.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('OSIArearController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout) {\r\n            //人员信息\r\n            $scope.user = {\r\n                PERSON_NAME: \"\",//人员姓名\r\n                qualified: 0,//合格区域\r\n                unqualified: 0//不合格区域\r\n            };\r\n            //数据\r\n            $scope.data = {\r\n                iList: new Array(),//计划内\r\n                oList: new Array()//计划外\r\n            };\r\n            $scope.$on('$ionicView.enter', function () {\r\n                $scope.user.PERSON_NAME = $stateParams.item.PERSON_NAME;\r\n                getList();\r\n            });\r\n            //获取数据\r\n            var getList = function(){\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http\r\n                    .post('ServiceName=InspectionService&TransName=inspectStatisticsRoute', {\r\n                        START_TIME: $stateParams.item.START_TIME,\r\n                        END_TIME: $stateParams.item.END_TIME,\r\n                        PERSON_ID: $stateParams.item.PERSON\r\n                    })\r\n                    .then(function (res) {\r\n                        $scope.data = new Object();\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.data = {\r\n                                iList: res.data.iList,\r\n                                oList: res.data.oList\r\n                            };\r\n                            $scope.data.iList.forEach(function(v, i){\r\n                                if (v.AREA.indexOf(\"不合格\") == -1){\r\n                                    $scope.user.qualified++;\r\n                                }else{\r\n                                    $scope.user.unqualified++;\r\n                                }\r\n                            });\r\n                        } else {\r\n                            showAlert.showMsg(res.data);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n        }\r\n    ])\r\n","angular.module('BaiYin.OSI.OSIHistory', [\r\n    'ionic',\r\n    'ionic-datepicker',\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('OSI/OSIHistory', {\r\n            url: '/OSI/OSIHistory',\r\n            controller: 'OSIHistoryController',\r\n            templateUrl: 'OSI/OSIHistory/OSIHistory.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: new Object()}\r\n        })\r\n        var datePickerObj = {\r\n            inputDate: new Date(),\r\n            setLabel: '选择',\r\n            todayLabel: '今天',\r\n            closeLabel: '关闭',\r\n            mondayFirst: false,\r\n            weeksList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],//[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n            monthsList: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],//[\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\r\n            templateType: 'popup',\r\n            from: new Date(2012, 1, 1),\r\n            to: new Date(2020, 1, 1),\r\n            showTodayButton: true,\r\n            dateFormat: 'yyyy-MM-dd',\r\n            closeOnSelect: false\r\n        };\r\n        ionicDatePickerProvider.configDatePicker(datePickerObj);\r\n    }])\r\n    .controller('OSIHistoryController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', 'ionicDatePicker',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, ionicDatePicker) {\r\n            $scope.xclxListHide = true;\r\n            //上页传的参数\r\n            $scope.data = null;\r\n            //自动进行的操作\r\n            $scope.autoOperation = null;\r\n            $scope.$on('$ionicView.beforeEnter', function () {\r\n                if($stateParams.item.autoOperation){\r\n                    $scope.data = $stateParams.item.data;\r\n                    $scope.autoOperation = $stateParams.item.autoOperation;\r\n\r\n                    $scope.autoQuery();\r\n                }\r\n                getNowDate();\r\n            });\r\n            //获取当前日期\r\n            var date = new Date();\r\n\r\n            function getNowDate() {\r\n                $scope.timeStart = $filter(\"date\")(date, \"yyyy-MM-dd\");\r\n                $scope.timeEnd = $filter(\"date\")(date, \"yyyy-MM-dd\");\r\n            }\r\n\r\n            //获取日历插件\r\n            var startIpObj = {\r\n                callback: function (val) {\r\n                    console.log('点击事件返回值 : ' + new Date(val));\r\n                    $scope.timeStart = $filter(\"date\")(val, \"yyyy-MM-dd\");\r\n                    $(\"#StartHistoryID\").val($scope.timeStart);\r\n                },\r\n                from: new Date(2012, 1, 1),\r\n                to: new Date(),\r\n                inputDate: new Date(),\r\n                mondayFirst: false,\r\n                closeOnSelect: false,\r\n                templateType: 'popup'\r\n            };\r\n            var endIpObj = {\r\n                callback: function (val) {\r\n                    console.log('点击事件返回值 : ' + new Date(val));\r\n                    $scope.timeEnd = $filter(\"date\")(val, \"yyyy-MM-dd\");\r\n                    $(\"#endHistoryID\").val($scope.timeEnd);\r\n                },\r\n                from: new Date(2000, 1, 1),\r\n                to: new Date(),\r\n                inputDate: new Date(),\r\n                mondayFirst: false,\r\n                closeOnSelect: false,\r\n                templateType: 'popup'\r\n            };\r\n            //开始时间\r\n            $scope.openStartDatePicker = function () {\r\n                ionicDatePicker.openDatePicker(startIpObj);\r\n            };\r\n            //结束时间\r\n            $scope.openEndDatePicker = function () {\r\n                ionicDatePicker.openDatePicker(endIpObj);\r\n            };\r\n            //上拉弹出搜索框\r\n            $scope.onDragDown = function () {\r\n                $(\".selectTime\").show('slow');\r\n                $('.dragdiv').css(\"display\",'none');\r\n            }\r\n            //点击查询按钮\r\n            $scope.searchDefect = function () {\r\n                if (validateComfirm()) {\r\n                    $scope.xclxListHide = false;\r\n                    $(\".selectTime\").hide('slow');\r\n                    $(\".content\").show('slow');\r\n                    OSIHistory($(\"#StartHistoryID\").val(), $(\"#endHistoryID\").val());\r\n                }\r\n            }\r\n\r\n            function validateComfirm() {\r\n                if ($(\"#StartHistoryID\").val() == '') {\r\n                    showAlert.showMsg('', '', '请选择开始时间');\r\n                    return false;\r\n                }\r\n                if ($(\"#endHistoryID\").val() == '') {\r\n                    showAlert.showMsg('', '', '请选择结束时间');\r\n                    return false;\r\n                }\r\n                if ($(\"#StartHistoryID\").val() > $(\"#endHistoryID\").val()) {\r\n                    showAlert.showMsg('', '', '开始时间不能大于结束时间时间');\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n            \r\n            function OSIHistory(startTime, endTime, parmas) {\r\n                var parmas = parmas || {\r\n                    START_TIME: startTime,\r\n                    END_TIME: endTime\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=InspectionService&TransName=listCInspectRouteHistory', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $('.dragdiv').css(\"display\",'block');\r\n                            $scope.hList = res.data.dList;\r\n\r\n                        } else {\r\n                            $('.dragdiv').css(\"display\",'block');\r\n                            $scope.hList = [];\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            //点击巡查记录详情\r\n            $scope.toHistoryDetail = function (obj) {\r\n                console.log(\"obj==\" + JSON.stringify(obj));\r\n                //部分巡查统计用户数使用所在计划用户\r\n                var PLAN_PERSON = null;\r\n                //部分巡查统计页面进入，限定设备\r\n                var MCH_CODE_Value = null;\r\n                // 时间参数前台获取插件参数传递\r\n                var starttime = $(\"#StartHistoryID\").val();\r\n                var endtime = $(\"#endHistoryID\").val();\r\n                if($scope.data != null) {\r\n                \tif ($scope.data.MCH_CODE != null || $scope.data.MCH_CODE != undefined) {\r\n\t\t\t\t\t\tMCH_CODE_Value = $scope.data.MCH_CODE;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif($scope.data.date != null) {\r\n\t\t\t\t\t\t// 巡查计划时间\r\n\t\t\t\t\t\tif ($scope.data.date.startDate != null && $scope.data.date.endDate != null) {\r\n\t\t\t\t\t\t\tstarttime = $scope.data.date.startDate;\r\n\t\t\t\t\t\t\tendtime = $scope.data.date.endDate;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 巡查人的巡查计划\r\n\t\t\t\t\tif ($scope.data.PERSON_ID != undefined) {\r\n\t\t\t\t\t\tPLAN_PERSON = $scope.data.PERSON_ID;\r\n\t\t\t\t\t}\r\n                } \r\n                var item = {\r\n                    DESCRIPTION: obj.DESCRIPTION,\r\n                    TEMP_ID: obj.TEMP_ID,\r\n                    INSPECT_TYPE: obj.INSPECT_TYPE,\r\n                    START_TIME: starttime, //obj.START_TIME,\r\n                    PLAN_PERSON: PLAN_PERSON,\r\n                    END_TIME: endtime, //obj.END_TIME,\r\n                    MCH_CODE: MCH_CODE_Value\r\n                }\r\n                $state.go(\"OSI/OSIHistoryDetail\", item);\r\n            }\r\n\r\n            /** -------- 巡查统计修改 -------- **/\r\n            //自动查询\r\n            $scope.autoQuery = function () {\r\n                $scope.xclxListHide = false;\r\n                $(\".selectTime, .dragdiv\").remove();\r\n                $(\".content\").show('slow');\r\n                OSIHistory(null, null, {\r\n                    startDate: $scope.data.date.startDate,\r\n                    endDate: $scope.data.date.endDate,\r\n                    personId: $scope.data.PERSON_ID,\r\n                    mchCode: $scope.data.MCH_CODE\r\n                });\r\n            };\r\n        }\r\n    ])\r\n","angular.module('BaiYin.OSI.OSIcount', [\r\n        'ionic',\r\n        'BaiYin.OSI.OSIHistory',\r\n        'BaiYin.OSI.OSIPersonnelEquipment',\r\n        'BaiYin.OSI.OSIDepartmentEquipment',\r\n        'BaiYin.OSI.OSIDepartmentPersonnel'\r\n    ])\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('OSI/OSIcount', {\r\n            url: '/OSI/OSIcount',\r\n            controller: 'OSIcountController',\r\n            templateUrl: 'OSI/OSIcount/OSIcount.tpl.html',\r\n            cache: true,\r\n            authorizedRuleType: ['1'],\r\n            params: { item: new Object() }\r\n        });\r\n        var datePickerConfig = {\r\n            inputDate: new Date(),\r\n            setLabel: '选择',\r\n            todayLabel: '今天',\r\n            closeLabel: '关闭',\r\n            mondayFirst: false,\r\n            weeksList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],//[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n            monthsList: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],//[\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"]\r\n            templateType: 'popup',\r\n            from: new Date(2012, 1, 1),\r\n            to: new Date(2030, 12, 31),\r\n            showTodayButton: true,\r\n            dateFormat: 'yyyy-MM-dd',\r\n            closeOnSelect: true\r\n        };\r\n        ionicDatePickerProvider.configDatePicker(datePickerConfig);\r\n    }])\r\n    .controller('OSIcountController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', 'ionicDatePicker', '$ionicActionSheet',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, ionicDatePicker, $ionicActionSheet) {\r\n            $scope.tabs = null;\r\n            //进入页面\r\n            $scope.$on('$ionicView.beforeEnter', function (event, view) {\r\n                if(view.direction == \"forward\"){\r\n                    $scope.tabs = {\r\n                        \"personal\": null,\r\n                        \"department\": null\r\n                    };\r\n                    $ionicTabsDelegate.select(0);\r\n                    setTimeout(() => {\r\n                        $scope.changeTabType(\"personal\");\r\n                    }, 0);\r\n                }\r\n            });\r\n            //当前tab分页\r\n            $scope.tabType = \"personal\";\r\n            $scope.changeTabType = function(tabType){\r\n                $scope.tabType = tabType;\r\n                if($scope.tabs && $scope.tabs[$scope.tabType] == null){\r\n                    $scope.reload();\r\n                }\r\n            };\r\n            $scope.reload = function(tabType){\r\n                $scope.tabs[tabType || $scope.tabType] = {\r\n                    pageIndex: 1,\r\n                    hasMore: true,\r\n                    list: new Array()\r\n                };\r\n                $scope.getInspectStatisticalData();\r\n            };\r\n            //初始化时间\r\n            var initDate =  [new Date().getFullYear(), new Date().getMonth() - 0 + 1];\r\n            initDate = initDate[0] + \"-\" + (initDate[1] - 0 < 10 ? \"0\" + initDate[1] : initDate[1]);\r\n            //查询条件的时间集合\r\n            $scope.date = {\r\n                now: new Date(),\r\n                personalStart: initDate,\r\n                personalEnd: initDate,\r\n                departmentStart: initDate,\r\n                departmentEnd: initDate\r\n            };\r\n            /**\r\n             * 改变时间\r\n             */\r\n            var changeDateTime = function(dateKey, changeNumber, minDate, maxDate){\r\n                var date = this[dateKey].split(\"-\");\r\n                date[1] = parseInt(date[1]) + changeNumber;\r\n\r\n                if(date[1] < 1){\r\n                    date[0] -= 1;\r\n                    date[1] = 12 - date[1];\r\n                }else if(date[1] > 12){\r\n                    date[0] = parseInt(date[0]) + 1;\r\n                    date[1] = date[1] - 12;\r\n                }\r\n                if(date[1] < 10){\r\n                    date[1] = \"0\" + date[1];\r\n                }\r\n\r\n                date = date.join('-');\r\n\r\n                if(minDate && new Date(date).getTime() < new Date(minDate).getTime()){\r\n                    console.log(\"min\");\r\n                    return false;\r\n                }\r\n                if(maxDate && new Date(date).getTime() > new Date(maxDate).getTime()){\r\n                    console.log(\"max\");\r\n                    return false;\r\n                }\r\n\r\n                this[dateKey] = date;\r\n                return true;\r\n            };\r\n            $scope.changeDateTime = function(){\r\n                if(changeDateTime.apply($scope.date, arguments))\r\n                    $scope.reload();\r\n            };\r\n            //人员设备列表视图\r\n            $scope.openPersonnelEquipment = function(data){\r\n                $state.go('OSI/OSIPersonnelEquipment', {item: {\r\n                    date: $scope.date,\r\n                    changeDateTime: changeDateTime,\r\n                    data: data\r\n                }});\r\n            };\r\n            //巡查记录视图\r\n            $scope.openRecord = function(data){\r\n                data.date = {\r\n                    startDate: $scope.date.personalStart,\r\n                    endDate:$scope.date.personalEnd\r\n                };\r\n                $state.go('OSI/OSIHistory', {item: {autoOperation: \"personnel\", data: data}});\r\n            };\r\n            //单位人员列表视图\r\n            $scope.openDepartmentPersonnel = function(data){\r\n                $state.go('OSI/OSIDepartmentPersonnel', {item: {\r\n                    date: $scope.date,\r\n                    changeDateTime: changeDateTime,\r\n                    data: data\r\n                }});\r\n            };\r\n            //单位设备列表视图\r\n            $scope.openDepartmentEquipment = function(data){\r\n                $state.go('OSI/OSIDepartmentEquipment', {item: {\r\n                    date: $scope.date,\r\n                    changeDateTime: changeDateTime,\r\n                    data: data\r\n                }});\r\n            };\r\n            //获取巡查统计数据\r\n            $scope.getInspectStatisticalData = function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http\r\n                    .post('ServiceName=InspectionService&TransName=getInspectStatisticalData', {\r\n                        restrict: $scope.tabType == \"personal\" ? \"personnel\" : \"department\",\r\n                        pageIndex: $scope.tabs[$scope.tabType].pageIndex++,\r\n                        startTime: $scope.tabType == \"personal\" ? $scope.date.personalStart : $scope.date.departmentStart,\r\n                        endTime: $scope.tabType == \"personal\" ? $scope.date.personalEnd : $scope.date.departmentEnd\r\n                    })\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        \r\n                        if(res.data.list.length != 10){\r\n                            $scope.tabs[$scope.tabType].hasMore = false;\r\n                        }\r\n\r\n                        $scope.tabs[$scope.tabType].list = $scope.tabs[$scope.tabType].list.concat(res.data.list.map(function(v, i){\r\n                            v.percentage = Math.round(v.PLAN_INSPECTED/(v.PLAN_INSPECT == 0 ? 1 : v.PLAN_INSPECT) * 1000) / 10;\r\n                            return v;\r\n                        }));\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        $scope.tabs[$scope.tabType].hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n        }\r\n    ])\r\n","angular\r\n    .module('BaiYin.OSI.OSIHistoryDetail', [\r\n        'ionic',\r\n    ])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('OSI/OSIHistoryDetail', {\r\n            url: '/OSI/OSIHistoryDetail',\r\n            controller: 'OSIHistoryDetailController',\r\n            templateUrl: 'OSI/OSIHistoryDetail/OSIHistoryDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {TEMP_ID: null, DESCRIPTION: null, INSPECT_TYPE: null, START_TIME: null, END_TIME: null, MCH_CODE: null, PLAN_PERSON:null}\r\n        })\r\n    }])\r\n    .controller('OSIHistoryDetailController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                $scope.tempID = $stateParams.TEMP_ID;\r\n                $scope.description = $stateParams.DESCRIPTION;\r\n                $scope.inspectType = $stateParams.INSPECT_TYPE;\r\n                $scope.plan_person = $stateParams.PLAN_PERSON;\r\n                $scope.startTime = $stateParams.START_TIME;\r\n                $scope.endTime = $stateParams.END_TIME;\r\n                $scope.mchCode = $stateParams.MCH_CODE;\r\n                HistoryDetail($scope.tempID);\r\n            });\r\n\r\n            function HistoryDetail(tempid) {\r\n                console.log(\"tempid==\" + tempid);\r\n                var parmas = {\r\n                    TEMP_ID: tempid,\r\n                    START_TIME: $scope.startTime,\r\n                    END_TIME: $scope.endTime,\r\n                    PLAN_PERSON:$scope.plan_person,\r\n                    MCH_CODE: $scope.mchCode\r\n                };\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=InspectionService&TransName=cInspectRouteDetailH', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.hDetail = res.data.dList;\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //签到样式\r\n            $scope.identify = {\r\n                'padding': '5px',\r\n                'line-height': '35px',\r\n                'border-radius': '50%',\r\n                'display': 'inline-block',\r\n                'float': 'left',\r\n                'color': '#fff',\r\n                'margin-right': '10px',\r\n                'font-size': '12px',\r\n                'width': '45px',\r\n                'text-align': 'center'\r\n            }\r\n        }\r\n    ]);","angular.module('BaiYin.OSI.OSILine', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('OSI/OSILine', {\r\n            url: '/OSI/OSILine',\r\n            controller: 'OSILineController',\r\n            templateUrl: 'OSI/OSILine/OSILine.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {\r\n                TEMP_ID: null,\r\n                DESCRIPTION: null,\r\n                INSPECT_TYPE: null,\r\n                START_TIME: null,\r\n                END_TIME: null,\r\n                INSPECTED: null,\r\n                INSPECT: null\r\n            }\r\n        })\r\n    }])\r\n    .controller('OSILineController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', '$cordovaBarcodeScanner',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, $cordovaBarcodeScanner) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                /*$scope.qdTimeHide = false;\r\n                $scope.djqdTimeHide = true;*/\r\n                $scope.itemQdBtnhide = true;\r\n                $scope.inputHide = true;\r\n                $scope.positionHide = true;\r\n                $scope.OSIDetailHide=false;\r\n                if(localStorage.getItem(\"OSI_LINE\")){\r\n                    console.log(\"localstorage====\");\r\n                    var obj = JSON.parse(localStorage.getItem(\"OSI_LINE\"));\r\n                    $scope.tempID = obj.tempID;\r\n                    $scope.description = obj.description;\r\n                    $scope.inspectType = obj.inspectType;\r\n                    $scope.INSPECTED = obj.INSPECTED;\r\n                    $scope.INSPECT = obj.INSPECT;\r\n                    $scope.startTime = obj.startTime;\r\n                    $scope.endTime = obj.endTime;\r\n                }else{\r\n                    console.log(\"params====\");\r\n                    $scope.tempID = $stateParams.TEMP_ID;\r\n                    $scope.description = $stateParams.DESCRIPTION;\r\n                    $scope.inspectType = $stateParams.INSPECT_TYPE;\r\n                    $scope.INSPECTED = $stateParams.INSPECTED;\r\n                    $scope.INSPECT = $stateParams.INSPECT;\r\n                    $scope.startTime = $stateParams.START_TIME;\r\n                    $scope.endTime = $stateParams.END_TIME;\r\n                }\r\n                localStorage.removeItem(\"OSI_LINE\");\r\n                $scope.amount = 0;\r\n                //是否显示扫码\r\n                console.log(\"INSPECTED==\" + $scope.INSPECTED + \"/INSPECT==\" + $scope.INSPECT);\r\n                if ($scope.INSPECTED == $scope.INSPECT) {\r\n                    // $scope.inputHide = true;\r\n                }\r\n                //签到样式\r\n                $scope.identify = {\r\n                    'padding': '5px',\r\n                    'line-height': '35px',\r\n                    'border-radius': '50%',\r\n                    'display': 'inline-block',\r\n                    'float': 'left',\r\n                    'color': '#fff',\r\n                    'margin-right': '10px',\r\n                    'font-size': '12px',\r\n                    'width': '45px',\r\n                    'text-align': 'center'\r\n                }\r\n\r\n                HistoryDetail($scope.tempID);\r\n            });\r\n\r\n            function HistoryDetail(tempid) {\r\n                console.log(\"tempid==\" + tempid);\r\n                var parmas = {\r\n                    TEMP_ID: tempid\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=InspectionService&TransName=cInspectRouteDetailPage', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.hDetail = res.data.dList;\r\n                            console.log(res.data);\r\n                            console.log(\"$scope.hDetail===\" + JSON.stringify($scope.hDetail));\r\n                            for (var i = 0; i < $scope.hDetail.length; i++) {\r\n                                if ($scope.hDetail[i].RECORD_TIME == '' || $scope.hDetail[i].RECORD_TIME == null) {\r\n                                    /*$scope.identifyShow = '未签到';*/\r\n                                    console.log('', '', 'i==' + i);\r\n                                    $(\"#qdIconColorid\" + i).css('background', '#ccc');\r\n                                    $(\"#qdIconColorid\" + i).text('未签到');\r\n                                } else {\r\n                                    $(\"#qdIconColorid\" + i).text('已签到');\r\n                                    $(\"#qdIconColorid\" + i).css(\"background\", \"#83ecad\");\r\n                                }\r\n                            }\r\n                            console.log(\"$scope.hDetail==\" + JSON.stringify($scope.hDetail));\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            //点击扫二维码\r\n            $scope.toScanCode = function () {\r\n                $cordovaBarcodeScanner.scan()\r\n                    .then(function (barcodeData) {\r\n                        $scope.barcodeDataText = barcodeData.text;\r\n                        $scope.barcodeData = eval(\"(\" + $scope.barcodeDataText + \")\");\r\n                        $scope.patrolLine($scope.barcodeData.MCH_CODE, $scope.barcodeData.CONTRACT, $scope.tempID);\r\n                    }, function (error) {\r\n                        console.log(\"ERROR:\" + error);\r\n                    });\r\n            }\r\n            var planID;\r\n            $scope.patrolLine = function (MCH_CODE, CONTRACT, tempid) {\r\n                var params = {\r\n                    MCH_CODE: MCH_CODE,\r\n                    CONTRACT: CONTRACT,\r\n                    TEMP_ID: tempid\r\n                }\r\n                $http.post('ServiceName=InspectionService&TransName=formCBluetoothEquip', params)\r\n                    .then(function (res) {\r\n                        if (res.data.code == 0) {\r\n                            $scope.patrolLine = res.data.detail;\r\n                            planID = $scope.patrolLine.PLAN_ID;\r\n                            if ($scope.patrolLine.IS_MATCH == 'TRUE') {\r\n                                //扫描蓝牙\r\n                                blueToothEnable($scope.patrolLine.SN_ADDRESS);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n            }\r\n\r\n            //开启本机蓝牙\r\n            function blueToothEnable(SN_ADDRESS) {\r\n                ble.enable(\r\n                    function () {\r\n                        scanBlueTooth(SN_ADDRESS);\r\n                    },\r\n                    function () {\r\n                        showAlert.showMsg(\"\", \"\", \"打开蓝牙失败！\");\r\n                    }\r\n                );\r\n            }\r\n            //扫描蓝牙\r\n            function scanBlueTooth(SN_ADDRESS) {\r\n                ble.scan([], 5, function (device) {\r\n                        //成功的回调函数\r\n                        if (device.id == SN_ADDRESS) {\r\n                            signedLightUp();\r\n                            /*$scope.$apply(function(){\r\n                                // $scope.inputHide = true;\r\n                                $scope.positionHide = false;\r\n                            });*/\r\n                        }\r\n                    }, function () {\r\n                        //失败的回调函数\r\n                        showAlert.showMsg('', '', \"未扫描到有效蓝牙！\");\r\n                    }\r\n                );\r\n            }\r\n\r\n            function signedLightUp() {\r\n\r\n                for (var i = 0; i < $scope.hDetail.length; i++) {\r\n                    if (planID == $scope.hDetail[i].PLAN_ID) {\r\n                        //显示签到按钮\r\n                        $(\".itemQdBtn\" + i).show();\r\n                    }\r\n                }\r\n                /*if(planID == ''){\r\n                    alert(\"匹配成功----\");\r\n                }*/\r\n\r\n            }\r\n\r\n            //点击签到\r\n            $scope.toSigned = function (obj, num) {\r\n                $(\"#recordID\").attr(\"disabled\", true);\r\n                var params = {\r\n                    BLUETOOTH_SERIAL_NO: $scope.patrolLine.BLUETOOTH_SERIAL_NO,\r\n                    PLAN_ID: obj.PLAN_ID,\r\n                    LOCATION_DESCRIPTION: $scope.patrolLine.ADDRESS,\r\n                    IS_MATCH: $scope.patrolLine.IS_MATCH,\r\n                    EQUIP_NO: $scope.patrolLine.MCH_CODE,\r\n                    CONTRACT: $scope.patrolLine.CONTRACT\r\n                };\r\n                $http.post('ServiceName=InspectionService&TransName=inspectRecord', params)\r\n                    .then(function (res) {\r\n                        if (res.data.code == 0) {\r\n                            showAlert.showMsg('', '', '恭喜您，签到成功');\r\n                            $(\"#recordTimeid\" + num).hide();\r\n                            $(\"#newRecordTimeid\" + num).show();\r\n                            //签到按钮隐藏\r\n                            $scope.itemQdBtnHide = true;\r\n                            //颜色变蓝色\r\n                            $(\"#qdIconColorid\" + num).css('background', '#83ecad');\r\n                            $(\"#qdIconColorid\" + num).text('已签到');\r\n                            //显示签到时间\r\n                            $scope.recordTime = res.data.RECORD_TIME;\r\n\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\r\n                    });\r\n\r\n            }\r\n\r\n            //跳转到巡检记录\r\n            $scope.toOsiHistory = function () {\r\n                $state.go('OSI/OSIHistory');\r\n                //载入缓存数据\r\n                var obj = {\r\n                    tempID: $scope.tempID,\r\n                    description: $scope.description,\r\n                    inspectType: $scope.inspectType,\r\n                    INSPECTED: $scope.INSPECTED,\r\n                    INSPECT: $scope.INSPECT,\r\n                    startTime: $scope.startTime,\r\n                    endTime: $scope.endTime\r\n                };\r\n                localStorage.setItem(\"OSI_LINE\",JSON.stringify(obj));\r\n\r\n            }\r\n            //点击搜索蓝牙\r\n            $scope.searchsBlueTooth = function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                openblueToothEnable();\r\n            }\r\n            //开启本机蓝牙\r\n            function openblueToothEnable() {\r\n                ble.enable(\r\n                    function () {\r\n                        scansBlueToothnow();\r\n                    },\r\n                    function () {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(\"\",\"\",\"蓝牙未开启\");\r\n                    }\r\n                );\r\n            }\r\n            //扫描蓝牙\r\n            function scansBlueToothnow() {\r\n                $scope.equipToothList = [];\r\n                $scope.timer = $timeout(function () {\r\n                    loadingAnimation.hideLoading();\r\n                    if ($scope.equipToothList.length > 0) {\r\n                        upWindows($scope.equipToothList);\r\n                    } else {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg('', '', \"未扫描到蓝牙设备\");\r\n                    }\r\n                }, 5000);\r\n                ble.scan([], 5, function (device) {//成功的回调函数\r\n                        getBluesToothList(device);\r\n                    }, function () {\r\n                        //失败的回调函数\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg('', '', \"扫描蓝牙失败\");\r\n                    }\r\n                );\r\n            }\r\n            //弹出页面，显示扫描到的设备\r\n            var searchequipPopup;\r\n\r\n            function upWindows(equipToothList) {\r\n                searchequipPopup = $ionicPopup.show({\r\n                    template:'<div>' +\r\n                    '<ul>' +\r\n                    '<li id=\"devices_{{$index}}\" ng-click=\"selectsBlueTooth($index)\" ng-repeat=\"equipTooth in equipToothList track by $index\" ng-style=\"searchPopupli\">' +\r\n                    '{{equipTooth.ADDRESS}}' +\r\n                    '</li>' +\r\n                    '</ul>' +\r\n                    '</div>',\r\n                    title: '扫描到的蓝牙设备',\r\n                    scope: $scope,\r\n                });\r\n            }\r\n            //获取蓝牙列表\r\n            function getBluesToothList(device) {\r\n                $http.post('ServiceName=InspectionService&TransName=formSBluetoothEquip&SN_CODE=' + device.id)\r\n                    .then(function (res) {\r\n                        if (res.data.code == '0') {\r\n                            $scope.equipToothdetail=res.data.dList;\r\n                            for(var i=0;i<$scope.equipToothdetail.length;i++){\r\n                                $scope.equipToothList.push($scope.equipToothdetail[i]);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            $scope.searchPopupli = {\r\n                \"line-height\": \"35px\",\r\n                \"font-size\": \"12px\",\r\n                \"text-align\": \"center\",\r\n                \"border-bottom\": \"1px dotted #f4f4f4\",\r\n            };\r\n            //点击选择蓝牙设备\r\n            $scope.selectsBlueTooth = function (index) {\r\n                searchequipPopup.close();\r\n                var MCH_CODE= $scope.equipToothList[index].MCH_CODE;\r\n                var CONTRACT= $scope.equipToothList[index].CONTRACT;\r\n                $scope.patrolHome(MCH_CODE, CONTRACT);\r\n                $scope.OSIDetailHide=true;\r\n                $scope.positionHide = false;\r\n\r\n            }\r\n\r\n        }\r\n    ])\r\n","angular.module('BaiYin.pdDay', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('power/pdDay', {\r\n            url: '/power/pdDay',\r\n            controller: 'pdDayController',\r\n            templateUrl: 'power/pdDay/pdDay.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('pdDayController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', 'ionicDatePicker',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, ionicDatePicker) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                drawBarGraph();\r\n            });\r\n\r\n            //画柱状图\r\n            function drawBarGraph() {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.get('ServiceName=TargetService&TransName=getPdDay&START_DAY=30')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        console.log(\"res==\" + JSON.stringify(res.data));\r\n                        $scope.pdDayPower = res.data;\r\n                        $scope.DayDate =[];\r\n                        $scope.DayVal = [];\r\n                        var labelTop = {\r\n                            normal: {\r\n                                color: '#ff9900',\r\n                                label: {\r\n                                    position: 'center',\r\n                                    textStyle: {\r\n                                        baseline: 'bottom'\r\n                                    }\r\n                                },\r\n                                labelLine: {\r\n                                    show: false\r\n                                }\r\n                            }\r\n                        };\r\n                        for(var i=0 ;i<$scope.pdDayPower.length;i++){\r\n                            $scope.DayDate.push($scope.pdDayPower[i].REPORT_ID.substring(5,10));\r\n                            $scope.DayVal.push({\r\n                                value: $scope.pdDayPower[i].DAY_ELE_AMOUNT,\r\n                                itemStyle: labelTop});\r\n                        }\r\n\r\n                        var option = {\r\n                            title: {\r\n                                text: $scope.pdDayPower[0].REPORT_ID + ' ~ ' + $scope.pdDayPower[$scope.pdDayPower.length-1].REPORT_ID,\r\n                                x: 'center'\r\n                            },\r\n                            tooltip: {\r\n                                trigger: 'axis'\r\n                            },\r\n                            grid: {\r\n                                left: '15%',\r\n                            },\r\n                            toolbox: {\r\n                                show: true,\r\n                            },\r\n                            calculable: true,\r\n                            xAxis: [\r\n                                {\r\n                                    type: 'category',\r\n                                    data: $scope.DayDate,\r\n                                }\r\n                            ],\r\n                            dataZoom: [{\r\n                                type: 'inside',\r\n                                start:80,\r\n                                end: 100,\r\n                                zoomLock:true,\r\n                            }],\r\n                            yAxis: [\r\n                                {\r\n                                    name: '(万KW.h)',\r\n                                    type: 'value'\r\n                                },\r\n                            ],\r\n                            series: [\r\n                                {\r\n                                    name: '电量',\r\n                                    type: 'bar',\r\n                                    data: $scope.DayVal,\r\n                                }\r\n                            ]\r\n                        };\r\n                        var myChart = echarts.init(document.getElementById('mainDay'), 'macarons');\r\n                        myChart.setOption(option);\r\n                        /*myChart.on('timelinechanged', function(params) {\r\n                            fun(params.currentIndex);\r\n                        });\r\n                        myChart.on(\"click\",function(params){\r\n                            console.log(params);\r\n                        });\r\n                        function fun(date){\r\n                            console.log(date);\r\n                        }\r\n                        myChart.on('datazoom', function(params) {\r\n                            var xAxis = myChart.getModel().option.xAxis[0];\r\n                            var endTime = xAxis.data[xAxis.rangeEnd];\r\n                            fun(endTime)\r\n                        });\r\n                        function fun(date){\r\n                            console.log(date);\r\n                        }*/\r\n                        // myChart.on('dataZoom', function (params) {\r\n                            // console.log(JSON.stringify(params));\r\n                            // if(params.batch[0].start<=10){\r\n                            //     // myChart.showLoading();\r\n                            //     console.log('======拖动====');\r\n                            //     console.log(params);\r\n                            // }\r\n                            // myChart.setOption({\r\n                            //     xAxis: {\r\n                            //         axisLabel:{\r\n                            //             interval:'auto',\r\n                            //         }\r\n                            //     },\r\n                            // })\r\n                        // });\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n\r\n            }\r\n        }\r\n    ])\r\n    .directive('bar', function () {\r\n        return {\r\n            scope: {\r\n                id: \"@\",\r\n                legend: \"=\",\r\n                //item: \"=\",\r\n                data: \"=\"\r\n            },\r\n            restrict: 'E',\r\n            template: '<div style=\"height:350px; width:350px; margin: 0 auto\"></div>',\r\n            replace: true,\r\n            link: function () {\r\n            }\r\n        };\r\n    });\r\n","angular.module('BaiYin.pdMounth', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('power/pdMounth', {\r\n            url: '/power/pdMounth',\r\n            controller: 'pdMounthController',\r\n            templateUrl: 'power/pdMounth/pdMounth.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('pdMounthController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', 'ionicDatePicker',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, ionicDatePicker) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                drawBarGraph();\r\n            });\r\n\r\n            //画柱状图\r\n            function drawBarGraph() {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.get('ServiceName=TargetService&TransName=getPdMounth')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        console.log(\"res==\" + JSON.stringify(res.data));\r\n                        $scope.monthList = res.data;\r\n                        $scope.monthDate =[];\r\n                        $scope.mouthVal = [];\r\n                        var labelTop = {\r\n                            normal: {\r\n                                color: '#ff9900',\r\n                                label: {\r\n                                    position: 'center',\r\n                                    textStyle: {\r\n                                        baseline: 'bottom'\r\n                                    }\r\n                                },\r\n                                labelLine: {\r\n                                    show: false\r\n                                }\r\n                            }\r\n                        };\r\n                        for(var i=0 ;i<$scope.monthList.length;i++){\r\n                            $scope.monthDate.push($scope.monthList[i].YEAR_MONTH);\r\n                            $scope.mouthVal.push({\r\n                                    value: $scope.monthList[i].MONTH_ELE_AMOUNT,\r\n                                    itemStyle: labelTop});\r\n                        }\r\n                        var option = {\r\n                            title: {\r\n                                text: $scope.monthList[0].YEAR_MONTH + '~' + $scope.monthList[$scope.monthList.length-1].YEAR_MONTH,\r\n                                x: 'center'\r\n                            },\r\n                            tooltip: {\r\n                                trigger: 'axis'\r\n                            },\r\n                            toolbox: {\r\n                                show: true,\r\n                            },\r\n                            grid: {\r\n                                left: '15%',\r\n                            },\r\n                            calculable: true,\r\n                            xAxis: [\r\n                                {\r\n                                    type: 'category',\r\n                                    data: $scope.monthDate\r\n                                }\r\n                            ],\r\n                            yAxis: [\r\n                                {\r\n                                    name: '(万KW·h)',\r\n                                    type: 'value'\r\n                                },\r\n                            ],\r\n                            dataZoom: [{\r\n                                type: 'inside',\r\n                                start:50,\r\n                                end: 100,\r\n                                zoomLock:true,\r\n                            }],\r\n                            series: [\r\n                                {\r\n                                    name: '电量',\r\n                                    type: 'bar',\r\n                                    data: $scope.mouthVal,\r\n                                }\r\n                            ]\r\n                        };\r\n                        var myChart = echarts.init(document.getElementById('mainMounth'), 'macarons');\r\n                        myChart.setOption(option);\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n\r\n        }\r\n    ])\r\n\r\n","angular.module('BaiYin.pdYear', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('power/pdYear', {\r\n            url: '/power/pdYear',\r\n            controller: 'pdYearController',\r\n            templateUrl: 'power/pdYear/pdYear.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('pdYearController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', 'ionicDatePicker',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, ionicDatePicker) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                drawBarGraph();\r\n            });\r\n\r\n            //画柱状图\r\n            function drawBarGraph() {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.get('ServiceName=TargetService&TransName=getPdYear')\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.yearPower = res.data;\r\n                        $scope.yearDate = [];\r\n                        $scope.yearVal = [];\r\n                        console.log(\"res==\" + JSON.stringify(res.data));\r\n                        var labelTop = {\r\n                            normal: {\r\n                                color: '#ff9900',\r\n                                label: {\r\n                                    position: 'center',\r\n                                    textStyle: {\r\n                                        baseline: 'bottom'\r\n                                    }\r\n                                },\r\n                                labelLine: {\r\n                                    show: false\r\n                                }\r\n                            }\r\n                        };\r\n                        for(var i=0 ;i<$scope.yearPower.length;i++){\r\n                            $scope.yearDate.push($scope.yearPower[i].YEAR);\r\n                            $scope.yearVal.push({\r\n                                value: $scope.yearPower[i].YEAR_ELE_AMOUNT,\r\n                                itemStyle: labelTop});\r\n                        }\r\n                        var option = {\r\n                            title: {\r\n                                text: $scope.yearPower[0].YEAR + '~' + $scope.yearPower[$scope.yearPower.length - 1].YEAR,\r\n                                x: 'center'\r\n                            },\r\n                            tooltip: {\r\n                                trigger: 'axis'\r\n                            },\r\n                            toolbox: {\r\n                                show: true,\r\n                            },\r\n                            grid: {\r\n                                left: '15%',\r\n                            },\r\n                            calculable: true,\r\n                            xAxis: [\r\n                                {\r\n                                    type: 'category',\r\n                                    data: $scope.yearDate\r\n                                }\r\n                            ],\r\n                            dataZoom: [{\r\n                                type: 'inside',\r\n                                start:75,\r\n                                end: 100,\r\n                                zoomLock:true,\r\n                            }],\r\n                            yAxis: [\r\n                                {\r\n                                    name: '(万KW·h)',\r\n                                    type: 'value'\r\n                                },\r\n                            ],\r\n                            series: [\r\n                                {\r\n                                    name: '电量',\r\n                                    type: 'bar',\r\n                                    data: $scope.yearVal,\r\n                                }\r\n                            ]\r\n                        };\r\n                        var myChart = echarts.init(document.getElementById('mainYear'), 'macarons');\r\n                        myChart.setOption(option);\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n\r\n        }\r\n    ])\r\n\r\n","angular.module('BaiYin.tabs.companyAddressBook', [\n    'ionic'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('tabs/companyAddressBook', {\n        url: '/tabs/companyAddressBook',\n        controller: 'companyAddressBookController',\n        templateUrl: 'tabs/companyAddressBook/companyAddressBook.tpl.html',\n        cache: 'true',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('companyAddressBookController', ['$scope', 'pageInitService', '$http', '$state', '$ionicTabsDelegate',\n    function($scope, pageInitService, $http, $state, $ionicTabsDelegate) {\n        $scope.$on('$ionicView.enter', function() {\n            $scope.currentTab = 'tabs/companyAddressBook';\n            $ionicTabsDelegate.select(1);\n        })\n        var apis = [\n            'ServiceName=UserService&TransName=getOrganiztionList',\n            'ServiceName=UserService&TransName=getAllAddressInfo'\n        ];\n        pageInitService.pageInit(apis).then(function(result) {\n            $scope.items = result[0].data;\n            $scope.users=result[1].data;\n        }, function(error) {\n            console.log(error)\n        });\n        $scope.addressList = function(item) {\n            $state.go('employeeAddress');\n            localStorage.setItem('_titleUser_', JSON.stringify(item))\n        }\n         $scope.listMsgShow=true;\n        $scope.userMsgShow=false;\n       $scope.toChange=function(changeNum){\n            if(changeNum.length>0){\n                $scope.listMsgShow=false;\n                $scope.userMsgShow=true;\n            }else if(changeNum.length<=0){\n                $scope.listMsgShow=true;\n                $scope.userMsgShow=false;\n            }\n       }\n       $scope.userMsg = function(item) {\n             console.log(item);\n                $state.go('addressDetail');\n                sessionStorage.setItem(\"_xiangQing_\", JSON.stringify(item));\n            }\n       \n    }\n])","angular.module('BaiYin.tabs.companyAddressBooks', [\n    'BaiYin.tabs.companyAddressBook',\n    'BaiYin.tabs.employeeAddress',\n    'BaiYin.tabs.addressDetail'\n    \n])","angular.module('BaiYin.tabs.homePage', [\n    'ionic',\n    'BaiYin.tabs.homePage.mock', 'ngCordova'\n]).config(['$stateProvider', function ($stateProvider) {\n    $stateProvider.state('tabs/homePage', {\n        url: '/tabs/homePage',\n        controller: 'HomeIndexController',\n        templateUrl: 'tabs/homePage/homePage.tpl.html',\n        resolve: {\n            resolvedData: ['$http', function ($http) {\n                return $http.get('getApplys');\n            }]\n        },\n        authorizedRuleType: ['1']\n    })\n}])\n/**\n * 隐藏tabs指令\n *\n */\n    .directive('showTabs', function ($rootScope) {\n        return {\n            restrict: 'A',\n            link: function ($scope, $el) {\n                $rootScope.hideTabs = false;\n            }\n        };\n    })\n    .directive('hideTabs', function ($rootScope) {\n        return {\n            restrict: 'A',\n            link: function ($scope, $el) {\n                $rootScope.hideTabs = true;\n            }\n        };\n    })\n\n    .controller('HomeIndexController', ['$rootScope', '$scope', '$window', 'showAlert', 'loadingAnimation', '$ionicScrollDelegate', '$http', 'resolvedData', '$state', '$ionicTabsDelegate', '$ionicPopup', '$ionicSlideBoxDelegate', 'pageInitService', 'Session', '$ionicHistory', '$ionicModal', '$cordovaGeolocation',\n        function ($rootScope, $scope, $window, showAlert, loadingAnimation, $ionicScrollDelegate, $http, resolvedData, $state, $ionicTabsDelegate, $ionicPopup, $ionicSlideBoxDelegate, pageInitService, Session, $ionicHistory, $ionicModal, $cordovaGeolocation) {\n            var ID = 7;\n            var isMobile = false;\n            //获取当前时间\n            getNowDate();\n\n            $scope.$on('$ionicView.enter', function () {\n                //隐藏tabs\n                $rootScope.hideTabs = true;\n                $scope.currentTab = 'tabs/homePage';\n                $ionicTabsDelegate.select(0);\n            });\n            $scope.$on('$ionicView.afterEnter', function () {\n                console.log(\"time===\");\n                firstNews();\n                getErpTodoCount();\n            });\n\n            //登录完成\n            window.logined = function(){\n                getErpTodoCount();\n            };\n\n            //插件定位开始\n            var posOptions = {timeout: 10000, enableHighAccuracy: false};\n            $cordovaGeolocation\n                .getCurrentPosition(posOptions)\n                .then(function (position) {\n                    var lat = position.coords.latitude;\n                    var lng = position.coords.longitude;\n                    var city = lng + \",\" + lat;\n                    getThisWeather(city);\n                    // showAlert.showMsg('', '', lat+'/'+long, '确认');\n                }, function (err) {\n                    showAlert.showMsg('', '', '定位出错', '确认');\n                });\n            //点击生产管理\n            $scope.toSCGL = function () {\n                //showAlert.showMsg('', '', '程序员正在玩命开发中……')\n                $state.go('tabs/porductManage');\n            };\n            //点击经营管理\n            $scope.toJYgl = function () {\n                // showAlert.showMsg('', '', '程序员正在玩命开发中……');\n                $state.go('tabs/OMA');\n            };\n            //点击通知公告\n            $scope.toNOTICE = function () {\n                $state.go('Problems')\n            };\n            //点击ERP审批\n            $scope.toERP = function () {\n                $state.go('erp');\n            }\n            //点击个人中心\n            $scope.toMINE = function () {\n                $state.go('tabs/mine')\n            };\n            //点击公司新闻\n            $scope.toNEWS = function (item) {\n                $state.go('News', {item: item})\n            };\n            //点击公告白板\n            $scope.tobBoard = function () {\n                var sec = token.sec;\n                var noAuth = true;\n                if (sec != undefined) {\n                    if (sec.length > 0) {\n                        for (var no in sec) {\n                            if (sec[no].SEC_NO == 'G001') {\n                                noAuth = false;\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (noAuth) {\n                    showAlert.showMsg('', '', '您无权操作白板公告', '确认');\n                    return;\n                }\n                $state.go('bulletinBoard')\n            };\n            //点击考勤签到\n            $scope.toAttence = function () {\n                $state.go('attence')\n            };\n            //跳转到OA\n            $scope.toOA = function () {\n                //进行OA跳转\n                if (isMobile) {\n                    goOA();\n                } else {\n                    showAlert.showMsg('', '', '当前非APP模式，不能调用OA移动端程序', '确认');\n                }\n            };\n\n            //跳转到OA，进行android和IOS的交互\n            function goOA() {\n                var u = navigator.userAgent;\n                var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端\n                var isiOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\n                if (isAndroid) {\n                    startApp.set({\n                        \"package\": \"com.seeyon.cmp\"\n                    }).start(function(){}, function(error) {\n                        //没有安装应用会执行下面的语句\n                        window.location = \"http://m3.seeyon.com/index!index.xhtml#download\";\n                    });\n                } else if (isiOS) {\n                    window.location.href = \"seeyonM3Phone://\";\n                    setTimeout(function(){\n                        //没有安装应用会执行下面的语句\n                        window.locaiton.href = \"itms-apps://itunes.apple.com/us/app/m3-移动办公平台/id1236176492\";\n                    }, 300);\n                }\n            }\n\n            //ERP待办数量\n            $scope.erpTodoCount = null;\n            function getErpTodoCount() {\n                $http\n                    .post(\"ServiceName=ErpService&TransName=getTodoCount\")\n                    .then(function (res) {\n                        $scope.erpTodoCount = res.data.COUNT;\n                    }, function (error) {\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\n                    });\n            };\n\n            //获取通知公告第一条\n            function firstNews() {\n                console.log(\"firstNews===\");\n                var params = {\n                    ID: '7',\n                    PageNo: '1',\n                    PageCnt: '2'\n                };\n                $http.post('ServiceName=CMSService&TransName=getContentlList', params)\n                    .then(function (res) {\n                        getProductPageAd();\n                        $scope.newslist = res.data;\n                        for (var i = 0; i < $scope.newslist.length; i++) {\n                            $scope.newslist[i].PUBDATE = new Date($scope.newslist[i].PUBDATE.replace(/-/g, \"/\"));\n                        }\n                    }, function (error) {\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认');\n                    });\n            }\n\n\n            //获取天气情况\n            function getWeather(cityDes) {\n                console.log(\"cityDes==\" + cityDes);\n                var winfo = {city: cityDes};\n                $http.post(\"ServiceName=WeatherService&TransName=weatherList\", winfo)\n                    .then(function (res) {\n                        console.log(res);\n                        $scope.temp = res.data;\n                        $scope.Weather = $scope.temp;\n                    }, function (error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            }\n\n            /**\n             * 获取生产管理首页广告\n             */\n            function getProductPageAd() {\n                $http.post('ServiceName=WhiteBoardService&TransName=listWhiteBoardNewspaper')\n                    .then(function (res) {\n                        //自定义高度\n                        // CustomHigh();\n                        $scope.advert = res.data.tList;\n                        console.log(\"$scope.advert==\" + JSON.stringify($scope.advert));\n                    }, function (error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            }\n\n            /**\n             * 获取当前日期\n             * @constructor\n             */\n            function getNowDate() {\n                $scope.str = '';\n                $scope.now = new Date();\n                $scope.week = new Date().getDay();\n                if ($scope.week == 0) {\n                    $scope.str = \"星期日\";\n                } else if ($scope.week == 1) {\n                    $scope.str = \"星期一\";\n                } else if ($scope.week == 2) {\n                    $scope.str = \"星期二\";\n                } else if ($scope.week == 3) {\n                    $scope.str = \"星期三\";\n                } else if ($scope.week == 4) {\n                    $scope.str = \"星期四\";\n                } else if ($scope.week == 5) {\n                    $scope.str = \"星期五\";\n                } else if ($scope.week == 6) {\n                    $scope.str = \"星期六\";\n                }\n            }\n\n            //进行定位\n            function startLocation() {\n                if (navigator.geolocation) {\n                    navigator.geolocation.getCurrentPosition(showPosition, showError);\n                } else {\n                    showAlert.showMsg('', '', '浏览器不支持地理定位。');\n                }\n            }\n\n            //定位错误提示\n            function showError(error) {\n                switch (error.code) {\n                    case error.PERMISSION_DENIED:\n                        showAlert.showMsg('', '', '定位失败,用户拒绝请求地理定位');\n                        // alert(\"定位失败,用户拒绝请求地理定位\");\n                        break;\n                    case error.POSITION_UNAVAILABLE:\n                        showAlert.showMsg('', '', '定位失败,位置信息是不可用');\n                        // alert(\"定位失败,位置信息是不可用\");\n                        break;\n                    case error.TIMEOUT:\n                        showAlert.showMsg('', '', '定位失败,请求获取用户位置超时');\n                        // alert(\"定位失败,请求获取用户位置超时\");\n                        break;\n                    case error.UNKNOWN_ERROR:\n                        showAlert.showMsg('', '', '定位失败,定位系统失效');\n                        // alert(\"定位失败,定位系统失效\");\n                        break;\n                }\n            }\n\n            //定位成功提示\n            function showPosition(position) {\n                var lat = position.coords.latitude; //纬度\n                var lng = position.coords.longitude; //经度\n                var city = lng + \",\" + lat;\n                getThisWeather(city);\n            }\n\n            //获取天气情况\n            function getThisWeather(cityDes) {\n                console.log(\"cityDes==\" + cityDes);\n                var winfo = {city: cityDes};\n                $http.post(\"ServiceName=WeatherService&TransName=weatherList\", winfo)\n                    .then(function (res) {\n                        // getKPI();\n                        console.log(res);\n                        // $scope.temp = res.data;\n                        $scope.frontW = res.data;\n                    }, function (error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            }\n\n            function CustomHigh() {\n                //屏幕的高度\n                $scope.wHeight = $window.innerHeight;\n                //列表文字显示的宽度\n                $scope.newslistLi = {width: '' + screen.width - 150 + 'px'};\n                //公告白板中标题的显示\n                $scope.titleShow = {width: '' + screen.width - 180 + 'px'};\n            }\n\n            //版本更新\n            document.addEventListener(\"deviceready\", function () {\n                isMobile = true;\n                var isIOS = !!navigator.userAgent.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //判断是iOS\n                //开始定位\n                // startLocation();\n                //版本更新\n                if (Session.userInfoData.LoginStatus == '1' && Session.user.DeviceType == 'Android') {\n                    $http.get('ServiceName=SysManageService&TransName=getNewVersion&APP_VERSION=' + appVersion)\n                        .then(function (res) {\n                            if (res.data.exist == 'Y') {\n                                showVersionPop('发现新版本是否更新？', '更新', '取消', res.data.url, 1);\n                            }\n                        }, function (err) {\n                        });\n                }\n                if (isIOS){\n                    $http.get('ServiceName=SysManageService&TransName=getNewVersion&APP_VERSION=' + appVersion)\n                        .then(function (res) {\n                            var iosUrl=res.data.iosUrl;\n                            if (res.data.exist == 'Y') {\n                                showiosVersionPop('发现新版本是否更新？', '更新', '取消', res.data.iosUrl, 1);\n                            }\n                        }, function (err) {\n                        });\n                }\n            }, false);\n            // function UpdateForIOS(iosUrl){\n            //     var winRef = window.open(iosUrl);\n            //     winRef.location =iosUrl;\n            // }\n\n            var showVersionPop = function (template, leftText, rightText, downUrl, num) {\n                var messagePopup = $ionicPopup.confirm({\n                    template: template,\n                    okText: leftText,\n                    cancelText: rightText\n                });\n                messagePopup.then(function (res) {\n                    if (res) {\n                        if (num == 1) {\n                            console.log(downUrl);\n                            MRUpdateVersion.updateVersion(function success() {\n                            }, function failed(message) {\n                            }, downUrl);\n                        }\n                    }\n                })\n            }\n            var showiosVersionPop = function (template, leftText, rightText, downUrl, num) {\n                var messageiosPopup = $ionicPopup.confirm({\n                    template: template,\n                    okText: leftText,\n                    cancelText: rightText\n                });\n                messageiosPopup.then(function (res) {\n                    if (res) {\n                        if (num == 1) {\n                            var winRef = window.open(downUrl);\n                            winRef.location =downUrl;\n                        }\n                    }\n                })\n            }\n\n            $scope.goNewsDatil = function (item) {\n                /*localStorage.setItem(\"newsId\", ID);\n                item.whichNew = ID;*/\n                $state.go('companyNewsDetails', {'item': item})\n            };\n            //访问白板公告详情\n            $scope.boardDetail = function (lno) {\n                $state.go('bulletinBoard/view', {LINE_NO: lno})\n            };\n        }\n    ])\n/*\nangular.module('BaiYin.tabs.homePage', [\n    'ionic',\n    'BaiYin.tabs.homePage.mock',\n]).config(['$stateProvider', function ($stateProvider) {\n    $stateProvider.state('tabs/homePage', {\n        url: '/tabs/homePage',\n        controller: 'HomeIndexController',\n        templateUrl: 'tabs/homePage/homePage.tpl.html',\n        resolve: {\n            resolvedData: ['$http', function ($http) {\n                return $http.get('getApplys');\n            }]\n        },\n        authorizedRuleType: ['1']\n    })\n}])\n    .controller('HomeIndexController', ['$scope', '$window', 'showAlert', 'loadingAnimation', '$ionicScrollDelegate', '$http', 'resolvedData', '$state', '$ionicTabsDelegate', '$ionicPopup', '$ionicSlideBoxDelegate', 'pageInitService', 'Session', '$ionicHistory', '$ionicModal',\n        function ($scope, $window, showAlert, loadingAnimation, $ionicScrollDelegate, $http, resolvedData, $state, $ionicTabsDelegate, $ionicPopup, $ionicSlideBoxDelegate, pageInitService, Session, $ionicHistory, $ionicModal) {\n            var ID = 7;\n            $scope.$on('$ionicView.enter', function () {\n                $scope.currentTab = 'tabs/homePage';\n                $ionicTabsDelegate.select(0);\n\n            });\n            $scope.$on('modal.hidden', function () {\n                $scope.gsxw = '公司动态'\n                if (!localStorage.getItem(\"newsId\")) {\n                    refreshMsg();\n                }\n            })\n            //通知公告第一条滚动框的宽度\n            $scope.maqueeWidth= {width: '' + screen.width - 5 + 'px'};\n            //列表文字显示的宽度\n            $scope.newslistLi= {width: '' + screen.width - 110 + 'px'};\n            $scope.$on('$ionicView.afterEnter', function () {\n                \n                if (!localStorage.getItem(\"newsId\")) {\n                    $ionicScrollDelegate.scrollTop();\n                    $ionicSlideBoxDelegate.next();\n                    // $scope.handImage = resolvedData.data.handImage;\n                    $scope.gsxw = '公司动态';\n                    refreshMsg();\n                    firstNotice();\n                }\n                localStorage.removeItem(\"newsId\");\n\n            });\n\n\n            function refreshMsg() {\n                /!*var ID = localStorage.getItem(\"newsId\") || '';\n                console.log(\"ID===\"+ID);*!/\n                if (ID == '') {\n                    ID = 7;\n                }\n                // localStorage.removeItem(\"newsId\");\n                $scope.gsdt = true;\n                switch (ID) {\n                    case '7':\n                        $scope.gsxw = '公司动态';\n                        $scope.gsdt = true;\n                        break;\n                    case '31':\n                        $scope.gsxw = '通知公告';\n                        $scope.gsdt = false;\n                        break;\n                    case '32':\n                        $scope.gsxw = '公司发文';\n                        $scope.gsdt = false;\n                        break;\n                }\n                console.log(\"$scope.gsdt==\" + $scope.gsdt);\n                if (Session.userInfoData.LoginStatus == '1') {\n                    loadingAnimation.showLoading('加载中...', 'loding', 0);\n                    $scope.listShow = true;\n                    $http.get('ServiceName=CMSService&TransName=getContentlList&PageNo=1&ID=' + ID + '&PageCnt=8')\n                        .then(function (res) {\n                            loadingAnimation.hideLoading();\n                            $scope.companPro1 = res.data;\n                            console.log(res.data)\n                            for (var i = 0; i < $scope.companPro1.length; i++) {\n                                $scope.companPro1[i].PUBDATE = new Date($scope.companPro1[i].PUBDATE.replace(/-/g, \"/\"))\n                            }\n                            $scope.companPro = $scope.companPro1;\n                            if (res.data.length > 0 && res.data != undefined && res.data != null) {\n                                // ID = 7;\n                                $scope.hasMore = true;\n                            } else {\n                                $scope.hasMore = false;\n                            }\n                        }, function (error) {\n                            loadingAnimation.hideLoading();\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                        });\n                    $scope.number = 1;\n                    $scope.hasMore = false;\n                    $scope.loadMore = function () {\n                        console.log(\"loadMore===\");\n                        $scope.number += 1;\n                        $http.get('ServiceName=CMSService&TransName=getContentlList&PageNo=' + $scope.number + '&ID=' + ID)\n                            .then(function (res) {\n                                loadingAnimation.hideLoading();\n                                console.log(res)\n                                $scope.companPro1 = res.data;\n                                for (var i = 0; i < $scope.companPro1.length; i++) {\n                                    $scope.companPro1[i].PUBDATE = new Date($scope.companPro1[i].PUBDATE.replace(/-/g, \"/\"))\n                                    $scope.companPro.push($scope.companPro1[i]);\n                                }\n                                ;\n                                if ($scope.companPro1.length <= 0) {\n                                    $scope.hasMore = false;\n                                }\n                                $scope.$broadcast('scroll.infiniteScrollComplete')\n                            }, function (error) {\n                                loadingAnimation.hideLoading();\n                                $scope.hasMore = false;\n                                showAlert.showMsg(error, '', '网络异常', '确认')\n                            })\n                    }\n                }\n            };\n\n            //获取通知公告第一条\n            function firstNotice() {\n                $http.get('ServiceName=CMSService&TransName=getContentlList&ID=31&PageNo=1&PageCnt=1')\n                    .then(function (res) {\n                        $scope.companPro2 = res.data;\n                        loadingAnimation.hideLoading();\n                    }, function (error) {\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                    });\n            }\n\n            //点击ERP审批\n            $scope.toERP = function () {\n                showAlert.showMsg('', '', '程序员正在玩命开发中……')\n                // $state.go('erp');\n            }\n            //点击生产指标\n            $scope.toSCZB = function () {\n                $state.go('KPI');\n            }\n            //点击通知公告\n            $scope.toNOTICE = function () {\n                $state.go('Problems')\n            }\n            //点击企业文化\n            $scope.toQYWH = function () {\n                $state.go('Problems')\n            }\n            //点击公司新闻\n            $scope.toNEWS = function () {\n                $state.go('Problems')\n            }\n            $scope.public = function (com) {\n                if (Session.userInfoData.LoginStatus == '1') {\n                    loadingAnimation.showLoading('加载中...', 'loding', 0);\n                    $scope.listShow = false;\n                    ID = com;\n                    $scope.number = 1;\n                    $ionicScrollDelegate.scrollTop();\n                    console.log(\"com===\" + com);\n                    switch (com) {\n                        case '7':\n                            $scope.gsxw = '公司动态';\n                            $scope.gsdt = true;\n                            console.log(\"gsdt==\" + $scope.gsdt);\n                            break;\n                        case '31':\n                            $scope.gsxw = '通知公告';\n                            $scope.gsdt = false;\n                            break;\n                        case '32':\n                            $scope.gsxw = '公司发文';\n                            $scope.gsdt = false;\n                            break;\n                    }\n                    $scope.hasMore = false;\n                    $http.post('ServiceName=CMSService&TransName=getContentlList&ID=' + com + '&PageCnt=8')\n                        .then(function (res) {\n                            console.log(res)\n                            $scope.companPro1 = res.data;\n                            $scope.listShow = true;\n                            loadingAnimation.hideLoading();\n                            if (res.data.length > 1 && res.data != undefined && res.data != null && res.data.length <= 11) {\n                                $scope.hasMore = true;\n                            }\n                            for (var i = 0; i < $scope.companPro1.length; i++) {\n                                $scope.companPro1[i].PUBDATE = new Date($scope.companPro1[i].PUBDATE)\n                            }\n                            $scope.companPro = $scope.companPro1\n                        }, function (error) {\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\n                        });\n\n                } else {\n                    loadingAnimation.hideLoading();\n                    showConfirm('权限不足', '非常抱歉，本功能目前仅对用户开放，来登录吧', '确定', '取消', 'userServers/login/login.tpl.html');\n                }\n            };\n            var showConfirm = function (title, template, leftText, rightText, url) {\n                var confirmPopup = $ionicPopup.confirm({\n                    title: title,\n                    template: template,\n                    okText: leftText,\n                    cancelText: rightText\n                });\n                confirmPopup.then(function (res) {\n                    if (res) {\n                        $ionicModal.fromTemplateUrl(url, {\n                            animation: 'slide-in-right'\n                        })\n                            .then(function (modal) {\n                                modal.show();\n                            });\n\n                    } else {\n                        $ionicHistory.nextViewOptions({historyRoot: false});\n                    }\n                });\n            };\n\n            //版本更新\n            document.addEventListener(\"deviceready\", function () {\n                if (Session.userInfoData.LoginStatus == '1' && Session.user.DeviceType == 'Android') {\n                    $http.get('ServiceName=SysManageService&TransName=getNewVersion&APP_VERSION=' + appVersion)\n                        .then(function (res) {\n                            if (res.data.exist == 'Y') {\n                                showVersionPop('发现新版本是否更新？', '更新', '取消', res.data.url, 1);\n                            }\n                        }, function (err) {\n                        });\n                }\n            }, false);\n\n            var showVersionPop = function (template, leftText, rightText, downUrl, num) {\n                var messagePopup = $ionicPopup.confirm({\n                    template: template,\n                    okText: leftText,\n                    cancelText: rightText\n                });\n                messagePopup.then(function (res) {\n                    if (res) {\n                        if (num == 1) {\n                            console.log(downUrl);\n                            MRUpdateVersion.updateVersion(function success() {\n                            }, function failed(message) {\n                            }, downUrl);\n                        }\n                    }\n                })\n            }\n\n            $scope.goNewsDatil = function (item, gsxw, msg) {\n\n                localStorage.setItem(\"newsId\", ID);\n                item.whichNew = ID;\n                $state.go('companyNewsDetails', {'item': item, 'msg': $scope.gsxw})\n            };\n            $scope.goTzDatil = function (item) {\n                localStorage.setItem(\"newsId\", ID);\n                item.whichNew = ID;\n                $state.go('companyNewsDetails', {'item': item, 'msg': '通知公告'})\n            };\n            $scope.LeavesModule = function () {\n                $state.go(\"Leaves\");\n            };\n        }\n    ])\n*/\n","angular.module('BaiYin.tabs.homePage.mock', [\n    'ngMockE2E',\n    'BaiYin.common.mocksData'\n])\n\n.run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n    // var data = {\n    //     handImage: '../images/homePage/index1.png', //图片列表\n    //     companyImg: [{\n    //         src: '../images/homePage/newscenter.png'\n    //     }, {\n    //         src: '../images/homePage/companyNews.png'\n    //     }, {\n    //         src: '../images/homePage/Notice.png'\n    //     }]\n    // };\n\n    //打包使用数据\n    var data = {\n        handImage: 'file:///android_asset/www/images/homePage/banner.png', //图片列表\n        companyImg: //图标列表\n            [{\n            src: 'file:///android_asset/www/images/homePage/newsCenter.png'\n        }, {\n            src: 'file:///android_asset/www/images/homePage/companyNews.png'\n        }, {\n            src: 'file:///android_asset/www/images/homePage/Notice.png'\n        }],\n    };\n\n    var result = mocksData.resetData(data);\n    // $httpBackend.whenPOST(/\\/getApplys/).passThrough();\n\n    $httpBackend.whenGET(/\\?getApplys/).respond(result);\n    // $httpBackend.whenGET(/.*/).passThrough();\n    $httpBackend.whenGET('ServiceName=CMSService&TransName=getContentDetail&UserID=IFSAPP&SignToken=99cdad8d4b1c9149f64b6ead21f9275d1a94534ece24e405331b28a6eca92cb4&ID=10').passThrough();\n}])","angular.module('BaiYin.tabs.message', [\n        'BaiYin.tabs.message.mock',\n        'BaiYin.messageDetail',\n        'BaiYin.message.othersInfo',\n        'BaiYin.message.myInfo',\n        'BaiYin.groupDetail',\n        'BaiYin.message.groupInfo'\n    ])\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('tabs/message', {\n            url: '/tabs/message',\n            controller: 'messageController',\n            templateUrl: 'tabs/message/message.tpl.html',\n            cache: false,\n            authorizedRuleType: ['1']\n        })\n    }])\n\n.controller('messageController', ['$scope', '$http', '$ionicTabsDelegate', '$ionicHistory', '$ionicPopup', '$state', 'Session', '$ionicLoading',\n    function($scope, $http, $ionicTabsDelegate, $ionicHistory, $ionicPopup, $state, Session, $ionicLoading) {\n        $scope.$on('$ionicView.enter', function() {\n            $scope.currentTab = 'tabs/message';\n            $ionicTabsDelegate.select(2);\n        });\n\n        //判断登录平台\n        if (Session.user.DeviceType) {\n            $scope.DeviceType = Session.user.DeviceType;\n        }\n\n        $scope.closePop = function() {\n            $scope.popup.close();\n        }\n\n        $scope.sortShow = 0;\n        $scope.changeItem = function(numType) {\n            $scope.sortShow = numType;\n        };\n\n        $scope.doRefresh = function() {\n            $scope.inintData();\n        };\n\n        $scope.groupList = [];\n        if (isApp) {\n            $ionicLoading.show({\n                template: '正在连接聊天服务器...'\n            });\n            window.JMessage.getMyInfo(function(response) {\n                console.log(\"user is login\" + response);\n                if ($scope.DeviceType == 'Android') {\n                    var myInfo = JSON.parse(response);\n                } else {\n                    var myInfo = response;\n                }\n                window.JMessage.username = myInfo.userName;\n                window.JMessage.nickname = myInfo.nickname;\n                window.JMessage.gender = myInfo.mGender;\n                $scope.inintData();\n            }, function(response) {\n                console.log(\"User is not login.\");\n                window.JMessage.username = \"\";\n                window.JMessage.nickname = \"\";\n                window.JMessage.gender = \"unknown\";\n                if (Session.userInfoData) {\n                    window.JMessage.login(Session.userInfoData.JMUserID, Session.userInfoData.JMPassWord,\n                        function(response) {\n                            window.JMessage.username = Session.userInfoData.JMUserID;\n                            console.log(\"login ok\");\n                            $scope.inintData();\n                        },\n                        function(errorMsg) {\n                            $ionicLoading.hide();\n                            showAlert('', '连接聊天服务器失败', '确认');\n                            console.log('JMessage.login: ' + errorMsg);\n                        });\n                }\n            });\n\n            $scope.inintData = function() {\n                //获取当前用户的所有会话列表\n                if ($scope.DeviceType == 'Android') {\n                    window.JMessage.getConversationList(function(response) {\n                        $scope.conversations = JSON.parse(response);\n                        $scope.$digest();\n                        $ionicLoading.hide();\n                    }, function(errorMsg) {\n                        $ionicLoading.hide();\n                        console.log('getConversationList: ' + errorMsg);\n                    });\n                } else {\n                    window.JMessage.getAllConversation(function(response) {\n                        $scope.conversations = response;\n                        $scope.$digest();\n                        $ionicLoading.hide();\n                    }, function(errorMsg) {\n                        $ionicLoading.hide();\n                        console.log('getAllConversation: ' + errorMsg);\n                    });\n                }\n\n                //得到当前用户加入的所有群\n                if ($scope.DeviceType == 'Android') {\n                    window.JMessage.getGroupIDList(function(response) {\n                        $scope.groupIDList = JSON.parse(response);\n                        for (var i = 0; i < $scope.groupIDList.length; i++) {\n                            window.JMessage.getGroupInfo($scope.groupIDList[i], function(response) {\n                                $scope.groupList.push(JSON.parse(response));\n                                $scope.$digest();\n                            }, function(errorMsg) {\n                                console.log('getGroupIDList: ' + errorMsg);\n                            })\n                        };\n                    }, function(errorMsg) {\n                        console.log(errorMsg);\n                    });\n                } else {\n                    window.JMessage.myGroupArray(function(response) {\n                        $scope.groupIDList = response;\n                        for (var i = 0; i < $scope.groupIDList.length; i++) {\n                            window.JMessage.getGroupInfo($scope.groupIDList[i], function(response) {\n                                $scope.groupList.push(response);\n                                $scope.$digest();\n                            }, function(errorMsg) {\n                                console.log('getGroupIDList: ' + errorMsg);\n                            })\n                        };\n                    }, function(errorMsg) {\n                        console.log('myGroupArray: ' + errorMsg);\n                    });\n                }\n\n                //获取当前登录用户的好友列表\n                window.JMessage.getFriendList(function(response) {\n                    if ($scope.DeviceType == 'Android') {\n                        $scope.friendList = JSON.parse(response);\n                    } else {\n                        $scope.friendList = response;\n                    }\n                    $scope.$digest();\n                    $scope.$broadcast('scroll.refreshComplete');\n                }, function(errorMsg) {\n                    $scope.$broadcast('scroll.refreshComplete');\n                    console.log('getFriendList: ' + errorMsg);\n                });\n\n            }\n        }\n\n        $scope.goMyInfo = function() {\n            $state.go('message/myInfo');\n        }\n\n        var showAlert = function(title, template, okText) {\n            var alertPopup = $ionicPopup.alert({\n                title: title,\n                okText: okText,\n                template: template\n            });\n            alertPopup.then(function(res) {});\n        };\n\n        //长按显示操作内容\n        $scope.popupMessageOpthins = function(conversation) {\n            $scope.item = conversation;\n            $scope.popup = $ionicPopup.show({\n                templateUrl: \"tabs/message/popup.tpl.html\",\n                scope: $scope,\n            });\n\n            $scope.addFriend = function() {\n                window.JMessage.sendInvitationRequest($scope.item.targetId, null, '',\n                    function(response) {\n                        $scope.popup.close();\n                        showAlert('', '发送成功,等待确认', '确认');\n                    },\n                    function(errorStr) {\n                        $scope.popup.close();\n                        showAlert('', '暂无此用户或已添加', '确认');\n                    });\n            };\n            $scope.deleteMessage = function() {\n                if ($scope.item.type == 'single') {\n                    window.JMessage.deleteSingleConversation($scope.item.targetId, null,\n                        function() {\n                            console.log('删除个人聊天成功');\n                            //获取当前用户的所有会话列表\n                            window.JMessage.getConversationList(function(response) {\n                                $scope.conversations = JSON.parse(response);\n                                $scope.popup.close();\n                            }, function(errorMsg) {\n                                console.log(errorMsg); // 输出错误信息。\n                            });\n                        },\n                        function(errorMsg) {\n                            $scope.popup.close();\n                            console.log(errorMsg);\n                        });\n                } else {\n                    window.JMessage.deleteGroupConversation($scope.item.targetId,\n                        function() {\n                            console.log('删除组聊天成功');\n                            //获取当前用户的所有会话列表\n                            window.JMessage.getConversationList(function(response) {\n                                $scope.conversations = JSON.parse(response);\n                                $scope.popup.close();\n                            }, function(errorMsg) {\n                                console.log(errorMsg); // 输出错误信息。\n                            });\n                        },\n                        function(errorMsg) {\n                            $scope.popup.close();\n                            console.log(errorMsg);\n                        });\n                }\n            }\n        };\n        $scope.deleteFrient = function(id, index) {\n            showConfirmPop('确定要删除该好友吗？', '确定', '取消', '1', id, index);\n        }\n        $scope.deleteGroup = function(id, index) {\n            showConfirmPop('确定要退出该群吗？', '确定', '取消', '2', id, index);\n        }\n\n        var showConfirmPop = function(template, leftText, rightText, num, id, index) {\n            var messagePopup = $ionicPopup.confirm({\n                template: template,\n                okText: leftText,\n                cancelText: rightText\n            });\n            messagePopup.then(function(res) {\n                if (res && num == '1') {\n                    window.JMessage.removeFromFriendList(id, null,\n                        function(res) {\n                            showAlert('', '删除好友成功', '确认');\n                            $scope.friendList.splice(index, 1);\n                        },\n                        function(err) {\n                            console.log(err);\n                            showAlert('', '删除好友失败', '确认');\n                        })\n                } else if (num == '2') {\n                    window.JMessage.exitGroup(id,\n                        function(res) {\n                            $scope.groupList.splice(index, 1);\n                            showAlert('', '退群成功', '确认');\n                        },\n                        function(err) {\n                            showAlert('', '退群成功', '确认');\n                            console.log(err);\n                        })\n                }\n            });\n        }\n    }\n]);","angular.module('BaiYin.tabs.message.mock', [\n    'ngMockE2E',\n    'BaiYin.common.mocksData'\n])\n\n.run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n    var data = [{\n    }, ];\n\n    var result = mocksData.resetData(data);\n    // $httpBackend.whenGET('/report/reportList?type=户内&pageIndex=0&pageSize=10').respond(result);\n    $httpBackend.whenGET(/\\/AgriculturlWeb\\/moneyApplication/).passThrough();\n\n}])","angular.module('BaiYin.tabs.mine', [\n    'BaiYin.tabs.mine.mock',\n    'BaiYin.mine.netWork',\n    'BaiYin.APPfeedback',\n    'BaiYin.ListOfBluetooth'\n])\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('tabs/mine', {\n        url: '/tabs/mine',\n        controller: 'mineController',\n        templateUrl: 'tabs/mine/mine.tpl.html',\n        cache: 'false',\n        authorizedRuleType: ['1']\n    })\n}])\n.controller('mineController', ['$rootScope','$scope', '$ionicLoading', '$location', '$ionicHistory', '$http', '$ionicTabsDelegate', 'CurrentUserService', '$ionicPopup', '$state', '$timeout', 'Session', 'SavePopShowFristService',\n    function($rootScope,$scope, $ionicLoading, $location, $ionicHistory, $http, $ionicTabsDelegate, CurrentUserService, $ionicPopup, $state, $timeout, Session, SavePopShowFristService) {\n        $scope.$on('$ionicView.enter', function() {\n            //显示tabs\n            $rootScope.hideTabs = false;\n            $scope.currentTab = 'tabs/mine';\n            $ionicTabsDelegate.select(3);\n        })\n\n        //判断登录平台\n        if (Session.user.DeviceType) {\n            $scope.DeviceType = Session.user.DeviceType;\n        }\n\n        $scope.showLoadingToast = function() {\n            // Setup the loader\n            $ionicLoading.show({\n                template: '正在清除...',\n                content: 'Loading',\n                animation: 'fade-in',\n                showBackdrop: true,\n                maxWidth: 300,\n                showDelay: 0\n            });\n        }\n        $scope.hideLoadingToast = function() {\n            $ionicLoading.hide();\n        }\n        $scope.cleaHistory = function() {\n            $scope.showLoadingToast();\n            $ionicHistory.clearHistory();\n            sessionStorage.clear();\n            $ionicHistory.clearCache();\n            var cookies = document.cookie;\n            console.log(cookies, $ionicHistory.clearHistory(), sessionStorage.clear(), $ionicHistory.clearCache());\n            //这里使用定时器是为了缓存一下加载过程，防止加载过快\n            $timeout(function() {\n                //停止缓冲提示\n                $scope.hideLoadingToast();\n                var alertYo = $ionicPopup.alert({\n                    template: '清除成功',\n                    okText: \"确定\"\n                })\n            }, 1500);\n\n        }\n\n        //显示当前登录人\n        if (Session.userInfoData.UserInfo) {\n            if (Session.userInfoData.UserInfo.INTERNAL_DISPLAY_NAME || Session.userInfoData.UserInfo.INTERNAL_DISPLAY_NAME != '') {\n                $scope.userName = Session.userInfoData.UserInfo.INTERNAL_DISPLAY_NAME;\n            } else {\n                $scope.userName = Session.userInfoData.UserInfo.PERSON_ID;\n            }\n        } else {\n            $scope.userName = Session.userInfoData.USER_NAME;\n        }\n\n        $scope.appVersion = appVersion;\n        //版本更新\n        $scope.checkVersion = function() {\n            document.addEventListener(\"deviceready\", function() {\n                $http.get('ServiceName=SysManageService&TransName=getNewVersion&APP_VERSION=' + appVersion).then(function(res) {\n                    if (res.data.exist == 'Y') {\n                        showVersionPop('发现新版本是否更新？', '更新', '取消', res.data.url, 1);\n                    } else {\n                        showAlert('', '已是最新版本', '确认');\n                    }\n                }, function(err) {\n                    showAlert('', '版本检测失败', '确认');\n                });\n            }, false);\n        }\n\n        var showVersionPop = function(template, leftText, rightText, downUrl, num) {\n            var messagePopup = $ionicPopup.confirm({\n                template: template,\n                okText: leftText,\n                cancelText: rightText\n            });\n            messagePopup.then(function(res) {\n                if (res) {\n                    if (num == 1) {\n                        console.log(downUrl);\n                        MRUpdateVersion.updateVersion(function success() {}, function failed(message) {}, downUrl);\n                    }\n                }\n            })\n        }\n        var showAlert = function(title, template, okText) {\n            var alertPopup = $ionicPopup.alert({\n                title: title,\n                okText: okText,\n                template: template\n            });\n            alertPopup.then(function(res) {});\n        };\n\n        $scope.logout = function() {\n            showMessage('您确定要退出登录？', '确定', '取消');\n            // if (localStorage.getItem('promptMsg') && localStorage.getItem('promptMsg') != 'false') {\n            //     showMessage('您确定要退出登录？', '确定', '取消');\n            // } else {\n            //     showpromptMsg();\n            // }\n        };\n\n        //提示客户退出后无法收到推送消息\n        $scope.isChecked = false;\n        var showpromptMsg = function() {\n            $scope.popup = $ionicPopup.show({\n                templateUrl: \"tabs/mine/showpromptMsg.tpl.html\",\n                scope: $scope,\n            });\n        };\n\n        $scope.seleteShowpromptMsg = function(isChecked) {\n            if (isChecked) {\n                localStorage.setItem('promptMsg', true);\n            } else {\n                localStorage.setItem('promptMsg', false);\n            }\n        }\n\n        $scope.closePop = function() {\n            $scope.popup.close();\n            showMessage('您确定要退出登录？', '确定', '取消');\n        }\n\n        // 消息提示\n        var showMessage = function(content, leftText, rightText) {\n            var messagePopup = $ionicPopup.confirm({\n                template: content,\n                okText: leftText,\n                cancelText: rightText\n            }).then(function(res) {\n                if (res) {\n                    $http.get('ServiceName=UserService&TransName=logout').then(function(res) {\n                        $ionicHistory.clearHistory();\n                        $ionicHistory.clearCache().then(function() {\n                            $ionicHistory.nextViewOptions({\n                                disableAnimate: true,\n                                disableBack: true,\n                                historyRoot: true\n                            });\n                            token = null;\n                            var user = null;\n                            CurrentUserService.destroyUserSession();\n                            SavePopShowFristService.setPopShowBlr(false);\n                            if (isApp) {\n                                /* window.plugins.jPushPlugin.setTags(''); //设置tag为空\n                                window.plugins.jPushPlugin.stopPush(); //停止推送 */\n                                //退出jmessage\n                                window.JMessage.logout(function(response) {\n                                    console.log(\"退出成功\");\n                                }, function(response) {\n                                    console.log(response);\n                                });\n                            }\n                            //清理缓存\n                            console.log('清理缓存');\n                            localStorage.removeItem(\"autoLogin\");\n                            $state.go(\"blankPage\", {}, { location: 'replace' });\n                        });\n\n                    }, function(err) {\n                        showAlert('', '退出失败', '确认');\n                    });\n                }\n            })\n        };\n    }\n])\n","angular.module('BaiYin.tabs.mine.mock', [\n    'ngMockE2E',\n    'BaiYin.common.mocksData'\n])\n\n.run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n    var data = {\n        src: '../images/tabs/mine/banner_home.png'\n    };\n\n    var result = mocksData.resetData(data);\n    // $httpBackend.whenPOST(/\\/getApplys/).passThrough();\n    $httpBackend.whenGET(/.*/).passThrough();\n}])","angular\r\n    .module('BaiYin.tabs.OMA', [\r\n        'ionic',\r\n    ])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('tabs/OMA', {\r\n            url: '/tabs/OMA',\r\n            controller: 'OMAController',\r\n            templateUrl: 'tabs/OMA/OMA.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n    .controller('OMAController', ['$interval', '$scope','$rootScope', '$http', 'showAlert', '$ionicTabsDelegate', '$ionicHistory', '$ionicPopup', '$state', 'Session', '$ionicLoading','$ionicActionSheet',\r\n        function ($interval, $scope,$rootScope, $http, showAlert, $ionicTabsDelegate, $ionicHistory, $ionicPopup, $state, Session, $ionicLoading,$ionicActionSheet) {\r\n            $scope.myActiveSlide = 1;\r\n            $scope.$on('$ionicView.enter', function () {\r\n                //显示tabs\r\n                $rootScope.hideTabs = false;\r\n                $scope.currentTab = 'tabs/OMA';\r\n                $ionicTabsDelegate.select(2);\r\n            });\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                // getPowerPlantList();\r\n            });\r\n            $scope.totask=function () {\r\n                showAlert.showMsg('','','程序员正在玩命开发中……')\r\n            }\r\n        }]);","/*angular.module('BaiYin.tabs.porductManage', [\r\n    'ionic'\r\n])*/\r\nangular.module('BaiYin.tabs.porductManage', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('tabs/porductManage', {\r\n            url: '/tabs/porductManage',\r\n            controller: 'pmController',\r\n            templateUrl: 'tabs/porductManage/porductManage.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n    .controller('pmController', ['$interval', '$scope','$rootScope', '$http', 'showAlert', '$ionicTabsDelegate', '$ionicHistory', '$ionicPopup', '$state', 'Session', '$ionicLoading','$ionicActionSheet',\r\n        function ($interval, $scope,$rootScope, $http, showAlert, $ionicTabsDelegate, $ionicHistory, $ionicPopup, $state, Session, $ionicLoading,$ionicActionSheet) {\r\n            $scope.myActiveSlide = 1;\r\n            $scope.$on('$ionicView.enter', function () {\r\n                //显示tabs\r\n                $rootScope.hideTabs = false;\r\n                $scope.currentTab = 'tabs/porductManage';\r\n                $ionicTabsDelegate.select(1);\r\n            });\r\n            $scope.selectVal = '';\r\n            /*$interval(function () {\r\n                getKPI();\r\n            }, 300000);*/\r\n\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                getPowerPlantList();\r\n            });\r\n            //点击生产指标\r\n            $scope.tosczb = function () {\r\n                $state.go('KPI');\r\n            }\r\n            //点击负荷\r\n            $scope.toFhyc = function () {\r\n                showAlert.showMsg('', '', '程序员正在玩命开发中……')\r\n            }\r\n            //点击考勤签到\r\n            $scope.toKqqd = function () {\r\n                showAlert.showMsg('', '', '程序员正在玩命开发中……')\r\n            }\r\n            //点击任务管理\r\n            $scope.toRwgl = function () {\r\n                $state.go('taskManage');\r\n            }\r\n            //点击设备台账\r\n            $scope.toSbxx = function () {\r\n                // showAlert.showMsg('', '', '程序员正在玩命开发中……');\r\n                $state.go('facilityInfo');\r\n            }\r\n            //点击现场巡查\r\n            $scope.toXcxc = function () {\r\n                $state.go('OSI');\r\n                //showAlert.showMsg('', '', '程序员正在玩命开发中……')\r\n            }\r\n            //点击巡查统计\r\n            $scope.toXctj = function () {\r\n                //localStorage.removeItem(\"backToLoad\");\r\n                $state.go('OSI/OSIcount');\r\n                //showAlert.showMsg('', '', '程序员正在玩命开发中……')\r\n            }\r\n            //点击离线巡查\r\n            $scope.toOffLine = function () {\r\n                //localStorage.removeItem(\"backToLoad\");\r\n                $state.go('OffLine');\r\n                //showAlert.showMsg('', '', '程序员正在玩命开发中……')\r\n            }\r\n            //点击电量\r\n            $scope.goPower = function () {\r\n                $state.go('power');\r\n            }\r\n            //点击负荷\r\n            $scope.goLoad = function () {\r\n                localStorage.removeItem(\"backToLoad\");\r\n                $state.go('load');\r\n            }\r\n            //点击隐患排查\r\n            $scope.toYhpc = function () {\r\n                // showAlert.showMsg('','',\"点击隐患排查\");\r\n                $state.go('pm/trouble/hideTrouble');\r\n            }\r\n            //点击缺陷填报\r\n            $scope.toqxtb = function () {\r\n                $state.go('pm/defectFill/defectFill');\r\n            }\r\n            //运行日志\r\n            $scope.toJournal = function () {\r\n                $state.go('pm/journal/journalList');\r\n            }\r\n\r\n            //获取电厂列表\r\n            $scope.num = 1;\r\n            var dianchanglist = [];\r\n\r\n            function getPowerPlantList() {\r\n                $http.post('ServiceName=TargetService&TransName=listCompanySiteAddress')\r\n                    .then(function (res) {\r\n                        //loadingAnimation.hideLoading();\r\n                        if (res.code == '0') {\r\n                            $scope.powerPlantList = res.data;\r\n                            console.log(\"powerPlantList===\"+$scope.powerPlantList.length);\r\n                            //默认第一条电厂数据\r\n                            if($scope.num == 1){\r\n                                var dianlength=$scope.powerPlantList[0].DESCRIPTION.length;\r\n                                var sel =  document.getElementById(\"fieldID\");\r\n                                sel.style.width =18*dianlength+'px';\r\n                                $(\"#fieldID\").val($scope.powerPlantList[0].DESCRIPTION);\r\n                                getWeather($scope.powerPlantList[0].CITY);\r\n                                displayedJkzx($scope.powerPlantList[0].DESCRIPTION);\r\n                            }\r\n                            //dianchanglist.push({text: '全部', CONTRACT: ''});\r\n                            //默认电厂\r\n                            /*$scope.dianchang = '0';\r\n                            //displayedJkzx(res.data[0].DESCRIPTION);\r\n                            $scope.selectVal = $scope.powerPlantList[0].DESCRIPTION;\r\n                            if ($scope.num == 2) {\r\n                                getWeather(res.data[0].CITY);\r\n                                if ($scope.selectVal == '集控中心') {\r\n                                    $scope.footHide = false;\r\n                                } else {\r\n                                    $scope.footHide = true;\r\n                                }\r\n                            }*/\r\n                            dianchanglist = [];\r\n                            for (var i = 0; i < $scope.powerPlantList.length; i++) {\r\n                                var dlist = {};\r\n                                dlist.text = $scope.powerPlantList[i].DESCRIPTION;\r\n                                dlist.CONTRACT = $scope.powerPlantList[i].CONTRACT;\r\n                                dlist.CITY = $scope.powerPlantList[i].CITY;\r\n                                dianchanglist.push(dlist);\r\n                            }\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        //loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            //电厂选择事件\r\n            $scope.selectPlantPower = function () {\r\n                $scope.num++;\r\n                console.log(\"dianchanglist==\"+JSON.stringify(dianchanglist));\r\n                /*$scope.selectVal = $(\"#cityid option:selected\").text();\r\n                showAlert.showMsg('','',\"$scope.selectVal==\"+$scope.selectVal);\r\n\r\n                var descr = $scope.powerPlantList[$(\"#cityid \").val()].DESCRIPTION;\r\n                displayedJkzx(descr);*/\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: dianchanglist,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        var dianchanglength=dianchanglist[index].text.length;\r\n                        var sel =  document.getElementById(\"fieldID\");\r\n                        sel.style.width =18*dianchanglength+'px';\r\n                        commitYu = dianchanglist[index].text;\r\n                        yunum = dianchanglist[index].CONTRACT;\r\n                        city = dianchanglist[index].CITY;\r\n                        console.log(\"yunum==\" + yunum);\r\n                        //获取对应城市的天气\r\n                        getWeather(city);\r\n                        //底条数据是否显示\r\n                        displayedJkzx(commitYu);\r\n                        $(\"#fieldID\").val(commitYu);\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n\r\n            //如果就集控中心，显示各省数据\r\n            function displayedJkzx(descr) {\r\n                console.log(\"descr==\" + descr);\r\n                if (descr == '集控中心') {\r\n                    $scope.footHide = false;\r\n                } else {\r\n                    $scope.footHide = true;\r\n                }\r\n                console.log(\"$scope.footHide==\" + $scope.footHide);\r\n            }\r\n\r\n            //获取KPI指标\r\n            function getKPI() {\r\n                // 获取全公司总负荷\r\n                // 获取全公司日发电量\r\n                // 获取集控中心负荷\r\n                $http.post('ServiceName=TargetService&TransName=getTargetIndexLoad')\r\n                    .then(function (res) {\r\n                        getProvice();\r\n                        console.log(res);\r\n                        $scope.companyPower = res.data;\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n            function getProvice(){\r\n                //获取甘肃负荷\r\n                //获取青海负荷\r\n                //获取宁夏负荷\r\n                //获取新疆负荷\r\n                $http.post('ServiceName=TargetService&TransName=totalLoad')\r\n                    .then(function (res) {\r\n                        console.log(res);\r\n                        $scope.companyPower1 = res.data;\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n\r\n\r\n\r\n            //获取天气情况\r\n            function getWeather(cityDes) {\r\n                console.log(\"cityDes==\" + cityDes);\r\n                var winfo = {city: cityDes};\r\n                $http.post(\"ServiceName=WeatherService&TransName=weatherList\", winfo)\r\n                    .then(function (res) {\r\n                        getKPI();\r\n                        console.log(res);\r\n                        $scope.temp = res.data;\r\n                        $scope.Weather = $scope.temp;\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n        }]);\r\n\r\n","angular.module('BaiYin.NewProblems', [])\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('NewProblems', {\n            url: '/NewProblems',\n            controller: 'NewProblemsController',\n            templateUrl: 'Problems/NewProblems/newProblems.tpl.html',\n            cache: 'false',\n            authorizedRuleType: ['1']\n        })\n    }])\n\n    .controller('NewProblemsController', ['$scope', 'showAlert', 'pageInitService', '$http', '$state',\n        function($scope, showAlert, pageInitService, $http, $state) {\n            $scope.$on('$ionicView.afterEnter', function() {\n                var apis = [\n                    'ServiceName=ApproveService&TransName=getUnApprvedList'\n                ];\n                $scope.nowDate = new Date()\n                pageInitService.pageInit(apis).then(function(result) {\n                    $scope.listsMsg = result[0]\n                }, function(error) {\n                    showAlert.showMsg(error, '', '网络异常', '确认')\n                });\n            })\n\n            $scope.doRefresh = function() {\n                $http.get('ServiceName=ApproveService&TransName=getUnApprvedList')\n                    .then(function(res) {\n                        agentListMsg(res)\n                        $scope.$broadcast('scroll.refreshComplete');\n                        if (res.data.length == 10) {\n                            $scope.loadNumber = 1;\n                            $scope.hasMore = true;\n                        } else {\n                            $scope.hasMore = false;\n                        }\n                    }, function(error) {\n                        $scope.hasMore = false;\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            }\n\n            $scope.valueCont = 'sie';\n            $scope.selectWhich = function() {\n                $scope.selectShow = !$scope.selectShow;\n            }\n            $scope.selectCont = function(val) {\n\n                $scope.valueCont = val;\n                console.log($scope.selectShow)\n                $scope.selectShow = !$scope.selectShow;\n\n\n            }\n            $scope.conts = [\n                { val: 'shijian ' },\n                { val: 'shi' }\n            ]\n\n\n\n\n            function PreviewImage(imgFile) {\n                var filextension = imgFile.value.substring(imgFile.value.lastIndexOf(\".\"), imgFile.value.length);\n                filextension = filextension.toLowerCase();\n                if ((filextension != '.jpg') && (filextension != '.gif') && (filextension != '.jpeg') && (filextension != '.png') && (filextension != '.bmp')) {\n                    alert(\"对不起，系统仅支持标准格式的照片，请您调整格式后重新上传，谢谢 !\");\n                    imgFile.focus();\n                } else {\n                    var path;\n                    if (document.all) //IE\n                    {\n                        imgFile.select();\n                        path = document.selection.createRange().text;\n\n                        document.getElementById(\"imgPreview\").innerHTML = \"\";\n                        document.getElementById(\"imgPreview\").style.filter = \"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true',sizingMethod='scale',src=\\\"\" + path + \"\\\")\"; //使用滤镜效果  \n                    } else //FF\n                    {\n                        path = imgFile.files[0].getAsDataURL();\n                        document.getElementById(\"imgPreview\").innerHTML = \"<img id='img1' width='120px' height='100px' src='\" + path + \"'/>\";\n                        // document.getElementById(\"img1\").src = path;\n                    }\n                }\n            }\n\n\n\n            function dochange1() {\n                var thissrc;\n                thissrc = this.form1.ImgFile1.value;\n                strs = thissrc.toLowerCase();\n                lens = strs.length;\n                extname = strs.substring(lens - 4, lens);\n                if (extname == \".jpg\" || extname == \".gif\" || extname == \".swf\" || extname == \".png\") {\n                    document.getElementById(DoImgName1).src = thissrc;\n                    console.log(thissrc)\n\n                }\n            }\n\n\n\n        }\n    ])","angular.module('BaiYin.NewProblems.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.ProblemsSolving', [])\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('ProblemsSolving', {\n        url: '/ProblemsSolving',\n        controller: 'ProblemsSolvingController',\n        templateUrl: 'Problems/ProblemSolving/ProblemsSolving.tpl.html',\n        cache: 'false',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('ProblemsSolvingController', ['$scope', 'showAlert', 'pageInitService', '$http', '$state',\n    function($scope, showAlert, pageInitService, $http, $state) {\n        $scope.$on('$ionicView.afterEnter', function() {\n            var apis = [\n            'ServiceName=ApproveService&TransName=getUnApprvedList'\n            ];\n\n            pageInitService.pageInit(apis).then(function(result) {\n             $scope.listsMsg = result[0]\n             agentListMsg($scope.listsMsg)\n            \n            $scope.agentsItem = function(item) {\n                $state.go('agentsView')\n                var ItemCont =JSON.stringify(item)\n                sessionStorage.setItem(\"agentsVD\", ItemCont); \n            }\n        }, function(error) {\n             showAlert.showMsg(error,'','网络异常','确认')\n        });\n            $scope.loadNumber=1;\n            $scope.loadMore=function(){\n             $scope.loadNumber+=1;\n             $http.get( 'ServiceName=ApproveService&TransName=getUnApprvedList&PageNo=' + $scope.loadNumber)\n             .then(function(res){\n                 if(res.data.length>0){\n                   for(var i=0;i<res.data.length;i++){\n                    res.data[i].CREATED_DATE=new Date(res.data[i].CREATED_DATE.replace(/-/g,\"/\"));\n                    $scope.items.push(res.data[i])  \n                    $scope.$broadcast('scroll.infiniteScrollComplete');\n                }\n            }else if(res.data.length<=0||res.data==null||res.data==undefined){\n             $scope.hasMore=false;\n             $scope.$broadcast('scroll.infiniteScrollComplete');\n         }\n     }\n     ,function(error){\n       showAlert.showMsg(error,'','网络异常','确认')\n         $scope.hasMore=false;\n     })\n         };\n    });\n        $scope.tracking=function(){\n             $state.go('Tracking')\n        }\n        function agentListMsg(res){\n         var str = [];\n         var arr = {};\n         for (var i = 0; i < res.data.length; i++) {\n            arr = res.data[i]\n            arr.CREATED_DATE = new Date(arr.CREATED_DATE.replace(/-/g,\"/\"))\n            str.push(arr)\n        }\n        $scope.items = str;\n         if($scope.items.length>=10&&$scope.items!=undefined&&$scope.items!=null){\n                $scope.hasMore=true;\n            }\n    };\n    $scope.doRefresh = function() {\n        $http.get('ServiceName=ApproveService&TransName=getUnApprvedList')\n        .then(function(res) {\n            agentListMsg(res)\n            $scope.$broadcast('scroll.refreshComplete');\n            if(res.data.length==10){\n               $scope.loadNumber=1;\n               $scope.hasMore=true;\n           }else{\n            $scope.hasMore=false;\n        }\n    }, function(error) {\n        $scope.hasMore=false;\n        showAlert.showMsg(error,'','网络异常','确认')\n})\n    }\n\n}\n])","angular.module('BaiYin.ProblemsSolving.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular\r\n    .module('BaiYin.taskManage.tmDetail', [\r\n        'ionic',\r\n    ])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('taskManage/tmDetail', {\r\n            url: '/taskManage/tmDetail',\r\n            controller: 'tmDetailController',\r\n            templateUrl: 'taskManage/tmDetail/tmDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('tmDetailController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', '$ionicActionSheet',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, $ionicActionSheet) {\r\n            //标题\r\n            $scope.title = \"专项详情\";\r\n            //详情数据\r\n            $scope.data = new Object();\r\n            $scope.$on('$ionicView.enter', function () {\r\n                $scope.data = $stateParams.item.data;\r\n            });\r\n        }\r\n    ]);","angular.module('BaiYin.editingPwd', [\n    'ionic',\n    'BaiYin.editingPwd.mock'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('editingPwd', {\n        url: '/editingPwd',\n        controller: 'editingPwdController',\n        templateUrl: 'userConfig/editingPwd/editingPwd.tpl.html',\n        cache: false,\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('editingPwdController', ['$scope', '$http', '$ionicPopup', '$ionicHistory',\n\n    function($scope, $http, $ionicPopup, $ionicHistory) {\n\n        $scope.userPwd = {\n            'password': '', //原密码\n            'newPassword': '', //新密码\n            'repeatPwd': '' //重新新密码\n        };\n\n        $scope.editPwd = {\n            'username': '',\n            'password': '', //输入的原密码\n            'newPassword': '', //新密码\n        }\n\n        // 修改信息方法\n        $scope.updateUserInfor = function() {\n\n        }\n        var showConfirm = function(template, okText, num) {\n            var confirmPopup = $ionicPopup.alert({\n                template: template,\n                okText: okText\n            });\n            confirmPopup.then(function(res) {\n                if (res && num == 2) {\n                    $ionicHistory.clearCache().then(function() {\n                        $ionicHistory.goBack();\n                    });\n                }\n            });\n        };\n    }\n])","angular.module('BaiYin.editingPwd.mock',[\n    'ngMockE2E',\n    'BaiYin.common.mocksData'\n])\n\n.run(['$httpBackend','mocksData',function($httpBackend,mocksData) {\n    $httpBackend.whenPOST('/editUserPassword').passThrough();\n}])\n","angular.module('BaiYin.editingUserInfo', [\n    'ionic',\n    'BaiYin.editingUserInfo.mock'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('editingUserInfo', {\n        url: '/editingUserInfo',\n        controller: 'editingUserInfoController',\n        templateUrl: 'userConfig/editingUserInfo/editingUserInfo.tpl.html',\n        cache: false,\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('editingUserInfoController', ['$scope', '$http', '$ionicPopup',\n\n    function($scope, $http, $ionicPopup) {\n\n    }\n])","angular.module('BaiYin.editingUserInfo.mock', [\n    'ngMockE2E',\n    'BaiYin.common.mocksData'\n])\n\n.run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n    $httpBackend.whenPOST('/editUserinfo').passThrough();\n}])","angular.module('BaiYin.userConfig.myDevice', [\n    'ionic'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('userConfig/myDevice', {\n        url: '/userConfig/myDevice',\n        controller: 'myDeviceController',\n        templateUrl: 'userConfig/myDevice/myDevice.tpl.html',\n        cache: false,\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('myDeviceController', ['$scope', 'Session',\n    function($scope, Session) {\n        if (Session.user.DeviceID) {\n            $scope.deviceID = Session.user.DeviceID;\n        }\n    }\n])","angular.module('BaiYin.blankPage', [\n    'ionic',\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('blankPage', {\n        url: '/blankPage',\n        controller: 'blankPageController',\n        templateUrl: 'userServers/blankPage/blankPage.tpl.html',\n        authorizedRuleType: ['1', '0']\n    })\n}])\n\n.controller('blankPageController', ['$scope', '$http', '$ionicListDelegate', '$ionicHistory',\n    function($scope, $http, $ionicListDelegate, $ionicHistory) {}\n])","angular.module('BaiYin.login', [\n    'ionic',\n    'BaiYin.login.mock'\n]).controller('LoginController', ['$ionicHistory', 'showAlert', '$http', '$ionicModal', '$rootScope', '$scope', '$state', '$stateParams', 'Session', '$ionicLoading', '$ionicScrollDelegate', 'SavePopShowFristService', 'loadingAnimation', 'MrDevice', 'intranetUri', 'outerNetUri', '$cordovaBarcodeScanner',\n\n    function ($ionicHistory, showAlert, $http, $ionicModal, $rootScope, $scope, $state, $stateParams, Session, $ionicLoading, $ionicScrollDelegate, SavePopShowFristService, loadingAnimation, MrDevice, intranetUri, outerNetUri, $cordovaBarcodeScanner) {\n        var loginUrl = 'UserService/login';\n        $scope.empty = {height: '' + screen.height/2 -120 + 'px'}\n        if (isApp) {\n            var viewScroll = $ionicScrollDelegate.$getByHandle('loginScroll');\n            window.addEventListener(\"native.keyboardshow\", function (e) {\n                viewScroll.scrollBottom([true]);\n            });\n            window.addEventListener(\"native.keyboardhide\", function (e) {\n                viewScroll.scrollBottom([true]);\n            });\n        }\n        localStorage.removeItem(\"newsId\");//这个玩意必须在这里清理\n        if ((localStorage.getItem('PassWord') != 'null') && localStorage.getItem('PassWord') && localStorage.getItem('UserID') && (localStorage.getItem('UserID')) != 'null') {\n            $scope.isChecked = true;\n            $scope.UserID = localStorage.getItem('UserID');\n            $scope.PassWord = localStorage.getItem('PassWord');\n        } else {\n            $scope.isChecked = false;\n            $scope.UserID = null;\n            $scope.PassWord = null;\n        }\n        if (localStorage.getItem('autoLogin') && localStorage.getItem('autoLogin') == '1') {\n            $scope.isAuto = true;\n        }\n        $scope.seletePwd = function (seletePwd) {\n            $scope.isChecked = seletePwd;\n        };\n        $scope.autoLogin = function (autoLogin) {\n            $scope.isAuto = autoLogin;\n            $scope.isChecked = autoLogin;\n        };\n\n        $scope.credentials = {\n            UserID: $scope.UserID ? $scope.UserID : '',\n            PassWord: $scope.PassWord ? $scope.PassWord : '',\n            DeviceID: \"\",\n            APP_VERSION: appVersion,\n            DeviceType: ''\n        };\n\n        if (false) {\n            MRDeviceId.getDeviceId(function success(message) {\n                $scope.credentials.DeviceID = message;\n            }, function failed() {\n            });\n        }\n\n        var login = function (credentials, formName) {\n            if (formName.$valid) {\n                loadingAnimation.showLoading('加载中...', 'loding', 0);\n                var loginInfor = {\n                    UserID: $scope.credentials.UserID,\n                    PassWord: encodeURIComponent(encode($scope.credentials.PassWord)),\n                    DeviceID: $scope.credentials.DeviceID,\n                    APP_VERSION: appVersion,\n                    DeviceType: $scope.credentials.DeviceType\n                };\n\n                //正式\n                $http.post(loginUrl, loginInfor)\n                    .then(\n                        function (res) {\n                            loadingAnimation.hideLoading();\n                            if (res) {\n                                setToken(res.data);\n                                if ($scope.isChecked) {\n                                    localStorage.setItem('UserID', credentials.UserID);\n                                    localStorage.setItem('PassWord', $scope.credentials.PassWord);\n                                } else {\n                                    localStorage.setItem('UserID', null);\n                                    localStorage.setItem('PassWord', null);\n                                }\n                                if ($scope.isAuto) {\n                                    localStorage.setItem('UserID', credentials.UserID);\n                                    localStorage.setItem('PassWord', $scope.credentials.PassWord);\n                                    localStorage.setItem(\"autoLogin\", \"1\");//1为自动登录\n                                } else {\n                                    localStorage.setItem(\"autoLogin\", \"0\");//1为自动登录\n                                }\n                                Session.create(res.data, $scope.credentials);\n                                $scope.modal.remove();\n                                if(isApp){\n                                   // JMessage();\n                                }\n                                SavePopShowFristService.setPopShowBlr(true);\n                                $state.go(\"tabs/homePage\", {}, {location: 'replace'});\n                                if (res.msg != '成功') {\n                                    showAlert.showMsg(res, '', '', '确认')\n                                }\n                                window.logined != null ? window.logined() : \"\";\n                            } else {\n                                formName.$submitted = false;\n                            }\n\n                        },\n                        function (res) {\n                            loadingAnimation.hideLoading();\n                            showAlert.showMsg(res, '', res, '确认')\n                            formName.$submitted = false;\n                        });\n            } else {\n                showAlert.showMsg('', '', '请输入用户名或密码', '确认')\n                formName.$submitted = false;\n            }\n        };\n        if(!isApp){\n            $scope.login = login;\n         }\n\n        /**\n         * 基础数据设置\n         * @param data\n         */\n        function setToken(data){\n            token = {\n                SignToken: data.SignToken,\n                UserID: data.UserID,\n                UserName: data.USER_NAME,\n                DeptNo: data.DEPT_NO,\n                DeptName: data.DEPT_NAME,\n                Contract: data.CONTRACT,\n                ContractName: data.CONTRACT_NAME,\n                attendenceReasonDay: data.attendenceReasonDay,\n                sec:data.sec\n            };\n            console.log(\"data.sec==\"+JSON.stringify(data.sec));\n            localStorage.removeItem(\"ATTENDENCE_FLG\");\n        }\n\n        var encode = function (code) {\n            var key = CryptoJS.enc.Latin1.parse('ipacsbj.ipacsbj.');\n            var iv = CryptoJS.enc.Latin1.parse('ipacsbj.ipacsbj.');\n            //加密\n            return CryptoJS.AES.encrypt(code, key, {\n                iv: iv,\n                mode: CryptoJS.mode.CBC,\n                padding: CryptoJS.pad.ZeroPadding\n            });\n        };\n        var checkConnection = function (callBack) {\n            var networkState = navigator.connection.type;\n            var states = {};\n            states[Connection.UNKNOWN] = '未知网络';\n            states[Connection.ETHERNET] = '网络连通，以太网网络！';\n            states[Connection.WIFI] = '网络连通，WIFI网络！';\n            states[Connection.CELL_2G] = '网络连通，2G网络！';\n            states[Connection.CELL_3G] = '网络连通，3G网络！';\n            states[Connection.CELL_4G] = '网络连通，4G网络！';\n            states[Connection.CELL] = '网络数据链接！';\n            states[Connection.NONE] = '网络不通，没有可用的链接！';\n            console.log(\"states[networkState]==\"+states[networkState]);\n            showAlert.showMsg('','',states[networkState],'');//网络提醒\n            localStorage.removeItem(\"uri\");\n            networkinterface.getIPAddress(function (ip) {\n                var exp=/^(10)\\.(0)\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;\n                var reg = ip.match(exp);\n                if (reg==null) {\n                    showAlert.showMsg('','','当前已切入外网环境','');//网络提醒\n                    localStorage.removeItem(\"uri\");\n                }else{\n                    showAlert.showMsg('','','当前已切入内网环境','');//网络提醒\n                    localStorage.setItem('uri', '1');\n                }\n                //如果4G网络、2G、3G必须是外网\n                if('Connection.CELL_2G'==networkState|| 'Connection.CELL_3G'==networkState\n                    ||'Connection.CELL_4G'==networkState ||'Connection.CELL'==networkState){\n                    showAlert.showMsg('','','当前已切入外网环境','');//网络提醒\n                    localStorage.removeItem(\"uri\");\n                }\n                console.log(\"localStorage.getItem('uri')===\"+localStorage.getItem(\"uri\"));\n\n                if(typeof callBack == \"function\"){\n                    callBack();\n                }\n            });\n        };\n\n        //var deviceInfo = window.navigator;//获取浏览器信息\n        //极光服务\n        var JMessage = function () {\n            var iniPush = function () {\n                showAlert.showMsg('', '', '开启消息推送', '确认');\n                var tags = [];\n                tags.push($scope.credentials.UserID.toUpperCase());\n                window.plugins.jPushPlugin.isPushStopped(function (result) { //判断用户是否停止推送\n                    if (result != 0) {\n                        window.plugins.jPushPlugin.resumePush();\n                        window.plugins.jPushPlugin.setTags(tags); //设置tag\n                    } else {\n                        window.plugins.jPushPlugin.setTags(tags); //设置tag\n                    }\n                });\n            };\n            iniPush();\n            //初始化监听\n            //document.addEventListener(\"deviceready\", iniPush, false);\n        }\n        \n        var judgeAutoLogin = function(){\n            if (localStorage.getItem('autoLogin') && localStorage.getItem('autoLogin') == '1') {\n                //此处需要自动登录\n                $scope.UserID = localStorage.getItem('UserID');\n                $scope.PassWord = localStorage.getItem('PassWord');\n                loadingAnimation.showLoading('加载中...', 'loding', 0);\n                var loginInfor = {\n                    UserID: $scope.credentials.UserID,\n                    PassWord: encodeURIComponent(encode($scope.credentials.PassWord)),\n                    DeviceID: $scope.credentials.DeviceID,\n                    APP_VERSION: appVersion,\n                    DeviceType: $scope.credentials.DeviceType\n                };\n                //正式\n                $http.post(loginUrl, loginInfor)\n                //测试\n                    .then(function (res) {\n                        loadingAnimation.hideLoading();\n                        if (res) {\n                            setToken(res.data);\n                            Session.create(res.data, $scope.credentials);\n                            $scope.modal.remove();\n                            if(isApp){\n                                //JMessage();\n                            }\n                            SavePopShowFristService.setPopShowBlr(true);\n                            $state.go(\"tabs/homePage\", {}, {location: 'replace'});\n                            if (res.msg != '成功') {\n                                showAlert.showMsg(res, '', '', '确认')\n                            }\n                            window.logined != null ? window.logined() : \"\";\n                        }\n                    }, function (res) {\n                        loadingAnimation.hideLoading();\n                        showAlert.showMsg(res, '', res, '确认');\n                    });\n            }\n        };\n        \n        document.addEventListener(\"deviceready\", function () {\n            $scope.credentials.DeviceID = MrDevice.getUUID();\n            $scope.credentials.DeviceType = MrDevice.getPlatform();\n            $scope.login = login;\n            $rootScope.$on('$cordovaNetwork:online', checkConnection);\n            checkConnection(judgeAutoLogin);\n        }, false);\n    }\n]);","angular.module('BaiYin.login.mock', [\n    'ngMockE2E', 'BaiYin.common.mocksData'\n])\n\n.run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n    $httpBackend.whenPOST(/.*/).passThrough();\n}])","angular.module('BaiYin.historyList', [\r\n        'ionic'\r\n    ])\r\n\r\n    .config(['$stateProvider', function($stateProvider) {\r\n        $stateProvider.state('historyList', {\r\n            url: '/historyList',\r\n            controller: 'historyListController',\r\n            templateUrl: 'Agents/AgentsList/operatingHistory/historyList.tpl.html',\r\n            cache: 'false',\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n\r\n    .controller('historyListController', ['$scope', 'loadingAnimation', '$ionicLoading', 'ionicDatePicker', 'loadingAnimation', '$ionicPopup', 'showAlert', 'pageInitService', '$http', '$state',\r\n        function($scope, loadingAnimation, $ionicLoading, ionicDatePicker, loadingAnimation, $ionicPopup, showAlert, pageInitService, $http, $state) {\r\n            $scope.$on('$ionicView.afterEnter', function() {\r\n                var apis = [\r\n\r\n                    'ServiceName=ApproveService&TransName=getDoneApprvedList&PageNo=1'\r\n                ];\r\n\r\n                pageInitService.pageInit(apis).then(function(result) {\r\n                    $scope.listsMsg = result[0]\r\n                    agentListMsg($scope.listsMsg)\r\n\r\n                    $scope.agentsItem = function(item) {\r\n                        $state.go('historyDetail', { 'item': item })\r\n                    }\r\n                }, function(error) {\r\n                    showAlert.showMsg(error, '', '网络异常', '确认')\r\n                });\r\n                $scope.showWhich = true;\r\n                $scope.loadNumber = 1;\r\n                $scope.loadMore = function() {\r\n                    $scope.loadNumber += 1;\r\n                    $http.get('ServiceName=ApproveService&TransName=getDoneApprvedList&PageNo=' + $scope.loadNumber)\r\n                        .then(function(res) {\r\n                            if (res.data.length > 0) {\r\n                                for (var i = 0; i < res.data.length; i++) {\r\n                                    res.data[i].CREATED_DATE = new Date(res.data[i].CREATED_DATE);\r\n                                    $scope.items.push(res.data[i])\r\n                                    $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                                }\r\n                            } else if (res.data.length <= 0 || res.data == null || res.data == undefined) {\r\n                                $scope.hasMore = false;\r\n                                $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                            }\r\n                        }, function(error) {\r\n                            showAlert.showMsg(error, '', '网络异常', '确认')\r\n                            $scope.hasMore = false;\r\n                        })\r\n                };\r\n            });\r\n            var date = $scope.year + $scope.dateNum\r\n\r\n            function reqPort() {\r\n                $http.get('ServiceName=ApproveService&TransName=getDoneApprvedList&PageNo=1')\r\n                    .then(function(res) {\r\n                        agentListMsg(res)\r\n\r\n                    }, function(error) {\r\n\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n            $scope.datQuery = function() {\r\n                reqPort()\r\n            }\r\n\r\n            $scope.inpTitle = { vom: '' };\r\n            $scope.listAll = function() {\r\n                $scope.inpTitle.vom = '';\r\n                $scope.filterDate = '';\r\n                $scope.filterDate2 = '';\r\n                $scope.chooseNum = '';\r\n\r\n            }\r\n\r\n            function agentListMsg(res) {\r\n                var str = [];\r\n                var arr = {};\r\n                for (var i = 0; i < res.data.length; i++) {\r\n                    arr = res.data[i]\r\n                    arr.CREATED_DATE = new Date(arr.CREATED_DATE)\r\n                    str.push(arr)\r\n                }\r\n                $scope.items = str;\r\n                if ($scope.items.length >= 10 && $scope.items != undefined && $scope.items != null) {\r\n                    $scope.hasMore = true;\r\n                }\r\n            };\r\n            $scope.trueStr = false;\r\n            $scope.showOrhide = function() {\r\n                $scope.trueStr = !$scope.trueStr;\r\n\r\n            }\r\n            $scope.doRefresh = function() {\r\n                $http.get('ServiceName=ApproveService&TransName=getDoneApprvedList&PageNo=1')\r\n                    .then(function(res) {\r\n                        agentListMsg(res)\r\n                        $scope.$broadcast('scroll.refreshComplete');\r\n                        if (res.data.length == 10) {\r\n                            $scope.loadNumber = 1;\r\n                            $scope.hasMore = true;\r\n                        } else {\r\n                            $scope.hasMore = false;\r\n                        }\r\n                    }, function(error) {\r\n                        $scope.hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n            $scope.allChoose = function(value) {\r\n                loadingAnimation.showLoading()\r\n                $scope.trueStr = false;\r\n                $scope.inpTitle.vom = value;\r\n                var searchParamS = {\r\n                    TITLE: value,\r\n                    START_CREATED_DATE: $scope.filterDate,\r\n                    END_CREATED_DATE: $scope.filterDate2,\r\n                    FROM_CLIENT: $scope.chooseNum\r\n                };\r\n                $http.post('ServiceName=ApproveService&TransName=getDoneApprvedList', searchParamS)\r\n                    .then(function(res) {\r\n                        $ionicLoading.hide();\r\n                        agentListMsg(res)\r\n                        if (res.data.length == 0) {\r\n                            var alertPopup = $ionicPopup.alert({\r\n                                okText: '确认',\r\n                                template: '暂无数据'\r\n                            })\r\n                        }\r\n                        $scope.$broadcast('scroll.refreshComplete');\r\n                        if (res.data.length == 10) {\r\n                            $scope.loadNumber = 1;\r\n                            $scope.hasMore = true;\r\n                        } else {\r\n                            $scope.hasMore = false;\r\n                        }\r\n                    }, function(error) {\r\n                        $ionicLoading.hide();\r\n                        $scope.hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n           /* $http.get('ServiceName=ApproveService&TransName=getDoneApprvedList&TITLE=' +\r\n                    ($scope.inpTitle.vom == undefined ? '' : $scope.inpTitle.vom) +\r\n                    '&START_CREATED_DATE=' + ($scope.filterDate == undefined ? '' : $scope.filterDate) +\r\n                    '&END_CREATED_DATE=' + ($scope.filterDate2 == undefined ? '' : $scope.filterDate2) +\r\n                    '&FROM_CLIENT=' + ($scope.chooseNum == undefined ? '' : $scope.chooseNum))\r\n                .then(function(res) {\r\n                    $ionicLoading.hide();\r\n                    agentListMsg(res)\r\n                    if (res.data.length == 0) {\r\n                        var alertPopup = $ionicPopup.alert({\r\n                            okText: '确认',\r\n                            template: '暂无数据'\r\n                        })\r\n                    }\r\n                    $scope.$broadcast('scroll.refreshComplete');\r\n                    if (res.data.length == 10) {\r\n                        $scope.loadNumber = 1;\r\n                        $scope.hasMore = true;\r\n                    } else {\r\n                        $scope.hasMore = false;\r\n                    }\r\n                }, function(error) {\r\n                    $ionicLoading.hide();\r\n                    $scope.hasMore = false;\r\n                    showAlert.showMsg(error, '', '网络异常', '确认')\r\n                })\r\n        }*/\r\n        $scope.chooseWhich = function() {\r\n            $scope.showChoose = !$scope.showChoose\r\n        }\r\n        $scope.conts = [\r\n            { name: 'App' },\r\n            { name: 'Ifs Ee' }\r\n        ];\r\n        $scope.chooseFrom = function(value) {\r\n            $scope.chooseNum = value\r\n            $scope.showChoose = false;\r\n        };\r\n\r\n        function dateList(tesr) {\r\n            var disabledDates = [\r\n                /*new Date(1437719836326),\r\n                new Date(),\r\n                new Date(2015, 7, 10), //months are 0-based, this is August, 10th!\r\n                new Date('Wednesday, August 12, 2015'), //Works with any valid Date formats like long format\r\n                new Date(\"08-14-2015\"), //Short format\r\n                new Date(1439676000000) //UNIX format*/\r\n            ];\r\n\r\n\r\n            //方便的年月日设置方式，正和我意，可以随便改了。\r\n            var weekDaysList = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\r\n            // var weekDaysList = [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"];//中文：[\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\r\n            var monthList = [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"];\r\n            // var monthList = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n            //中文：[\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"];\r\n            // 日期选择后的回调函数\r\n            var datePickerCallback = function(val) {\r\n                /* if (typeof(val) === 'undefined') {\r\n                     console.log('No date selected');\r\n                 } else {\r\n                       $http.get('ServiceName=ApproveService&TransName=getDoneApprvedList&CREATED_DATE='+val)\r\n                     .then(function(res) {\r\n                         agentListMsg(res)\r\n                         $scope.$broadcast('scroll.refreshComplete');\r\n                        \r\n                     }, function(error) {\r\n                         $scope.hasMore = false;\r\n                         showAlert.showMsg(error, '', '网络异常', '确认')\r\n                     })\r\n                 }*/\r\n            };\r\n            $scope.datepickerObject = {\r\n                titleLabel: 'Title', //Optional\r\n                todayLabel: '今天', //Optionals\r\n                closeLabel: '关闭', //Optional\r\n                setLabel: '确认', //Optional\r\n                setButtonType: 'button-assertive', //Optional\r\n                todayButtonType: 'button-assertive', //Optional\r\n                closeButtonType: 'button-assertive', //Optional\r\n                mondayFirst: false, //Optional\r\n                disabledDates: disabledDates, //Optional\r\n                weekDaysList: weekDaysList, //Optional\r\n                monthList: monthList, //Optional\r\n                templateType: 'popup', //Optional\r\n                showTodayButton: 'true', //Optional\r\n                modalHeaderColor: 'bar-positive', //Optional\r\n                modalFooterColor: 'bar-positive', //Optional\r\n                from: new Date(2008, 8, 2), //可选\r\n                to: new Date(2030, 8, 25), //可选\r\n                inputDate: new Date(), //Optional\r\n                callback: function(val) { //Mandatory\r\n\r\n                    if (tesr == 1) {\r\n                        $scope.filterDate = val\r\n                    } else if (tesr == 2) {\r\n                        $scope.filterDate2 = val\r\n                    }\r\n                    datePickerCallback(val);\r\n\r\n                },\r\n                dateFormat: 'yyyy-MM-dd', //Optional\r\n                closeOnSelect: false, //Optional\r\n            };\r\n        }\r\n\r\n        $scope.chooseTime = function(tesr) {\r\n            dateList(tesr)\r\n            ionicDatePicker.openDatePicker($scope.datepickerObject);\r\n            dateList(tesr)\r\n        }\r\n\r\n    }])","angular.module('BaiYin.agentsView', [])\r\n\r\n.config(['$stateProvider', function($stateProvider) {\r\n    $stateProvider.state('agentsView', {\r\n        url: '/agentsView',\r\n        controller: 'agentsViewController',\r\n        templateUrl: 'Agents/AgentsList/agentsView/agentsView.tpl.html',\r\n        cache: 'false',\r\n        authorizedRuleType: ['1'] //登录权限\r\n    })\r\n}])\r\n\r\n.controller('agentsViewController', ['$scope', '$state', 'showAlert', 'pageInitService', '$timeout', '$ionicHistory', '$stateParams', '$http', '$ionicPopup', 'MrActionSheet', 'MrImagePicker', 'MrCamera', 'loadingAnimation', 'Session',\r\n    function($scope, $state, showAlert, pageInitService, $timeout, $ionicHistory, $stateParams, $http, $ionicPopup, MrActionSheet, MrImagePicker, MrCamera, loadingAnimation, Session) {\r\n\r\n        $scope.imageList = [];\r\n\r\n        var valKey = JSON.parse(sessionStorage.getItem(\"agentsVD\"));;\r\n        $scope.$on('$ionicView.afterEnter', function() {\r\n            var apis = [\r\n                'ServiceName=ApproveService&TransName=getUnApprvedDetail' + '&LU_NAME=' + valKey.LU_NAME + '&KEY_REF=' + valKey.KEY_REF + '&LINE_NO=' + valKey.LINE_NO + '&STEP_NO=' + valKey.STEP_NO\r\n            ];\r\n            pageInitService.pageInit(apis).then(function(result) {\r\n                agentViewMsg(result[0])\r\n            }, function(error) {\r\n                showAlert.showMsg(error, '', '网络异常', '确认')\r\n            })\r\n        });\r\n        $scope.doRefresh = function() {\r\n            $http.get('ServiceName=ApproveService&TransName=getUnApprvedDetail' + '&LU_NAME=' + valKey.LU_NAME + '&KEY_REF=' + valKey.KEY_REF + '&LINE_NO=' + valKey.LINE_NO + '&STEP_NO=' + valKey.STEP_NO)\r\n                .then(function(res) {\r\n                    agentViewMsg(res)\r\n                    $scope.$broadcast('scroll.refreshComplete');\r\n                }, function(error) {\r\n                    showAlert.showMsg(error, '', '网络异常', '确认')\r\n                });\r\n        };\r\n        var displayFile = false;\r\n        $scope.accessoryCont = function() {\r\n            $scope.displayFile = !$scope.displayFile\r\n        };\r\n\r\n        var resolveMsg;\r\n\r\n        function agentViewMsg(res) {\r\n            resolveMsg = res;\r\n            var str = {};\r\n            str = res.data\r\n            str.CREATED_DATE = new Date(str.CREATED_DATE)\r\n            str.SUBMIT_DATE = new Date(str.SUBMIT_DATE)\r\n\r\n            $scope.item = str\r\n            console.log(str)\r\n            if (str.ATTACHMENT == null || str.ATTACHMENT.length <= 0) {\r\n                $scope.disFile = false\r\n            } else {\r\n                $scope.disFile = true\r\n            }\r\n        }\r\n        $scope.Toflow = function(item) {\r\n            $state.go('flowDetail', { 'item': item })\r\n        }\r\n\r\n        $scope.doApproval = function(status, FORM_INFO) {\r\n            var infoMeseage = {\r\n                ServiceName: 'ApproveService',\r\n                TransName: 'doApprvedDetail',\r\n                GROUP_ID: resolveMsg.data.GROUP_ID,\r\n                LU_NAME: resolveMsg.data.LU_NAME,\r\n                KEY_REF: resolveMsg.data.KEY_REF,\r\n                LINE_NO: resolveMsg.data.LINE_NO,\r\n                STEP_NO: resolveMsg.data.STEP_NO,\r\n                APP_FORM_INFO: FORM_INFO ? encodeURIComponent(FORM_INFO) : '',\r\n                APPROVAL_STATUS: '',\r\n                imageList: encodeURIComponentImg($scope.imageList)\r\n            };\r\n\r\n            var confirmfalse = $ionicPopup.confirm({\r\n                okText: '是',\r\n                cancelText: '否',\r\n                template: '请您确认？'\r\n            }).then(function(res) {\r\n                if (res) {\r\n                    loadingAnimation.showLoading('处理中...', 'loding', 0);\r\n                    infoMeseage.APPROVAL_STATUS = status;\r\n                    $http.post('', infoMeseage)\r\n                        .then(function(res) {\r\n                            loadingAnimation.hideLoading();\r\n                            showAlertGo('', '处理成功', '确认')\r\n                        }, function(error) {\r\n                            loadingAnimation.hideLoading();\r\n                            showAlert.showMsg(error, '', '网络异常', '确认')\r\n                        });\r\n                }\r\n            });\r\n        }\r\n        $scope.openUrl = function(URL) {\r\n            console.log(URL);\r\n            document.addEventListener(\"deviceready\", function() {\r\n                if (Session.user.DeviceType == 'Android') {\r\n                    MRUpdateVersion.updateVersion(function success() {}, function failed(message) {}, URL);\r\n                } else {\r\n                    cordova.InAppBrowser.open(URL, '_system', 'zoom=yes');\r\n                }\r\n            }, false);\r\n        }\r\n\r\n        // 启动选择图片方法\r\n        $scope.addAttachment = function() {\r\n            if ($scope.imageList.length < 10) {\r\n                MrActionSheet.show({\r\n                    buttons: [\r\n                        { text: '相机' },\r\n                        { text: '相册' }\r\n                    ],\r\n                    cancelText: '取消',\r\n                    cancel: function() {\r\n                        return true;\r\n                    },\r\n                    buttonClicked: function(index) {\r\n                        switch (index) {\r\n                            case 0:\r\n                                takePicture();\r\n\r\n                                break;\r\n                            case 1:\r\n                                pickImage();\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n                        return true;\r\n                    }\r\n                });\r\n            } else {\r\n                showAlert(\"最多可选择10张图片！\", \"确定\", 2);\r\n            }\r\n        };\r\n\r\n        // 相机照相方法\r\n        var takePicture = function() {\r\n            var options = {\r\n                quality: 100,\r\n                destinationType: Camera.DestinationType.DATA_URL,\r\n                sourceType: Camera.PictureSourceType.CAMERA,\r\n                allowEdit: false,\r\n                encodingType: Camera.EncodingType.JPEG,\r\n                targetWidth: 450,\r\n                targetHeight: 450,\r\n                popoverOptions: CameraPopoverOptions,\r\n                saveToPhotoAlbum: true,\r\n                correctOrientation: true\r\n            };\r\n            MrCamera.getPicture(options).then(function(imageData) {\r\n                var contentUrl = \"data:image/*;charset=utf-8;base64,\" + imageData;\r\n                loadingAnimation.showLoading('加载中...', 'loding', 0);\r\n                $scope.imageList.push(contentUrl);\r\n                if (!$scope.$$phase) {\r\n                    $scope.$digest();\r\n                } else {\r\n                    loadingAnimation.showLoading('加载中...', 'loding', 0);\r\n                }\r\n            }, function(err) {\r\n                loadingAnimation.hideLoading();\r\n            });\r\n        };\r\n\r\n        // 相册选择图片方法\r\n        var pickImage = function() {\r\n            var options = {\r\n                maximumImagesCount: 10 - $scope.imageList.length,\r\n                width: 450,\r\n                height: 450,\r\n                quality: 100\r\n            };\r\n            MrImagePicker.getPictures(options).then(\r\n                function(results) {\r\n                    loadingAnimation.showLoading('加载中...', 'loding', 1000);\r\n                    convertToDataStream(results);\r\n                },\r\n                function(error) {\r\n                    console.log(error);\r\n                    loadingAnimation.hideLoading();\r\n                });\r\n        };\r\n\r\n        // 相机选择照片后转流方法\r\n        var convertToDataStream = function(picturesUrl) {\r\n            for (var i = 0; i < picturesUrl.length; i++) {\r\n                window.plugins.Base64.encodeFile(picturesUrl[i], function(imageData) {\r\n                    $scope.imageList.push(imageData);\r\n                    if (!$scope.$$phase) {\r\n                        $scope.$digest();\r\n                        loadingAnimation.hideLoading();\r\n                    } else {\r\n                        loadingAnimation.hideLoading();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        $scope.deletePicture = function($index) {\r\n            /*点击哪张图片，删除哪张图片*/\r\n            showConfirmTwo(\"删除此图片？\", \"确定\", \"取消\", $index);\r\n        };\r\n\r\n        var showConfirmTwo = function(template, leftText, rightText, index) {\r\n            var confirmPopup = $ionicPopup.confirm({\r\n                template: template,\r\n                okText: leftText,\r\n                cancelText: rightText\r\n            });\r\n            confirmPopup.then(function(res) {\r\n                if (res) {\r\n                    loadingAnimation.showLoading('加载中...', 'loding', 0);\r\n                    $scope.imageList.splice(index, 1);\r\n                    if (!$scope.$$phase) {\r\n                        $scope.$digest();\r\n                        loadingAnimation.hideLoading();\r\n                    } else {\r\n                        loadingAnimation.hideLoading();\r\n                    }\r\n                }\r\n            });\r\n        };\r\n\r\n        var encodeURIComponentImg = function(arr) {\r\n            var array = [];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                array.push(encodeURIComponent(arr[i]))\r\n            }\r\n            return array;\r\n        }\r\n\r\n        var showAlertGo = function(title, template, okText) {\r\n            var alertPopup = $ionicPopup.alert({\r\n                title: title,\r\n                okText: okText,\r\n                template: template\r\n            });\r\n            alertPopup.then(function(res) {\r\n                $ionicHistory.goBack();\r\n            });\r\n        };\r\n        $scope.back = function() {\r\n            var confirmfalse = $ionicPopup.confirm({\r\n                okText: '是',\r\n                cancelText: '否',\r\n                template: '确定返回？'\r\n            }).then(function(res) {\r\n                if (res) {\r\n                    $ionicHistory.goBack();\r\n                }\r\n            });\r\n        };\r\n    }\r\n])\r\n","angular.module('BaiYin.agentsView.mock', [\r\n\t'ngMockE2E', 'BaiYin.common.mocksData'\r\n\t])\r\n.run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\r\n\tvar data = {\r\n\r\n\t}\r\n\tvar result = mocksData.resetData(data);\r\n\t$httpBackend.whenGET(/.*/).passThrough();\r\n}]);","angular.module('BaiYin.LeavesDetail', [\n        'BaiYin.LeavesDetail.mock'\n    ])\n\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('LeavesDetail', {\n            url: '/LeavesDetail',\n            controller: 'LeavesDetailController',\n            templateUrl: 'AllLeave/Leave/leavesDetail/LeavesDetail.tpl.html',\n            //params: { 'detailParam': null },\n            cache: 'true',\n            authorizedRuleType: ['1']\n        })\n    }])\n    .controller('LeavesDetailController', ['$scope', 'pageInitService', '$stateParams', '$http', '$state', 'showAlert','$ionicHistory',\n        function($scope, pageInitService, $stateParams, $http, $state, showAlert,$ionicHistory) {\n            var delParam = JSON.parse(sessionStorage.getItem(\"detailParam\"));\n            $scope.$on('$ionicView.afterEnter', function() {\n                var apis = [\n                    'ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveDetail&APPLY_NO=' + delParam.APPLY_NO,\n                ];\n                pageInitService.pageInit(apis).then(function(result) {\n                    $scope.item = result[0].data;\n                    if (result[0].data.APPLYFORLEAVESTATE == \"新建\") {\n                        $scope.submitL = true;\n                        $scope.editL = true;\n                        $scope.deleL = true;\n                    } \n                }, function(error) {\n                    showAlert.showMsg(error, '', '网络异常', '确认')\n                });\n            });\n            $scope.doRefresh = function() {\n                $http.get('ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveDetail&APPLY_NO=' + delParam.APPLY_NO)\n                    .then(function(res) {\n                        $scope.item = res.data;\n                        $scope.$broadcast('scroll.refreshComplete');\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            };\n\n            //提交\n            $scope.submit = function() {\n                $http.get('ServiceName=ApplyForLeaveService&ACTION_TYPE=submit&TransName=doApplyForLeaveDetail&APPLY_NO=' + delParam.APPLY_NO)\n                    .then(function(res) {\n                        showAlert.showMsg(res, '', '提交成功', '确认');\n                        $ionicHistory.goBack();\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            };\n           \n            //编辑\n            $scope.edit = function(item) {\n                var editParam = angular.copy(item);\n                editParam.numTT = 1;\n                $state.go(\"newLeaves\", { \"newParam\": editParam });\n            };\n            //删除\n            $scope.dele = function() {\n                $http.get('ServiceName=ApplyForLeaveService&TransName=doApplyForLeaveDetail&ACTION_TYPE=delete&APPLY_NO=' + delParam.APPLY_NO)\n                    .then(function(res) {\n                        showAlert.showMsg(res, '', '提交成功', '确认');\n                        $ionicHistory.goBack();\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            };\n        }\n    ])","angular.module('BaiYin.LeavesDetail.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.LeavesList', [\n        'BaiYin.LeavesList.mock'\n    ])\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('LeavesList', {\n            url: '/LeavesList',\n            controller: 'LeavesListController',\n            templateUrl: 'AllLeave/Leave/LeavesList/LeavesList.tpl.html',\n            cache: 'false',\n            authorizedRuleType: ['1']\n        })\n    }])\n    .controller('LeavesListController', ['$scope', '$ionicPopup', 'loadingAnimation', '$ionicLoading', 'ionicDatePicker', 'pageInitService', '$http', '$state', 'showAlert',\n        function($scope, $ionicPopup, loadingAnimation, $ionicLoading, ionicDatePicker, pageInitService, $http, $state, showAlert) {\n            $scope.$on('$ionicView.afterEnter', function() {\n                var apis = [\n                    'ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveList&PageNo=1',\n                    'ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveState',\n                    'ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveFurloughType'\n                ];\n                pageInitService.pageInit(apis).then(function(result) {\n                    $scope.items = result[0].data;\n                    $scope.item3s = result[1].data;\n                    $scope.item4s = result[2].data;\n                }, function(error) {\n                    showAlert.showMsg(error, '', '网络异常', '确认')\n                });\n            });\n            //刷新\n            $scope.doRefresh = function() {\n                $http.get('ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveList&PageNo=1')\n                    .then(function(res) {\n                        $scope.items = res.data;\n                        $scope.$broadcast('scroll.refreshComplete');\n                        if (res.data.length == 12) {\n                            $scope.loadNumber = 1;\n                            $scope.hasMore = true;\n                        } else {\n                            $scope.hasMore = false;\n                        }\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            };\n            //上拉加载\n            $scope.hasMore = true;\n            $scope.loadNumber = 1;\n            $scope.loadMore = function() {\n                $scope.loadNumber += 1;\n                $http.get('ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveList&PageNo=' + $scope.loadNumber)\n                    .then(function(res) {\n                        if (res.data.length > 0) {\n                            for (var i = 0; i < res.data.length; i++) {\n                                $scope.items.push(res.data[i])\n                                $scope.$broadcast('scroll.infiniteScrollComplete');\n                            }\n                        } else if (res.data.length <= 0 || res.data == null || res.data == undefined) {\n                            $scope.hasMore = false;\n                            $scope.$broadcast('scroll.infiniteScrollComplete');\n                        }\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                        $scope.hasMore = false;\n                    })\n            };\n            //搜索按钮\n            $scope.showOrhide = function() {\n                $scope.trueStr = !$scope.trueStr;\n            };\n            //日期控件\n            function dateList(tesr) {\n                var disabledDates = [];\n                var weekDaysList = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\n                var monthList = [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"];\n                var datePickerCallback = function(val) {};\n                $scope.datepickerObject = {\n                    titleLabel: 'Title', //Optional\n                    todayLabel: '今天', //Optionals\n                    closeLabel: '关闭', //Optional\n                    setLabel: '确认', //Optional\n                    setButtonType: 'button-assertive', //Optional\n                    todayButtonType: 'button-assertive', //Optional\n                    closeButtonType: 'button-assertive', //Optional\n                    mondayFirst: false, //Optional\n                    disabledDates: disabledDates, //Optional\n                    weekDaysList: weekDaysList, //Optional\n                    monthList: monthList, //Optional\n                    templateType: 'popup', //Optional\n                    showTodayButton: 'true', //Optional\n                    modalHeaderColor: 'bar-positive', //Optional\n                    modalFooterColor: 'bar-positive', //Optional\n                    from: new Date(2008, 8, 2), //可选\n                    to: new Date(2030, 8, 25), //可选\n                    inputDate: new Date(), //Optional\n                    callback: function(val) { //Mandatory\n                        if (tesr == 1) {\n                            $scope.filterDate = val\n                        } else if (tesr == 2) {\n                            $scope.filterDate2 = val\n                        }\n                        datePickerCallback(val);\n                    },\n                    dateFormat: 'yyyy-MM-dd', //Optional\n                    closeOnSelect: false, //Optional\n                };\n            }\n            //开始结束日期\n            $scope.chooseTime = function(tesr) {\n                dateList(tesr)\n                ionicDatePicker.openDatePicker($scope.datepickerObject);\n                dateList(tesr)\n            };\n            //搜索\n            $scope.allChoose = function(res, req) {\n                if (!$scope.filterDate) {\n                    $scope.filterDate = \"\";\n                };\n                if (!$scope.filterDate2) {\n                    $scope.filterDate2 = \"\";\n                };\n                loadingAnimation.showLoading();\n                $scope.trueStr = false;\n                var subParam = {\n                    START_CREATED_DATE: $scope.filterDate + '',\n                    END_CREATED_DATE: $scope.filterDate2 + '',\n                    STATE: res,\n                    FURLOUGH_TYPE: req\n                };\n                $http.post('ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveList&PageNo=1', subParam)\n                    .then(function(res) {\n                        $ionicLoading.hide();\n                        $scope.items = res.data;\n                        if (res.data.length == 0) {\n                            var alertPopup = $ionicPopup.alert({\n                                okText: '确认',\n                                template: '暂无数据'\n                            })\n                        }\n                        $scope.$broadcast('scroll.refreshComplete');\n                        if (res.data.length == 12) {\n                            $scope.loadNumber = 1;\n                            $scope.hasMore = true;\n                        } else {\n                            $scope.hasMore = false;\n                        }\n                    }, function(error) {\n                        $ionicLoading.hide();\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n\n                    })\n            };\n            //详情\n            $scope.leavesDetail = function(res) {\n                sessionStorage.setItem(\"detailParam\",JSON.stringify(res));\n                $state.go(\"LeavesDetail\");\n            };\n            //清空\n            $scope.listAll = function() {\n                $scope.filterDate = \"\";\n                $scope.filterDate2 = \"\";\n                $scope.type=\"\";\n                $scope.type2=\"\";\n            };\n            //新增\n            $scope.newLeave = function() {\n                $state.go(\"newLeaves\",{\"newParam\":2});\n            };\n        }\n    ])","angular.module('BaiYin.LeavesList.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.newVacation', [\n        'BaiYin.newVacation.mock'\n    ])\n\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('newVacation', {\n            url: '/newVacation',\n            controller: 'newVacationController',\n            templateUrl: 'AllLeave/Vacation/newVacation/newVacation.tpl.html',\n            params: { 'newParam': null },\n            cache: 'false',\n            authorizedRuleType: ['1']\n        })\n    }])\n\n    .controller('newVacationController', ['$scope', '$timeout', '$stateParams', '$ionicHistory', '$filter', 'loadingAnimation', 'ionicDatePicker', 'pageInitService', '$http', '$state', '$ionicPopup', 'showAlert',\n        function($scope, $timeout, $stateParams, $ionicHistory, $filter, loadingAnimation, ionicDatePicker, pageInitService, $http, $state, $ionicPopup, showAlert) {\n            $scope.$on('$ionicView.afterEnter', function() {\n                var apis = [\n                    'ServiceName=ApplyForBusinessTravelService&TransName=getApplyForBusinessTravelEmployeeType',\n                    'ServiceName=ApplyForBusinessTravelService&TransName=getApplyForBusinessTravelTransprtation'\n                ];\n                pageInitService.pageInit(apis).then(function(result) {\n                    $scope.item4s = result[0].data;\n                    $scope.item5s = result[1].data;\n                    $timeout(function() {\n                        if ($stateParams.newParam.numTT == 1) {\n                            $scope.contN = \"编辑\";\n                            $stateParams.newParam.EMPLOYEE_TYPE = $stateParams.newParam.EMPLOYEE_TYPE + '';\n                            $scope.newLeavePara = $stateParams.newParam;\n                            $scope.filterDate1 = $filter('date')($stateParams.newParam.APPLY_DATE.substring(0, 10), \"yyyy-MM-dd\");\n                            $scope.filterDate2 = $filter('date')($stateParams.newParam.BEGIN_DATE.substring(0, 10), \"yyyy-MM-dd\");\n                            $scope.filterDate3 = $filter('date')($stateParams.newParam.END_DATE.substring(0, 10), \"yyyy-MM-dd\");\n                            $scope.DAYS = $stateParams.newParam.DAYS;\n                        } else {\n                            $scope.contN = \"新增\";\n                        };\n                    })\n\n                }, function(error) {\n                    showAlert.showMsg(error, '', '网络异常', '确认')\n                });\n            });\n            //日期计算\n            function DateDiff(sDate1, sDate2) { //sDate1和sDate2是2006-12-18格式  \n                var aDate, oDate1, oDate2, iDays\n                aDate = sDate1.split(\"-\")\n                oDate1 = new Date(aDate[1] + '-' + aDate[2] + '-' + aDate[0]) //转换为12-18-2006格式  \n                aDate = sDate2.split(\"-\")\n                oDate2 = new Date(aDate[1] + '-' + aDate[2] + '-' + aDate[0])\n                iDays = parseInt(Math.abs(oDate1 - oDate2) / 1000 / 60 / 60 / 24) //把相差的毫秒数转换为天数  \n                return iDays\n            };\n            $scope.filterDate1 = $filter('date')(new Date(), \"yyyy-MM-dd\");\n            $scope.filterDate2 = $filter('date')(new Date(), \"yyyy-MM-dd\");\n            //日期控件\n            function dateList(tesr) {\n                var disabledDates = [];\n                var weekDaysList = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\n                var monthList = [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"];\n                var datePickerCallback = function(val) {};\n                $scope.datepickerObject = {\n                    titleLabel: 'Title', //Optional\n                    todayLabel: '今天', //Optionals\n                    closeLabel: '关闭', //Optional\n                    setLabel: '确认', //Optional\n                    setButtonType: 'button-assertive', //Optional\n                    todayButtonType: 'button-assertive', //Optional\n                    closeButtonType: 'button-assertive', //Optional\n                    mondayFirst: false, //Optional\n                    disabledDates: disabledDates, //Optional\n                    weekDaysList: weekDaysList, //Optional\n                    monthList: monthList, //Optional\n                    templateType: 'popup', //Optional\n                    showTodayButton: 'true', //Optional\n                    modalHeaderColor: 'bar-positive', //Optional\n                    modalFooterColor: 'bar-positive', //Optional\n                    from: new Date(2008, 8, 2), //可选\n                    to: new Date(2030, 8, 25), //可选\n                    inputDate: new Date(), //Optional\n                    callback: function(val) { //Mandatory\n                        if (tesr == 1) {\n                            $scope.filterDate1 = $filter('date')(val, \"yyyy-MM-dd\")\n                        } else if (tesr == 2) {\n                            $scope.filterDate2 = $filter('date')(val, \"yyyy-MM-dd\")\n                        } else if (tesr == 3) {\n                            $scope.filterDate3 = $filter('date')(val, \"yyyy-MM-dd\");\n                            var date1 = $scope.filterDate2;\n                            var date2 = $scope.filterDate3;\n\n\n                            $scope.DAYS = DateDiff(date1, date2) + 1;\n                        }\n                        datePickerCallback(val);\n                    },\n                    dateFormat: 'yyyy-MM-dd', //Optional\n                    closeOnSelect: false, //Optional\n                };\n            }\n            //开始结束日期\n            $scope.chooseTime = function(tesr) {\n                dateList(tesr)\n                ionicDatePicker.openDatePicker($scope.datepickerObject);\n                dateList(tesr)\n            };\n            //提交/保存\n            $scope.doApproval = function(num, param) {\n                var subParam = angular.copy(param);\n                subParam.APPLY_DATE = $scope.filterDate1;\n                subParam.BEGIN_DATE = $scope.filterDate2;\n                subParam.END_DATE = $scope.filterDate3;\n                subParam.DAYS = $scope.DAYS + '';\n                var dat1 = (new Date(subParam.END_DATE.replace(/-/g, '/'))).getTime();\n                var dat2 = (new Date(subParam.BEGIN_DATE.replace(/-/g, '/'))).getTime();\n                var dat3 = (new Date(subParam.APPLY_DATE.replace(/-/g, '/'))).getTime();\n                var dat = dat1 - dat2;\n                var dat4 = dat2 - dat3;\n                function reqSub() {\n                    $http.post('ServiceName=ApplyForBusinessTravelService&TransName=doApplyForBusinessTravelDetail', subParam)\n                        .then(function(res) {\n                            showAlert.showMsg(res, '', '网络异常', '确认');\n                            $state.go(\"VacationList\");\n                        }, function(error) {\n                            showAlert.showMsg(error, '', '网络异常', '确认');\n                            $scope.hasMore = false;\n                        });\n                };\n\n                function resSub() {\n                    $http.post('ServiceName=ApplyForBusinessTravelService&TransName=doApplyForBusinessTravelDetail', subParam1)\n                        .then(function(res) {\n                            subParam.APPLY_NO=res.data.APPLY_NO;\n                            $http.post('ServiceName=ApplyForBusinessTravelService&TransName=doApplyForBusinessTravelDetail', subParam)\n                                .then(function(res) {\n                                    showAlert.showMsg(res, '', '网络异常', '确认');\n                                    $state.go(\"VacationList\");\n                                }, function(error) {\n                                    showAlert.showMsg(error, '', '网络异常', '确认');\n                                    $scope.hasMore = false;\n                                });\n                        }, function(error) {\n                            showAlert.showMsg(error, '', '网络异常', '确认');\n                            $scope.hasMore = false;\n                        });\n                };\n                if (dat >= 0 && dat4 >= 0) {\n                    if ($stateParams.newParam.numTT == 1) {\n                        if (num == 1) {\n                            var subParam1 = angular.copy(subParam);\n                            subParam1.ACTION_TYPE = \"edit\";\n                            subParam.ACTION_TYPE = \"submit\";\n                            console.log(subParam1);\n                            resSub();\n                        } else {\n                            subParam.ACTION_TYPE = \"edit\";\n                            reqSub();\n                        };\n                    } else {\n                        if (num == 1) {\n                            var subParam1 = angular.copy(subParam);\n                            subParam1.ACTION_TYPE = \"save\";\n                            subParam.ACTION_TYPE = \"submit\";\n                            resSub();\n                        } else {\n                            subParam.ACTION_TYPE = \"save\";\n                            reqSub();\n                        };\n                    };\n\n                } else {\n                    showAlert.showMsg(\"\", '', '请选择正确日期', '确认');\n                };\n            };\n            //返回\n            $scope.back = function() {\n                var confirmfalse = $ionicPopup.confirm({\n                    okText: '是',\n                    cancelText: '否',\n                    template: '确定返回？'\n                }).then(function(res) {\n                    if (res) {\n                        $ionicHistory.goBack();\n                    };\n                });\n            };\n            //回到首页\n            $scope.backHomePage=function(){\n                $state.go(\"tabs/homePage\");\n            };\n\n        }\n    ])","angular.module('BaiYin.newVacation.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.newLeaves', [\n        'BaiYin.newLeaves.mock'\n    ])\n\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('newLeaves', {\n            url: '/newLeaves',\n            controller: 'newLeavesController',\n            templateUrl: 'AllLeave/Leave/newLeaves/newLeaves.tpl.html',\n            params: { 'newParam': null },\n            cache: 'false',\n            authorizedRuleType: ['1']\n        })\n    }])\n\n    .controller('newLeavesController', ['$scope', '$timeout', '$stateParams', '$ionicHistory', '$filter', 'loadingAnimation', 'ionicDatePicker', 'pageInitService', '$http', '$state', '$ionicPopup', 'showAlert',\n        function($scope, $timeout, $stateParams, $ionicHistory, $filter, loadingAnimation, ionicDatePicker, pageInitService, $http, $state, $ionicPopup, showAlert) {\n            $scope.$on('$ionicView.afterEnter', function() {\n                var apis = [\n                    'ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveFurloughType',\n                    'ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveEmployeeType'\n                ];\n                pageInitService.pageInit(apis).then(function(result) {\n                    $scope.item3s = result[0].data;\n                    $scope.item4s = result[1].data;\n                    $timeout(function() {\n                        if ($stateParams.newParam.numTT == 1) {\n                            $scope.contN = \"编辑\";\n                            $scope.newLeavePara = $stateParams.newParam;\n                            $scope.filterDate1 = $filter('date')($stateParams.newParam.APPLY_DATE.substring(0, 10), \"yyyy-MM-dd\");\n                            $scope.filterDate2 = $filter('date')($stateParams.newParam.BEGIN_DATE.substring(0, 10), \"yyyy-MM-dd\");\n                            $scope.filterDate3 = $filter('date')($stateParams.newParam.END_DATE.substring(0, 10), \"yyyy-MM-dd\");\n                            $scope.DAYS = $stateParams.newParam.DAYS;\n                        } else {\n                            $scope.contN = \"新增\";\n                        };\n                    })\n\n                }, function(error) {\n                    showAlert.showMsg(error, '', '网络异常', '确认')\n                });\n            });\n            $scope.filterDate1 = $filter('date')(new Date(), \"yyyy-MM-dd\");\n            $scope.filterDate2 = $filter('date')(new Date(), \"yyyy-MM-dd\");\n            //日期控件\n            function dateList(tesr) {\n                var disabledDates = [];\n                var weekDaysList = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\n                var monthList = [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"];\n                var datePickerCallback = function(val) {};\n                $scope.datepickerObject = {\n                    titleLabel: 'Title', //Optional\n                    todayLabel: '今天', //Optionals\n                    closeLabel: '关闭', //Optional\n                    setLabel: '确认', //Optional\n                    setButtonType: 'button-assertive', //Optional\n                    todayButtonType: 'button-assertive', //Optional\n                    closeButtonType: 'button-assertive', //Optional\n                    mondayFirst: false, //Optional\n                    disabledDates: disabledDates, //Optional\n                    weekDaysList: weekDaysList, //Optional\n                    monthList: monthList, //Optional\n                    templateType: 'popup', //Optional\n                    showTodayButton: 'true', //Optional\n                    modalHeaderColor: 'bar-positive', //Optional\n                    modalFooterColor: 'bar-positive', //Optional\n                    from: new Date(2008, 8, 2), //可选\n                    to: new Date(2030, 8, 25), //可选\n                    inputDate: new Date(), //Optional\n                    callback: function(val) { //Mandatory\n                        if (tesr == 1) {\n                            $scope.filterDate1 = $filter('date')(val, \"yyyy-MM-dd\")\n                        } else if (tesr == 2) {\n                            $scope.filterDate2 = $filter('date')(val, \"yyyy-MM-dd\")\n                        } else if (tesr == 3) {\n                            $scope.filterDate3 = $filter('date')(val, \"yyyy-MM-dd\");\n                            var date1 = $scope.filterDate2;\n                            var date2 = $scope.filterDate3;\n\n                            function DateDiff(sDate1, sDate2) { //sDate1和sDate2是2006-12-18格式  \n                                var aDate, oDate1, oDate2, iDays\n                                aDate = sDate1.split(\"-\")\n                                oDate1 = new Date(aDate[1] + '-' + aDate[2] + '-' + aDate[0]) //转换为12-18-2006格式  \n                                aDate = sDate2.split(\"-\")\n                                oDate2 = new Date(aDate[1] + '-' + aDate[2] + '-' + aDate[0])\n                                iDays = parseInt(Math.abs(oDate1 - oDate2) / 1000 / 60 / 60 / 24) //把相差的毫秒数转换为天数  \n                                return iDays\n                            }\n                            $scope.DAYS = DateDiff(date1, date2) + 1;\n                        }\n                        datePickerCallback(val);\n                    },\n                    dateFormat: 'yyyy-MM-dd', //Optional\n                    closeOnSelect: false, //Optional\n                };\n            };\n            //开始结束日期\n            $scope.chooseTime = function(tesr) {\n                dateList(tesr)\n                ionicDatePicker.openDatePicker($scope.datepickerObject);\n                dateList(tesr)\n            };\n            //提交/保存\n            $scope.doApproval = function(num, param) {\n                var subParam = angular.copy(param);\n                subParam.APPLY_DATE = $scope.filterDate1;\n                subParam.BEGIN_DATE = $scope.filterDate2;\n                subParam.END_DATE = $scope.filterDate3;\n                subParam.DAYS = $scope.DAYS + '';\n                var dat1 = (new Date(subParam.END_DATE.replace(/-/g, '/'))).getTime();\n                var dat2 = (new Date(subParam.BEGIN_DATE.replace(/-/g, '/'))).getTime();\n                var dat3 = (new Date(subParam.APPLY_DATE.replace(/-/g, '/'))).getTime();\n                var dat = dat1 - dat2;\n                var dat4 = dat2 - dat3;\n                var dat = dat1 - dat2;\n                function reqSub() {\n                    $http.post('ServiceName=ApplyForLeaveService&TransName=doApplyForLeaveDetail', subParam)\n                        .then(function(res) {\n                            showAlert.showMsg(res, '', '网络异常', '确认');\n                            $state.go(\"LeavesList\");\n                        }, function(error) {\n                            showAlert.showMsg(error, '', '网络异常', '确认');\n                            $scope.hasMore = false;\n                        });\n                };\n                function resSub() {\n                    $http.post('ServiceName=ApplyForLeaveService&TransName=doApplyForLeaveDetail', subParam1)\n                        .then(function(res) {\n                            subParam.APPLY_NO = res.data.APPLY_NO;\n                            console.log(subParam);\n                            $http.post('ServiceName=ApplyForLeaveService&TransName=doApplyForLeaveDetail', subParam)\n                                .then(function(res) {\n                                    showAlert.showMsg(res, '', '网络异常', '确认');\n                                    $state.go(\"LeavesList\");\n                                }, function(error) {\n                                    showAlert.showMsg(error, '', '网络异常', '确认');\n                                    $scope.hasMore = false;\n                                });\n                        }, function(error) {\n                            showAlert.showMsg(error, '', '网络异常', '确认');\n                            $scope.hasMore = false;\n                        });\n                };\n                if (dat >= 0 && dat4 >= 0) {\n                    if ($stateParams.newParam.numTT == 1) {\n                        if (num == 1) {\n                            var subParam1 = angular.copy(subParam);\n                            subParam1.ACTION_TYPE = \"edit\";\n                            subParam.ACTION_TYPE = \"submit\";\n                            resSub();\n                        } else {\n                            subParam.ACTION_TYPE = \"edit\";\n                            reqSub();\n                        };\n                    } else {\n                        if (num == 1) {\n                            var subParam1 = angular.copy(subParam);\n                            subParam1.ACTION_TYPE = \"save\";\n                            subParam.ACTION_TYPE = \"submit\";\n                            resSub();\n                        } else {\n                            subParam.ACTION_TYPE = \"save\";\n                            reqSub();\n                        };\n                    };\n                } else {\n                    showAlert.showMsg(\"\", '', '请选择正确日期', '确认');\n                };\n            };\n            //返回\n            $scope.back = function() {\n                var confirmfalse = $ionicPopup.confirm({\n                    okText: '是',\n                    cancelText: '否',\n                    template: '确定返回？'\n                }).then(function(res) {\n                    if (res) {\n                        $ionicHistory.goBack();\n                    }\n                });\n            };\n            //回到首页\n            $scope.backHomePage = function() {\n                $state.go(\"tabs/homePage\");\n            };\n\n        }\n    ])","angular.module('BaiYin.newLeaves.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.VacationDetail', [\n        'BaiYin.VacationDetail.mock'\n    ])\n\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('VacationDetail', {\n            url: '/VacationDetail',\n            controller: 'VacationDetailController',\n            templateUrl: 'AllLeave/Vacation/VacationDetail/VacationDetail.tpl.html',\n            cache: 'true',\n            authorizedRuleType: ['1']\n        })\n    }])\n\n    .controller('VacationDetailController', ['$scope','$ionicHistory', 'pageInitService', '$stateParams', '$http', '$state', 'showAlert',\n        function($scope,$ionicHistory, pageInitService, $stateParams, $http, $state, showAlert) {\n            var vacParam = JSON.parse(sessionStorage.getItem(\"vacationParam\"));\n            $scope.$on('$ionicView.afterEnter', function() {\n                var apis = [\n                    'ServiceName=ApplyForBusinessTravelService&TransName=getApplyForBusinessTravelDetail&APPLY_NO=' + vacParam.APPLY_NO,\n                ];\n                pageInitService.pageInit(apis).then(function(result) {\n                    $scope.item = result[0].data;\n                    if (result[0].data.APPROVE_STATUS == \"未定义\"||result[0].data.APPROVE_STATUS == \"新建\") {\n                        $scope.submitL = true;\n                        $scope.editL = true;\n                        $scope.deleL = true;\n                    } else if (result[0].data.APPROVE_STATUS == \"审批通过\" || result[0].data.APPROVE_STATUS == \"审批中\") {\n                        $scope.backLeaveL = true;\n                    };\n                }, function(error) {\n                    showAlert.showMsg(error, '', '网络异常', '确认')\n                });\n            });\n            $scope.doRefresh = function() {\n                $http.get('ServiceName=ApplyForBusinessTravelService&TransName=getApplyForBusinessTravelDetail&APPLY_NO=' + vacParam.APPLY_NO)\n                    .then(function(res) {\n                        $scope.item = res.data;\n                        $scope.$broadcast('scroll.refreshComplete');\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            };\n            //提交\n            $scope.submit = function() {\n                $http.get('ServiceName=ApplyForBusinessTravelService&TransName=doApplyForBusinessTravelDetail&ACTION_TYPE=submit&APPLY_NO=' + vacParam.APPLY_NO)\n                    .then(function(res) {\n                        showAlert.showMsg(res, '', '提交成功', '确认');\n                        $ionicHistory.goBack();\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            };\n            //销假\n            $scope.backLeave = function() {\n                $http.get('ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveDetail&APPLY_NO=' + vacParam.APPLY_NO)\n                    .then(function(res) {\n                        showAlert.showMsg(res, '', '提交成功', '确认');\n                        $ionicHistory.goBack();\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            };\n            //编辑\n            $scope.edit = function(item) {\n                var editParam = item;\n                editParam.numTT = 1;\n                $state.go(\"newVacation\", { \"newParam\": editParam });\n            };\n            //删除\n            $scope.dele = function() {\n                $http.get('ServiceName=ApplyForLeaveService&TransName=getApplyForLeaveDetail&APPLY_NO=' + vacParam.APPLY_NO)\n                    .then(function(res) {\n                        showAlert.showMsg(res, '', '提交成功', '确认');\n                        $ionicHistory.goBack();\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            };\n        }\n    ])","angular.module('BaiYin.VacationDetail.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.VacationList', [\n        'BaiYin.VacationList.mock'\n    ])\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('VacationList', {\n            url: '/VacationList',\n            controller: 'VacationListController',\n            templateUrl: 'AllLeave/Vacation/VacationList/VacationList.tpl.html',\n            cache: 'false',\n            authorizedRuleType: ['1']\n        })\n    }])\n    .controller('VacationListController', ['$scope', '$ionicPopup', 'loadingAnimation', '$ionicLoading', 'ionicDatePicker', 'pageInitService', '$http', '$state', 'showAlert',\n        function($scope, $ionicPopup, loadingAnimation, $ionicLoading, ionicDatePicker, pageInitService, $http, $state, showAlert) {\n            $scope.$on('$ionicView.afterEnter', function() {\n                var apis = [\n                    'ServiceName=ApplyForBusinessTravelService&TransName=getApplyForBusinessTravelList&PageNo=1',\n                    'ServiceName=ApplyForBusinessTravelService&TransName=getApplyForBusinessTravelState'\n                ];\n                pageInitService.pageInit(apis).then(function(result) {\n                    $scope.items = result[0].data;\n                    $scope.item3s = result[1].data;\n                }, function(error) {\n                    showAlert.showMsg(error, '', '网络异常', '确认')\n                });\n            });\n            //刷新\n            $scope.doRefresh = function() {\n                $http.get('ServiceName=ApplyForBusinessTravelService&TransName=getApplyForBusinessTravelList&PageNo=1')\n                    .then(function(res) {\n                        $scope.items = res.data;\n                        $scope.$broadcast('scroll.refreshComplete');\n                        if (res.data.length == 12) {\n                            $scope.loadNumber = 1;\n                            $scope.hasMore = true;\n                        } else {\n                            $scope.hasMore = false;\n                        }\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                    })\n            };\n            //上拉加载\n            $scope.hasMore = true;\n            $scope.loadNumber = 1;\n            $scope.loadMore = function() {\n                $scope.loadNumber += 1;\n                $http.get('ServiceName=ApplyForBusinessTravelService&TransName=getApplyForBusinessTravelList&PageNo=' + $scope.loadNumber)\n                    .then(function(res) {\n                        if (res.data.length > 0) {\n                            for (var i = 0; i < res.data.length; i++) {\n                                $scope.items.push(res.data[i])\n                                $scope.$broadcast('scroll.infiniteScrollComplete');\n                            }\n                        } else if (res.data.length <= 0 || res.data == null || res.data == undefined) {\n                            $scope.hasMore = false;\n                            $scope.$broadcast('scroll.infiniteScrollComplete');\n                        }\n                    }, function(error) {\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n                        $scope.hasMore = false;\n                    })\n            };\n            //搜索按钮\n            $scope.showOrhide = function() {\n                $scope.trueStr = !$scope.trueStr;\n            };\n            //日期控件\n            function dateList(tesr) {\n                var disabledDates = [];\n                var weekDaysList = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\n                var monthList = [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"];\n                var datePickerCallback = function(val) {};\n                $scope.datepickerObject = {\n                    titleLabel: 'Title', //Optional\n                    todayLabel: '今天', //Optionals\n                    closeLabel: '关闭', //Optional\n                    setLabel: '确认', //Optional\n                    setButtonType: 'button-assertive', //Optional\n                    todayButtonType: 'button-assertive', //Optional\n                    closeButtonType: 'button-assertive', //Optional\n                    mondayFirst: false, //Optional\n                    disabledDates: disabledDates, //Optional\n                    weekDaysList: weekDaysList, //Optional\n                    monthList: monthList, //Optional\n                    templateType: 'popup', //Optional\n                    showTodayButton: 'true', //Optional\n                    modalHeaderColor: 'bar-positive', //Optional\n                    modalFooterColor: 'bar-positive', //Optional\n                    from: new Date(2008, 8, 2), //可选\n                    to: new Date(2030, 8, 25), //可选\n                    inputDate: new Date(), //Optional\n                    callback: function(val) { //Mandatory\n                        if (tesr == 1) {\n                            $scope.filterDate = val\n                        } else if (tesr == 2) {\n                            $scope.filterDate2 = val\n                        }\n                        datePickerCallback(val);\n                    },\n                    dateFormat: 'yyyy-MM-dd', //Optional\n                    closeOnSelect: false, //Optional\n                };\n            }\n            //开始结束日期\n            $scope.chooseTime = function(tesr) {\n                dateList(tesr)\n                ionicDatePicker.openDatePicker($scope.datepickerObject);\n                dateList(tesr)\n            };\n            //搜索\n            $scope.allChoose = function(res, req) {\n                if (!$scope.filterDate) {\n                    $scope.filterDate = \"\";\n                };\n                if (!$scope.filterDate2) {\n                    $scope.filterDate2 = \"\"\n                };\n                loadingAnimation.showLoading();\n                $scope.trueStr = false;\n                var subParam = {\n                    START_CREATED_DATE: $scope.filterDate + '',\n                    END_CREATED_DATE: $scope.filterDate2 + '',\n                    STATE: res,\n                    APPLY_DESC: req\n                };\n                $http.post('ServiceName=ApplyForBusinessTravelService&TransName=getApplyForBusinessTravelList&PageNo=1', subParam)\n                    .then(function(res) {\n                        $ionicLoading.hide();\n                        $scope.items = res.data;\n                        if (res.data.length == 0) {\n                            var alertPopup = $ionicPopup.alert({\n                                okText: '确认',\n                                template: '暂无数据'\n                            })\n                        }\n                        $scope.$broadcast('scroll.refreshComplete');\n                        if (res.data.length == 12) {\n                            $scope.loadNumber = 1;\n                            $scope.hasMore = true;\n                        } else {\n                            $scope.hasMore = false;\n                        }\n                    }, function(error) {\n                        $ionicLoading.hide();\n                        showAlert.showMsg(error, '', '网络异常', '确认')\n\n                    })\n            };\n            //新增\n            $scope.newVacation=function(){\n                $state.go(\"newVacation\",{\"newParam\":2})\n            };\n            //详情\n            $scope.leavesDetail = function(res) {\n                $state.go(\"VacationDetail\");\n                sessionStorage.setItem(\"vacationParam\",JSON.stringify(res));\n            };\n            //清空\n            $scope.listAll = function() {\n                $scope.filterDate = \"\"\n                $scope.filterDate2 = \"\"\n            };\n        }\n    ])","angular.module('BaiYin.VacationList.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.attence.countAttence.cdDetail', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/countAttence/cdDetail', {\r\n            url: '/attence/countAttence/cdDetail',\r\n            controller: 'cdDetailController',\r\n            templateUrl: 'attence/countAttence/cdDetail/cdDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('cdDetailController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state',\r\n\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state) {\r\n            $scope.$on('$ionicView.enter', function () {\r\n\r\n            });\r\n        }\r\n    ])\r\n","angular.module('BaiYin.attence.countAttence.cdList', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/countAttence/cdList', {\r\n            url: '/attence/countAttence/cdList',\r\n            controller: 'cdListController',\r\n            templateUrl: 'attence/countAttence/cdList/cdList.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {dateTimeShow: null, personNum: null, partCode: null, partName: null}\r\n        })\r\n    }])\r\n    .controller('cdListController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$stateParams',\r\n\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state, $stateParams) {\r\n            $scope.$on('$ionicView.enter', function () {\r\n                if(!localStorage.getItem(\"ATTENDENCE_FLG\")){\r\n                    console.log(\"3333\");\r\n                    $scope.dateTimeShow = $stateParams.dateTimeShow;\r\n                    $scope.personNum = $stateParams.personNum;\r\n                    $scope.partCode = $stateParams.partCode;\r\n                    $scope.partName = $stateParams.partName;\r\n                    console.log(\"partName==\" + $scope.partName + \"/personNum==\" + $scope.personNum);\r\n                    localStorage.setItem(\"dateTimeShow\",$stateParams.dateTimeShow);\r\n                    localStorage.setItem(\"personNum\",$stateParams.personNum);\r\n                    localStorage.setItem(\"partCode\",$stateParams.partCode);\r\n                    localStorage.setItem(\"partName\",$stateParams.partName);\r\n                }else{\r\n                    $scope.dateTimeShow = localStorage.getItem(\"dateTimeShow\");\r\n                    $scope.personNum = localStorage.getItem(\"personNum\");\r\n                    $scope.partCode = localStorage.getItem(\"partCode\");\r\n                    $scope.partName = localStorage.getItem(\"partName\");\r\n                }\r\n                //获取迟到人员列表\r\n                cdPersonList($scope.dateTimeShow, $scope.partCode);\r\n                localStorage.removeItem(\"ATTENDENCE_FLG\");\r\n            });\r\n\r\n            function cdPersonList(mounth, dept) {\r\n                console.log(\"mounth==\" + mounth + \"/dept==\" + dept);\r\n                var parmas = {\r\n                    QUERY_MONTH: mounth,\r\n                    DEPT: dept,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendStatisticsService&TransName=monthStatisticsLate', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.cdList = res.data.tList;\r\n                            console.log(\"cdList.length==\" + $scope.cdList.length);\r\n                            console.log(\"cdList===\"+JSON.stringify($scope.cdList));\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            $scope.towdkDetail = function (obj) {\r\n                localStorage.setItem(\"ATTENDENCE_FLG\",\"1\");\r\n                console.log(\"dateTimeShow==\" + $scope.dateTimeShow + \"/obj==\" + JSON.stringify(obj));\r\n                $scope.PERSON_ID = obj.PERSON_ID;\r\n                $scope.personName = obj.PERSON_NAME;\r\n                $scope.count = obj.COUNT;\r\n                var item = {\r\n                    PERSON_ID: $scope.PERSON_ID,\r\n                    QUERY_MONTH: $scope.dateTimeShow,\r\n                    personName: $scope.personName,\r\n                    count: $scope.count,\r\n                }\r\n                $state.go('attence/countAttence/wdkDetail', item);\r\n            }\r\n        }\r\n    ])\r\n","angular.module('BaiYin.attence.countAttence.wdkDetail', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/countAttence/wdkDetail', {\r\n            url: '/attence/countAttence/wdkDetail',\r\n            controller: 'wdkDetailController',\r\n            templateUrl: 'attence/countAttence/wdkDetail/wdkDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {PERSON_ID: null, QUERY_MONTH: null, personName: null, count: null}\r\n        })\r\n    }])\r\n    .controller('wdkDetailController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$stateParams', '$ionicPopup','$filter',\r\n\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state, $stateParams, $ionicPopup,$filter) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                //获取统计页面传来人员id和查询月份\r\n                $scope.dateTimeShow = $stateParams.QUERY_MONTH;\r\n                $scope.personNo = $stateParams.PERSON_ID;\r\n                $scope.personName = $stateParams.personName;\r\n                $scope.count = $stateParams.count;\r\n                console.log(\"dateTimeShow==\" + $scope.dateTimeShow + \"personNo==\" + $scope.personNo);\r\n                wdkPersonList($scope.dateTimeShow, $scope.personNo);\r\n            });\r\n\r\n            //获取未打卡人员详情列表\r\n            function wdkPersonList(mounth, personNo) {\r\n                var parmas = {\r\n                    QUERY_MONTH: mounth,\r\n                    PERSON_ID: personNo,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendStatisticsService&TransName=monthStatisticsPerson', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.wdkPersonList = new Array();\r\n                            res.data.dList.forEach(function(v, i){\r\n                                var date = [v.year, v.month, v.date].join(\"-\");\r\n                                $scope.wdkPersonList.push({\r\n                                    dates: date,\r\n                                    year: v.year,\r\n                                    month: v.month,\r\n                                    date: v.date,\r\n                                    week: v.week,\r\n                                    list: res.data.dvalue[date].map(function(v, i){\r\n                                        if(v.actualStartTime==null){\r\n                                            v.actualStartTime=''\r\n                                        }else{\r\n                                            v.actualStartTime=v.actualStartTime.substr(11,5)\r\n                                        }\r\n                                        if(v.actualEndTime==null){\r\n                                            v.actualEndTime=''\r\n                                        }else{\r\n                                            v.actualEndTime=v.actualEndTime.substr(11,5)\r\n                                        }\r\n                                        return v;\r\n                                    })\r\n                                });\r\n                            });\r\n\r\n                            console.log($scope.wdkPersonList)\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            //获取打卡位置\r\n            $scope.toPositions = function (obj) {\r\n                console.log(\"obj==\" + JSON.stringify(obj));\r\n                $scope.data = {}\r\n                // 自定义弹窗\r\n                if (obj.checkInAddr != null && obj.checkOutAddr != null) {\r\n                    var myPopup = $ionicPopup.show({\r\n                        template: '<div class=\"dkposition\"><ul><li ng-style=\"myPopupLi\">上班打卡位置：' + obj.checkInAddr + '</li>' +\r\n                        '<li ng-style=\"myPopuplastLi\">下班打卡位置：' + obj.checkOutAddr + '</li></ul></div>',\r\n                        title: '打卡位置',\r\n                        scope: $scope,\r\n                    });\r\n                    myPopup.then(function (res) {\r\n                        console.log('Tapped!', res);\r\n                    });\r\n                    $timeout(function () {\r\n                        myPopup.close(); // 2秒后关闭弹窗\r\n                    }, 2000);\r\n                    $scope.myPopupLi = {\r\n                        \"line-height\": \"35px\",\r\n                        \"font-size\": \"12px\",\r\n                        \"text-align\": \"center\",\r\n                        \"border-bottom\": \"1px dotted #f4f4f4\",\r\n                    }\r\n                    $scope.myPopuplastLi = {\r\n                        \"line-height\": \"35px\",\r\n                        \"font-size\": \"12px\",\r\n                        \"text-align\": \"center\",\r\n                    }\r\n                }\r\n            };\r\n\r\n            //改变时间\r\n            $scope.changeDateTime = function(changeNumber){\r\n                var date = $scope.dateTimeShow.split(\"-\");\r\n                date[1] = parseInt(date[1]) + changeNumber;\r\n                if(date[1] < 1){\r\n                    date[0] -= 1;\r\n                    date[1] = 12 - date[1];\r\n                }else if(date[1] > 12){\r\n                    date[0] = parseInt(date[0]) + 1;\r\n                    date[1] = date[1] - 12;\r\n                }\r\n                if(date[1] < 10){\r\n                    date[1] = \"0\" + date[1];\r\n                }\r\n                date = date.join('-');\r\n                if(new Date(date).getTime() < new Date().getTime()){\r\n                    $scope.dateTimeShow = date;\r\n                    wdkPersonList($scope.dateTimeShow, $scope.personNo);\r\n                }\r\n            };\r\n        }\r\n    ])\r\n","angular.module('BaiYin.attence.countAttence.wdkList', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/countAttence/wdkList', {\r\n            url: '/attence/countAttence/wdkList',\r\n            controller: 'wdkListController',\r\n            templateUrl: 'attence/countAttence/wdkList/wdkList.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {dateTimeShow: null, personNum: null, partCode: null, partName: null}\r\n        })\r\n    }])\r\n    .controller('wdkListController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$stateParams',\r\n\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state, $stateParams) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                //获取统计页面传来的日期和人数\r\n                if(!localStorage.getItem(\"ATTENDENCE_FLG\")){\r\n                    console.log(\"3333\");\r\n                    $scope.dateTimeShow = $stateParams.dateTimeShow;\r\n                    $scope.personNum = $stateParams.personNum;\r\n                    $scope.partCode = $stateParams.partCode;\r\n                    $scope.partName = $stateParams.partName;\r\n                    console.log(\"partName==\" + $scope.partName + \"/personNum==\" + $scope.personNum);\r\n                    localStorage.setItem(\"dateTimeShow\",$stateParams.dateTimeShow);\r\n                    localStorage.setItem(\"personNum\",$stateParams.personNum);\r\n                    localStorage.setItem(\"partCode\",$stateParams.partCode);\r\n                    localStorage.setItem(\"partName\",$stateParams.partName);\r\n                }else{\r\n                    $scope.dateTimeShow = localStorage.getItem(\"dateTimeShow\");\r\n                    $scope.personNum = localStorage.getItem(\"personNum\");\r\n                    $scope.partCode = localStorage.getItem(\"partCode\");\r\n                    $scope.partName = localStorage.getItem(\"partName\");\r\n                }\r\n\r\n                //获取未打卡人员列表\r\n                wdkPersonList($scope.dateTimeShow, $scope.partCode);\r\n                localStorage.removeItem(\"ATTENDENCE_FLG\");\r\n\r\n            });\r\n\r\n            function wdkPersonList(mounth, dept) {\r\n                console.log(\"mounth==\" + mounth + \"/dept==\" + dept);\r\n                var parmas = {\r\n                    QUERY_MONTH: mounth,\r\n                    DEPT: dept,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendStatisticsService&TransName=monthStatisticsUnclock', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.wdkList = res.data.tList;\r\n                            console.log(\"wdkList.length==\" + $scope.wdkList.length);\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n\r\n            $scope.towdkDetail = function (obj) {\r\n                localStorage.setItem(\"ATTENDENCE_FLG\",\"1\");\r\n                console.log(\"dateTimeShow==\" + $scope.dateTimeShow + \"/obj==\" + JSON.stringify(obj));\r\n                $scope.PERSON_ID = obj.PERSON_ID;\r\n                $scope.personName = obj.PERSON_NAME;\r\n                $scope.count = obj.COUNT;\r\n                var item = {\r\n                    PERSON_ID: $scope.PERSON_ID,\r\n                    QUERY_MONTH: $scope.dateTimeShow,\r\n                    personName: $scope.personName,\r\n                    count: $scope.count,\r\n                }\r\n                $state.go('attence/countAttence/wdkDetail', item);\r\n            }\r\n        }\r\n    ])\r\n","angular.module('BaiYin.attence.countAttence.zcList', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/countAttence/zcList', {\r\n            url: '/attence/countAttence/zcList',\r\n            controller: 'zcListController',\r\n            templateUrl: 'attence/countAttence/zcList/zcList.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {dateTimeShow: null, personNum: null, partCode: null, partName: null}\r\n        })\r\n    }])\r\n    .controller('zcListController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$stateParams',\r\n\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state, $stateParams) {\r\n            $scope.$on('$ionicView.enter', function () {\r\n                if(!localStorage.getItem(\"ATTENDENCE_FLG\")){\r\n                    console.log(\"3333\");\r\n                    $scope.dateTimeShow = $stateParams.dateTimeShow;\r\n                    $scope.personNum = $stateParams.personNum;\r\n                    $scope.partCode = $stateParams.partCode;\r\n                    $scope.partName = $stateParams.partName;\r\n                    console.log(\"partName==\" + $scope.partName + \"/personNum==\" + $scope.personNum);\r\n                    localStorage.setItem(\"dateTimeShow\",$stateParams.dateTimeShow);\r\n                    localStorage.setItem(\"personNum\",$stateParams.personNum);\r\n                    localStorage.setItem(\"partCode\",$stateParams.partCode);\r\n                    localStorage.setItem(\"partName\",$stateParams.partName);\r\n                }else{\r\n                    $scope.dateTimeShow = localStorage.getItem(\"dateTimeShow\");\r\n                    $scope.personNum = localStorage.getItem(\"personNum\");\r\n                    $scope.partCode = localStorage.getItem(\"partCode\");\r\n                    $scope.partName = localStorage.getItem(\"partName\");\r\n                }\r\n                //获取正常人员列表\r\n                ztPersonList($scope.dateTimeShow, $scope.partCode);\r\n                localStorage.removeItem(\"ATTENDENCE_FLG\");\r\n            });\r\n            function ztPersonList(mounth, dept) {\r\n                console.log(\"正常李彪\");\r\n                console.log(\"mounth==\" + mounth + \"/dept==\" + dept);\r\n                var parmas = {\r\n                    QUERY_MONTH: mounth,\r\n                    DEPT: dept,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendStatisticsService&TransName=monthStatisticsNormal', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.zcList = res.data.tList;\r\n                            console.log(\"zcList.length==\" + $scope.zcList.length);\r\n                            console.log(\"zcList===\"+JSON.stringify($scope.zcList));\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n            $scope.towdDetail = function (obj) {\r\n                localStorage.setItem(\"ATTENDENCE_FLG\",\"1\");\r\n                console.log(\"dateTimeShow==\" + $scope.dateTimeShow + \"/obj==\" + JSON.stringify(obj));\r\n                $scope.PERSON_ID = obj.PERSON_ID;\r\n                $scope.personName = obj.PERSON_NAME;\r\n                $scope.count = obj.COUNT;\r\n                var item = {\r\n                    PERSON_ID: $scope.PERSON_ID,\r\n                    QUERY_MONTH: $scope.dateTimeShow,\r\n                    personName: $scope.personName,\r\n                    count: $scope.count,\r\n                }\r\n                $state.go('attence/countAttence/wdkDetail', item);\r\n            }\r\n                //$state.go('attence/countAttence/ztDetail');\r\n        }\r\n    ])\r\n","angular.module('BaiYin.attence.countAttence.ztDetail', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/countAttence/ztDetail', {\r\n            url: '/attence/countAttence/ztDetail',\r\n            controller: 'ztDetailController',\r\n            templateUrl: 'attence/countAttence/ztDetail/ztDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n    .controller('ztDetailController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state',\r\n\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state) {\r\n            $scope.$on('$ionicView.enter', function () {\r\n\r\n            });\r\n        }\r\n    ])\r\n","angular.module('BaiYin.attence.countAttence.ztList', [\r\n    'ionic'\r\n])\r\n\r\n    .config(['$stateProvider', 'ionicDatePickerProvider', function ($stateProvider, ionicDatePickerProvider) {\r\n        $stateProvider.state('attence/countAttence/ztList', {\r\n            url: '/attence/countAttence/ztList',\r\n            controller: 'ztListController',\r\n            templateUrl: 'attence/countAttence/ztList/ztList.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {dateTimeShow: null, personNum: null, partCode: null, partName: null}\r\n        })\r\n    }])\r\n    .controller('ztListController', ['$timeout', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$stateParams',\r\n\r\n        function ($timeout, $scope, showAlert, loadingAnimation, $http, $state, $stateParams) {\r\n            $scope.$on('$ionicView.enter', function () {\r\n                if(!localStorage.getItem(\"ATTENDENCE_FLG\")){\r\n                    console.log(\"3333\");\r\n                    $scope.dateTimeShow = $stateParams.dateTimeShow;\r\n                    $scope.personNum = $stateParams.personNum;\r\n                    $scope.partCode = $stateParams.partCode;\r\n                    $scope.partName = $stateParams.partName;\r\n                    console.log(\"partName==\" + $scope.partName + \"/personNum==\" + $scope.personNum);\r\n                    localStorage.setItem(\"dateTimeShow\",$stateParams.dateTimeShow);\r\n                    localStorage.setItem(\"personNum\",$stateParams.personNum);\r\n                    localStorage.setItem(\"partCode\",$stateParams.partCode);\r\n                    localStorage.setItem(\"partName\",$stateParams.partName);\r\n                }else{\r\n                    $scope.dateTimeShow = localStorage.getItem(\"dateTimeShow\");\r\n                    $scope.personNum = localStorage.getItem(\"personNum\");\r\n                    $scope.partCode = localStorage.getItem(\"partCode\");\r\n                    $scope.partName = localStorage.getItem(\"partName\");\r\n                }\r\n                //获取早退人员列表\r\n                ztPersonList($scope.dateTimeShow, $scope.partCode);\r\n                localStorage.removeItem(\"ATTENDENCE_FLG\");\r\n            });\r\n            function ztPersonList(mounth, dept) {\r\n                console.log(\"mounth==\" + mounth + \"/dept==\" + dept);\r\n                var parmas = {\r\n                    QUERY_MONTH: mounth,\r\n                    DEPT: dept,\r\n                }\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.post('ServiceName=AttendStatisticsService&TransName=monthStatisticsEarly', parmas)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.ztList = res.data.tList;\r\n                            console.log(\"ztList.length==\" + $scope.ztList.length);\r\n                            console.log(\"ztList===\"+JSON.stringify($scope.ztList));\r\n                        } else {\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            }\r\n            $scope.towdDetail = function (obj) {\r\n                localStorage.setItem(\"ATTENDENCE_FLG\",\"1\");\r\n                console.log(\"dateTimeShow==\" + $scope.dateTimeShow + \"/obj==\" + JSON.stringify(obj));\r\n                $scope.PERSON_ID = obj.PERSON_ID;\r\n                $scope.personName = obj.PERSON_NAME;\r\n                $scope.count = obj.COUNT;\r\n                var item = {\r\n                    PERSON_ID: $scope.PERSON_ID,\r\n                    QUERY_MONTH: $scope.dateTimeShow,\r\n                    personName: $scope.personName,\r\n                    count: $scope.count,\r\n                }\r\n                $state.go('attence/countAttence/wdkDetail', item);\r\n            }\r\n                //$state.go('attence/countAttence/ztDetail');\r\n        }\r\n    ])\r\n","angular\r\n    .module('BaiYin.erp.selectUser', [\r\n        'ionic'\r\n    ])\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('erpSelectUser', {\r\n            url: '/erp/select/user',\r\n            controller: 'erpSelectUserController',\r\n            templateUrl: 'erp/select/user/user.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: { item: null }\r\n        })\r\n    }])\r\n    .controller('erpSelectUserController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', 'ionicDatePicker',\r\n        function ($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, ionicDatePicker) {\r\n            //进入页面\r\n            $scope.$on('$ionicView.enter', function () {\r\n                console.log(\"进入人员选择页面\");\r\n            });\r\n            //选择下一步联系人\r\n            $scope.selectUser = function(){\r\n                history.go(-2);\r\n            };\r\n        }\r\n    ]);","angular.module('BaiYin.pm.defectFill.adddefectFill', [\r\n    'ionic',\r\n    'ngCordova',\r\n    'base64',\r\n])\r\n    .run(function ($ionicPlatform) {\r\n        $ionicPlatform.ready(function () {\r\n            // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard\r\n            // for form inputs)\r\n            if (window.cordova && window.cordova.plugins.Keyboard) {\r\n                //cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\r\n                cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\r\n                cordova.plugins.Keyboard.disableScroll(true);\r\n            }\r\n            if (window.StatusBar) {\r\n                StatusBar.styleDefault();\r\n            }\r\n        });\r\n    })\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('pm/defectFill/adddefectFill', {\r\n            url: '/pm/defectFill/adddefectFill',\r\n            controller: 'adddefectFillController',\r\n            templateUrl: 'pm/defectFill/adddefectFill/adddefectFill.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n\r\n    .controller('adddefectFillController', ['$scope', '$ionicActionSheet', 'showAlert', '$http', '$state', 'loadingAnimation', '$cordovaBarcodeScanner', 'pageInitService', '$ionicScrollDelegate', '$ionicSlideBoxDelegate', '$cordovaCamera', '$cordovaImagePicker', '$log', '$base64',\r\n        function ($scope, $ionicActionSheet, showAlert, $http, $state, loadingAnimation, $cordovaBarcodeScanner, pageInitService, $ionicScrollDelegate, $ionicSlideBoxDelegate, $cordovaCamera, $cordovaImagePicker, $log, $base64) {\r\n            var mydate = new Date();\r\n            var month = mydate.getMonth() + 1;\r\n            $scope.UserName = token.UserName;\r\n            $scope.DEPT_NAME = token.DeptName;\r\n            $scope.CONTRACT_NAME = token.ContractName;\r\n            $scope.nowDate = mydate.getFullYear() + '-' + month + '-' + mydate.getDate();\r\n            //查询 状态，分类，专业\r\n            $scope.sbzt = [];\r\n            $scope.qxfl = [];\r\n            $scope.qxzy = [];\r\n            $scope.sbztObj = {};\r\n            $scope.qxzyObj = {};\r\n            $scope.bmlist = [];\r\n            $scope.xxlist = [];\r\n            $scope.images_list = [];\r\n            $scope.images_update = [];\r\n            $scope.image = {     //用于绑定提交内容，图片或其他数据\r\n            };\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                $ionicScrollDelegate.scrollTop()\r\n                $ionicSlideBoxDelegate.next();\r\n            });\r\n            var sbztValue, qxflValue, qxzyValue;\r\n            $http.get(\"ServiceName=DefectManageService&TransName=listCustLovConf\")\r\n                .then(function (result) {\r\n                    loadingAnimation.hideLoading();\r\n                    $scope.zt = result.data.ztList;\r\n                    $scope.fl = result.data.flList;\r\n                    $scope.zy = result.data.zyList;\r\n                    console.log(\"zt==\" + JSON.stringify($scope.zt));\r\n                    console.log(\"fl==\" + JSON.stringify($scope.fl));\r\n                    console.log(\"zy==\" + JSON.stringify($scope.zy));\r\n\r\n                    /*for(z in $scope.zt.length){\r\n                        $scope.sbztObj.text = $scope.zt[z].LOV_VALUE;\r\n                        console.log('ztObj=='+JSON.stringify($scope.sbztObj));\r\n                        $scope.sbzt.push($scope.sbztObj);\r\n                    }*/\r\n                    for (var i = 0; i < $scope.zt.length; i++) {\r\n                        var dtext = {};\r\n                        dtext.text = $scope.zt[i].LOV_VALUE;\r\n                        $scope.sbzt.push(dtext);\r\n                    }\r\n                    for (var i = 0; i < $scope.fl.length; i++) {\r\n                        var dtext = {};\r\n                        dtext.text = $scope.fl[i].LOV_VALUE;\r\n                        $scope.qxfl.push(dtext);\r\n                    }\r\n                    for (var i = 0; i < $scope.fl.length; i++) {\r\n                        var dtext = {};\r\n                        dtext.text = $scope.zy[i].LOV_VALUE;\r\n                        $scope.qxzy.push(dtext);\r\n                    }\r\n                }, function (error) {\r\n                    loadingAnimation.hideLoading();\r\n                    showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                })\r\n\r\n            //设备状态\r\n            $scope.toSbzt = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: $scope.sbzt,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        sbztValue = $scope.sbzt[index].text;\r\n                        console.log(\"sbztValue=\" + sbztValue);\r\n                        $(\"#sbztid\").val(sbztValue);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            //缺陷分类\r\n            $scope.toQxfl = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: $scope.qxfl,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        qxflValue = $scope.qxfl[index].text;\r\n                        console.log(\"qxflValue=\" + qxflValue);\r\n                        $(\"#qxflid\").val(qxflValue);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            //缺陷专业\r\n            $scope.toQxzy = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: $scope.qxzy,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        qxzyValue = $scope.qxzy[index].text;\r\n                        $(\"#qxzyid\").val(qxzyValue);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            //右滑设备名称\r\n            $scope.selectSb = function () {\r\n                $(\".bg\").show();\r\n                $(\".sliderightShow\").show('slow');\r\n                $(\".sliderightShow\").css(\"display\", \"inline-block\");\r\n                $(\".sliderightShow\").css(\"width\", \"95%\");\r\n                $(\".sliderightShow\").css(\"right\", \"0\");\r\n                $(\".sliderightShow\").css(\"top\", \"-10px\");\r\n                $(\".sliderightShow\").css(\"position\", \"absolute\");\r\n                $(\".sliderightShow\").css(\"z-index\", \"999999\");\r\n            }\r\n            //扫描二维码\r\n            $scope.scanStart = function () {\r\n                $cordovaBarcodeScanner.scan()\r\n                    .then(function (barcodeData) {\r\n                        $scope.barcodeData = barcodeData.text;\r\n                        var sbxx = $scope.barcodeData.split(',');\r\n                        //设备编码和设备名称\r\n                        $(\"#sbcodeid\").val(sbxx[0]);\r\n                        $(\"#sbmcValue\").val(sbxx[1]);\r\n                        // showAlert.showMsg('', '', \"barcodeData==\" + $scope.barcodeData);\r\n                    }, function (error) {\r\n                        console.log(\"ERROR:\" + error);\r\n                    });\r\n\r\n            };\r\n\r\n            //设备名称和编码查询\r\n            $scope.searchSblist = function () {\r\n                $(\".sblist\").show();\r\n                refreshMsg();\r\n            }\r\n            $scope.number = 1;\r\n            $scope.hasMore = false;\r\n            $scope.loadMore = function () {\r\n                console.log(\"hasMore==\" + $scope.number);\r\n                $scope.number += 1;\r\n                var parms={\r\n                    MCH_NAME:$(\"#sbmcid\").val(),\r\n                    MCH_CODE:$(\"#sbbmid\").val()\r\n                }\r\n                $http.post('ServiceName=DefectManageService&TransName=listEquipmentFunctionalUiv&PageCnt=10&PageNo=' + $scope.number,parms)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        console.log(\"res===\" + JSON.stringify(res.data))\r\n                        $scope.sbxx1 = res.data.hList;\r\n                        for (var i = 0; i < $scope.sbxx1.length; i++) {\r\n                            $scope.sbxx.push($scope.sbxx1[i]);\r\n                        }\r\n                        if ($scope.sbxx1.length <10) {\r\n                            $scope.hasMore = false;\r\n                        }\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete')\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n\r\n            //加载\r\n            function refreshMsg() {\r\n                console.log(\"hasMore==\" + $scope.hasMore);\r\n                loadingAnimation.showLoading('加载中...', 'loding', 0);\r\n                var params = {\r\n                    PageNo: '' + 1,\r\n                    PageCnt: '' + 10,\r\n                    MCH_CODE: $(\"#sbbmid\").val(),\r\n                    MCH_NAME: $(\"#sbmcid\").val()\r\n                };\r\n                $http.post('ServiceName=DefectManageService&TransName=listEquipmentFunctionalUiv', params)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.sbxx = res.data.hList;\r\n                        $(\".sblist\").show();\r\n                        console.log(\"hListlengtn==\" + res.data.hList.length);\r\n                        if (res.data.hList.length >= 10) {\r\n                            $scope.hasMore = true;\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\r\n            };\r\n            //获取设备名称\r\n            $scope.toSbmx = function (sbmx) {\r\n                $(\".sliderightShow\").hide('slow');\r\n                $(\".bg\").hide('slow');\r\n                $scope.sbxx = [];\r\n                $scope.hasMore = false;\r\n                var sbmxValue = sbmx.MCH_NAME;\r\n                var sbmxCode = sbmx.MCH_CODE;\r\n                console.log(\"sbmx==\" + sbmxValue);\r\n                $(\"#sbmcValue\").val(sbmxValue);\r\n                $(\"#sbcodeid\").val(sbmxCode);\r\n            }\r\n            //执行部门查询\r\n            $http.get(\"ServiceName=DefectManageService&TransName=listOrgCodeAllowedSiteLov\")\r\n                .then(function (result) {\r\n                    $scope.bm = result.data.hList;\r\n                    for (var i = 0; i < $scope.bm.length; i++) {\r\n                        var dtext = {};\r\n                        dtext.text = $scope.bm[i].DESCRIPTION;\r\n                        dtext.code = $scope.bm[i].ORG_CODE;\r\n                        $scope.bmlist.push(dtext);\r\n                    }\r\n                }, function (error) {\r\n                    showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                })\r\n            //执行部门\r\n            var zxbmValue, zxbmCode;\r\n            $scope.toZxbm = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: $scope.bmlist,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        zxbmValue = $scope.bmlist[index].text;\r\n                        zxbmCode = $scope.bmlist[index].code;\r\n                        $(\"#zxbmid\").val(zxbmValue);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            //现象查询\r\n            $http.get(\"ServiceName=DefectManageService&TransName=listWorkOrderSymptCode\")\r\n                .then(function (result) {\r\n                    $scope.xx = result.data.hList;\r\n                    for (var i = 0; i < $scope.xx.length; i++) {\r\n                        var dtext = {};\r\n                        dtext.text = $scope.xx[i].DESCRIPTION;\r\n                        dtext.code = $scope.xx[i].ERR_SYMPTOM;\r\n                        $scope.xxlist.push(dtext);\r\n                    }\r\n                }, function (error) {\r\n                    showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                })\r\n            //现象选择\r\n            var xxValue, xxCode;\r\n            $scope.toXianx = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: $scope.xxlist,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        xxValue = $scope.xxlist[index].text;\r\n                        xxCode = $scope.xxlist[index].code;\r\n                        $(\"#xianxid\").val(xxValue);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            //上传图片文件\r\n            $scope.toUploadImg = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: [\r\n                        {text: '拍照'},\r\n                        {text: '从手机相册选择'}\r\n                    ],\r\n                    cancelText: '取消',\r\n                    cancel: function () {\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        console.log(index);\r\n                        if (index == '0') {\r\n                            $scope.camera();\r\n\r\n                        } else if (index == '1') {\r\n                            $scope.tokePhoto();\r\n                        }\r\n                        return true;\r\n                    }\r\n                })\r\n\r\n            };\r\n            //删除图片\r\n            $scope.img_del = function (key) {    //删除，删除的时候images_list和form里面的图片数据都要删除，避免提交不必要的\r\n                var guidArr = [];\r\n                for (var p in $scope.images_list) {\r\n                    guidArr.push(p);\r\n                }\r\n                $scope.images_list.splice(guidArr[key], 1);\r\n                $scope.images_update.splice(guidArr[key], 1);\r\n\r\n            };\r\n            //隐藏搜索设备编码和名称框\r\n            $scope.hideSearch = function () {\r\n                $(\".sliderightShow\").hide();\r\n                $(\".bg\").hide();\r\n            }\r\n            $scope.reader = new FileReader();  //创建一个FileReader接口\r\n            //图片转为数据流\r\n            $scope.imgTransform = function () {\r\n                /*if ($scope.images_list.length > 0) {*/\r\n                $scope.images_update[0] = $scope.images_update[0] == undefined ? '' : $scope.images_update[0];\r\n                $scope.images_update[1] = $scope.images_update[1] == undefined ? '' : $scope.images_update[1];\r\n                $scope.images_update[2] = $scope.images_update[2] == undefined ? '' : $scope.images_update[2];\r\n                //}\r\n            };\r\n            //提交验证\r\n            $scope.validateComfirm = function () {\r\n                if($(\"#ERR_DESCR\").val() == ''){\r\n                    showAlert.showMsg('','','请输入缺陷名称');\r\n                    return false;\r\n                }\r\n                if($(\"#sbztid\").val() == ''){\r\n                    showAlert.showMsg('','','请选择设备状态');\r\n                    return false;\r\n                }\r\n                if($(\"#qxflid\").val() == ''){\r\n                    showAlert.showMsg('','','请选择缺陷分类');\r\n                    return false;\r\n                }\r\n                if($(\"#qxzyid\").val() == ''){\r\n                    showAlert.showMsg('','','请选择缺陷专业');\r\n                    return false;\r\n                }\r\n                if($(\"#sbcodeid\").val() == ''){\r\n                    showAlert.showMsg('','','请扫描设备');\r\n                    return false;\r\n                }\r\n                /*if($(\"#sbmcValue\").val() == ''){\r\n                    showAlert.showMsg('','','请选择设备');\r\n                    return false;\r\n                }*/\r\n                if($(\"#zxbmid\").val() == ''){\r\n                    showAlert.showMsg('','','请选择设备部门');\r\n                    return false;\r\n                }\r\n                if($(\"#xianxid\").val() == ''){\r\n                    showAlert.showMsg('','','请选择现象');\r\n                    return false;\r\n                }\r\n                if($(\"#qxmsid\").val() == ''){\r\n                    showAlert.showMsg('','','请输入缺陷描述');\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n            //提交缺陷\r\n            $scope.commitdefectfill = function () {//提交新缺陷\r\n                if ($scope.validateComfirm()) {\r\n                    var fList = $scope.images_list;\r\n                    var fileName = '';\r\n                    if (fList.length > 0) {\r\n                        fileName = \"hasFile\";\r\n                    }\r\n                    $scope.imgTransform();\r\n                    loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                    var params = {\r\n                        ERR_DESCR: $(\"#ERR_DESCR\").val(),//缺陷名称\r\n                        SYSTEM_STATUS: $(\"#sbztid\").val(),//设备状态\r\n                        QX_TYPE: $(\"#qxflid\").val(),//缺陷分类\r\n                        FAULT_DEPARTMENT: $(\"#qxzyid\").val(),//缺陷专业\r\n                        MCH_CODE: $(\"#sbcodeid\").val(),//设备编号\r\n                        ORG_CODE: zxbmCode,//执行部门\r\n                        ERR_SYMPTOM: xxCode,//现象\r\n                        ERR_DESCR_LO: $(\"#qxmsid\").val(),//缺陷描述\r\n                        FILE_NAME: fileName,//图片流文件\r\n                        FILE0: $scope.images_update[0].replace(/=/g, '!fs!'),\r\n                        FILE1: $scope.images_update[1].replace(/=/g, '!fs!'),\r\n                        FILE2: $scope.images_update[2].replace(/=/g, '!fs!'),\r\n                        COUNT: '' + $scope.images_list.length\r\n                    };\r\n                    console.log(\"params===\"+JSON.stringify(params));\r\n                    $http.post('ServiceName=DefectManageService&TransName=funCreateFaultMainFromApp', params)\r\n                        .then(function (res) {\r\n                            showAlert.showMsg('', '', '恭喜您，添加新缺陷成功');\r\n                            //清空input值\r\n                            $(\"input\").val('');\r\n                            $('textarea').val('');\r\n                            $scope.images_list = [];\r\n                            loadingAnimation.hideLoading();\r\n                        }, function (error) {\r\n                            loadingAnimation.hideLoading();\r\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                        });\r\n                }\r\n                /*else {\r\n                    showAlert.showMsg('','','请输入缺陷属性字段！');\r\n                }*/\r\n            };\r\n            //将图片URL转换为dataurl\r\n            function convertFileToDataURLviaFileReader(url) {\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.responseType = 'blob';\r\n                xhr.onload = function () {\r\n                    var reader = new FileReader();\r\n                    reader.onloadend = function () {\r\n                        $scope.images_update.push(reader.result);\r\n                    }\r\n                    reader.readAsDataURL(xhr.response);\r\n                };\r\n                xhr.open('GET', url);\r\n                xhr.send();\r\n            }\r\n\r\n            //设备准备好以后载入属性\r\n            document.addEventListener(\"deviceready\", function () {\r\n                //拍照\r\n                var options = {\r\n                    quality: 50,\r\n                    // destinationType: Camera.DestinationType.DATA_URL,\r\n                    destinationType: Camera.DestinationType.FILE_URI,\r\n                    sourceType: Camera.PictureSourceType.CAMERA,\r\n                    allowEdit: false,\r\n                    encodingType: Camera.EncodingType.JPEG,\r\n                    /*targetWidth: 500,\r\n                    targetHeight: 100,*/\r\n                    popoverOptions: CameraPopoverOptions,\r\n                    saveToPhotoAlbum: true,\r\n                    correctOrientation: true\r\n                };\r\n                $scope.camera = function () {\r\n                    $cordovaCamera.getPicture(options).then(function (imageData) {\r\n                        // console.log(\"imageData==\" + imageData);\r\n                        // $scope.images_list.push(\"data:image/jpeg;base64,\" + imageData);\r\n                        $scope.images_list.push(imageData);\r\n                        convertFileToDataURLviaFileReader(imageData);\r\n                        // $scope.images_update.push(imageData);\r\n                    }, function (err) {\r\n                        showAlert.showMsg('', '', '调用摄像头出错');\r\n                    });\r\n                };\r\n                var options2 = {\r\n                    maximumImagesCount: 3, //最大选择图片数量\r\n                    destinationType: Camera.DestinationType.FILE_URI,\r\n                    sourceType: 0,      //设为0或2，调用的就是系统的图库\r\n                    quality: 50,\r\n                    allowEdit: true\r\n                    /*targetWidth: 200,\r\n                    targetHeight: 200*/\r\n                };\r\n                $scope.tokePhoto = function () {\r\n                    $cordovaImagePicker.getPictures(options2).then(function (imageURI) {\r\n                        //showAlert.showMsg('', '', 'imageURI==' + imageURI);\r\n                        try {\r\n                            for (var image in imageURI) {\r\n                                $scope.images_list.push(imageURI[image]);\r\n                                convertFileToDataURLviaFileReader(imageURI[image]);\r\n                                /*$scope.reader.readAsDataURL(imageURI[image]);  //FileReader的方法，把图片转成base64\r\n                                $scope.reader.onload = function (ev) {\r\n                                    $scope.$apply(function () {\r\n                                        $scope.images_list.push(ev.target.result);   //接收base64\r\n                                    });\r\n                                };*/\r\n                            }\r\n                        } catch (e) {\r\n                            showAlert.showMsg('', '', 'imageURI==' + e);\r\n                        }\r\n                    }, function (err) {\r\n                        showAlert.showMsg('', '', '调用相册图片出错');\r\n                    });\r\n                }\r\n            }, false);\r\n        }\r\n    ]);\r\n","angular.module('BaiYin.pm.defectFill.defectFill', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('pm/defectFill/defectFill', {\r\n            url: '/pm/defectFill/defectFill',\r\n            controller: 'defectFillController',\r\n            templateUrl: 'pm/defectFill/defectFill/defectFill.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n\r\n    .controller('defectFillController', ['$scope', 'showAlert', '$http', '$state', 'loadingAnimation', 'pageInitService', '$ionicScrollDelegate', '$ionicSlideBoxDelegate', '$ionicActionSheet',\r\n        function ($scope, showAlert, $http, $state, loadingAnimation, pageInitService, $ionicScrollDelegate, $ionicSlideBoxDelegate, $ionicActionSheet) {\r\n            //通知域选择滚动框的宽度\r\n            $scope.yuWidth = {width: '' + screen.width - 130 + 'px'};\r\n            var dianchanglist = [];\r\n            var yunum;\r\n            $scope.statusValue = '';\r\n            $scope.yuValue = '';\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                $ionicScrollDelegate.scrollTop()\r\n                $ionicSlideBoxDelegate.next();\r\n            });\r\n            $scope.statusColor = function (status) {\r\n                var c = \"\";\r\n                if ('A类缺陷' == status) {\r\n                    c = '#3492e9';\r\n                }\r\n                if ('B类缺陷' == status) {\r\n                    c = '#33cd5f';\r\n                }\r\n                if ('C类缺陷' == status) {\r\n                    c = '#ff0000';\r\n                }\r\n                return {\"background\": c};\r\n            };\r\n            //查找域列表\r\n            $http.post('ServiceName=TargetService&TransName=listCompanySiteAddress&type=sel')\r\n                .then(function (res) {\r\n                    if (res.code == '0') {\r\n                        $scope.yuList = res.data;\r\n                        dianchanglist.push({text: '全部', CONTRACT: ''});\r\n                        for (var i = 0; i < $scope.yuList.length; i++) {\r\n                            var dlist = {};\r\n                            dlist.text = $scope.yuList[i].DESCRIPTION;\r\n                            dlist.CONTRACT = $scope.yuList[i].CONTRACT;\r\n                            dianchanglist.push(dlist);\r\n                        }\r\n                    } else {\r\n                        showAlert.showMsg(res.msg);\r\n                    }\r\n                }, function (error) {\r\n                    showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                });\r\n            //域选择\r\n            $scope.toSelectYu = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: dianchanglist,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        commitYu = dianchanglist[index].text;\r\n                        yunum = dianchanglist[index].CONTRACT;\r\n                        $(\"#defectYuId\").val(commitYu);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            var buttons = [\r\n                {text: '全部'},\r\n                {text: '新建'},\r\n                {text: '接收'},\r\n                {text: '确认'},\r\n                {text: '取消'},\r\n                {text: '取消中'},\r\n                {text: '已遗留'},\r\n                {text: '工作完成'},\r\n                {text: '生成工作票'},\r\n                {text: '缺陷已消除'}\r\n            ];\r\n            //状态选择\r\n            $scope.toSelectStatus = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                        buttons: buttons,\r\n                        cancel: function () {\r\n                            // add cancel code..\r\n                        }\r\n                        ,\r\n                        buttonClicked: function (index) {\r\n                            console.log(\"index==\" + index);\r\n                            $scope.statusValue = buttons[index].text;\r\n                            $(\"#statusid\").val($scope.statusValue);\r\n                            return true;\r\n                        }\r\n                    })\r\n                ;\r\n            };\r\n            $scope.onDragDown = function () {\r\n                //清空\r\n                //$(\"input\").val('');\r\n                $(\".troubleTop\").show('slow');\r\n            }\r\n            //点击添加隐患排查\r\n            $scope.addTrouble = function () {\r\n                $state.go('pm/defectFill/adddefectFill');\r\n            }\r\n            //点击跳转到详情页面\r\n            $scope.toDetail = function (item) {\r\n                console.log(item);\r\n                $state.go('pm/defectFill/defectFillDetail', {item: item});\r\n            }\r\n            $scope.hasMore = false;\r\n            $scope.number = 1;\r\n            $scope.loadMore = function () {\r\n                if ($scope.statusValue == '全部') {\r\n                    $scope.statusValue='';\r\n                }\r\n                if(yunum == undefined){\r\n                    yunum='';\r\n                }\r\n                console.log(\"状态===\"+$scope.statusValue+\"/域==\"+yunum);\r\n                $scope.number += 1;\r\n                var params = {\r\n                    STATE: $scope.statusValue,\r\n                    CONTRACT: yunum\r\n                }\r\n                $http.post('ServiceName=DefectManageService&TransName=listFaultRepMain&PageCnt=10&PageNo=' + $scope.number, params)\r\n                    .then(function (result) {\r\n                        loadingAnimation.hideLoading();\r\n                        console.log(result)\r\n                        $scope.defectArr1 = result.data.hList;\r\n                        for (var i = 0; i < $scope.defectArr1.length; i++) {\r\n                            $scope.defectArr.push($scope.defectArr1[i]);\r\n                        }\r\n                        if ($scope.defectArr.length < 10) {\r\n                            $scope.hasMore = false;\r\n                        }\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n            $scope.searchDefect = function () {\r\n                //清空查询列表\r\n                $scope.defectArr = [];\r\n                if ($scope.statusValue == '全部') {\r\n                    $scope.statusValue='';\r\n                }\r\n                if(yunum == undefined){\r\n                    yunum='';\r\n                }\r\n                //如果状态是全部，则为空\r\n                console.log(\"状态===\"+$scope.statusValue+\"/域==\"+yunum);\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $scope.hasMore = false;\r\n                var params = {\r\n                    STATE: $scope.statusValue,\r\n                    CONTRACT: yunum\r\n                }\r\n                $http.post(\"ServiceName=DefectManageService&TransName=listFaultRepMain&PageNo=1&PageCnt=10\", params)\r\n                    .then(function (result) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.defectArr = result.data.hList;\r\n                        $scope.listShow = true;\r\n                        $(\".troubleTop\").hide('slow');\r\n                        if (result.data.hList.length >= 10) {\r\n                            $scope.hasMore = true;\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    })\r\n            }\r\n        }\r\n    ])\r\n","angular.module('BaiYin.pm.defectFill.defectFillDetail', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('pm/defectFill/defectFillDetail', {\r\n            url: '/pm/defectFill/defectFillDetail',\r\n            controller: 'defectFillDetailController',\r\n            templateUrl: 'pm/defectFill/defectFillDetail/defectFillDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item:null}\r\n        })\r\n    }])\r\n\r\n    .controller('defectFillDetailController', ['$scope', 'showAlert', '$http', '$state','loadingAnimation','$stateParams',\r\n        function ($scope, showAlert, $http, $state,loadingAnimation,$stateParams) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                //获取列表页对象\r\n                $scope.defectDetail = $stateParams.item;\r\n                queryDoc();\r\n            });\r\n\r\n            //查询附件列表\r\n            function queryDoc(){\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.get('ServiceName=DefectManageService&TransName=listEdmFile&FAULT_REP_ID='\r\n                    + $scope.defectDetail.FAULT_REP_ID)\r\n                    .then(function (res) {\r\n                        console.log(\"list===\"+JSON.stringify(res.data.fList));\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {//如果存在附件则显示\r\n                            $scope.isShow=true;\r\n                            $scope.docList=res.data.fList;\r\n\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n        }\r\n    ])","angular.module('BaiYin.pm.journal.journalDetail', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('pm/journal/journalDetail', {\r\n            url: '/pm/journal/journalDetail',\r\n            controller: 'journalDetailController',\r\n            templateUrl: 'pm/journal/journalDetail/journalDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item:null}\r\n        })\r\n    }])\r\n\r\n    .controller('journalDetailController', ['$scope','loadingAnimation','showAlert', 'showAlert', '$http', '$state','$ionicTabsDelegate','$stateParams',\r\n        function ($scope,loadingAnimation,showAlert, $showAlert, $http, $state,$ionicTabsDelegate,$stateParams) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                //获取列表页对象\r\n                console.log(\"item==\"+JSON.stringify($stateParams.item));\r\n                $scope.obj = $stateParams.item;\r\n                //默认第一个选项卡\r\n                $ionicTabsDelegate.select(0);\r\n                $scope.listcenterOperRecordLine();\r\n            });\r\n\r\n            //运行日志\r\n            $scope.toYxrzData = function () {\r\n                $ionicTabsDelegate.select(0);\r\n                $scope.listcenterOperRecordLine();\r\n            }\r\n            //运行方式\r\n            $scope.toYxfsData = function () {\r\n                $ionicTabsDelegate.select(1);\r\n                $scope.listcenterOperMode();\r\n            }\r\n            //交接班\r\n            $scope.toJjbData = function () {\r\n                $ionicTabsDelegate.select(2);\r\n                $scope.listcenterOperRecord();\r\n            }\r\n            //接地线\r\n            $scope.toJdxData = function () {\r\n                $ionicTabsDelegate.select(3);\r\n                $scope.listcenterGroupWire();\r\n            }\r\n            //运行日志详情\r\n            $scope.listcenterOperRecordLine = function() {\r\n                $http.get(\"ServiceName=JournalService&TransName=listOperRecordLine&EVENT_NO=\" + $scope.obj.EVENT_NO)\r\n                    .then(function (result) {\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        if (result.code == '0') {\r\n                            $scope.list1 = result.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //运行方式\r\n            $scope.listcenterOperMode = function() {\r\n                $http.get(\"ServiceName=JournalService&TransName=listopeMode&EVENT_NO=\" + $scope.obj.EVENT_NO)\r\n                    .then(function (result) {\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        if (result.code == '0') {\r\n                            $scope.list2 = result.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //交接班\r\n            $scope.listcenterOperRecord = function() {\r\n                $http.get(\"ServiceName=JournalService&TransName=listteamChange&EVENT_NO=\" + $scope.obj.EVENT_NO)\r\n                    .then(function (result) {\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        if (result.code == '0') {\r\n                            $scope.list3 = result.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //接地线\r\n            $scope.listcenterGroupWire = function() {\r\n                $http.get(\"ServiceName=JournalService&TransName=listgroupWire&EVENT_NO=\" + $scope.obj.EVENT_NO)\r\n                    .then(function (result) {\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        if (result.code == '0') {\r\n                            $scope.list4 = result.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n                //生产运行日志详情\r\n            $scope.listOper = function(EVENT_NO){\r\n                $http.get(\"ServiceName=JournalService&TransName=listopeMode&EVENT_NO=\"+EVENT_NO)\r\n                    .then(function (result) {\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        if (result.code == '0'){\r\n                            $scope.listoper = result.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    },function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n        }\r\n    ])","angular.module('BaiYin.pm.journal.journalDetailList', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('pm/journal/journalDetailList', {\r\n            url: '/pm/journal/journalDetailList',\r\n            controller: 'journalDetailListController',\r\n            templateUrl: 'pm/journal/journalDetailList/journalDetailList.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item: null}\r\n        })\r\n    }])\r\n\r\n    .controller('journalDetailListController', ['$scope', 'loadingAnimation', 'showAlert', 'showAlert', '$http', '$state', '$ionicTabsDelegate', '$stateParams',\r\n        function ($scope, loadingAnimation, showAlert, $showAlert, $http, $state, $ionicTabsDelegate, $stateParams) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                console.log(\"objCenteritem==\" + $stateParams.item);\r\n                //获取列表页对象\r\n                $scope.objCenter = $stateParams.item;\r\n                //默认第一个选项卡\r\n                $ionicTabsDelegate.select(0);\r\n                $scope.listcenterOperRecordLine();\r\n            });\r\n\r\n            //运行日志\r\n            $scope.toYxrzData = function () {\r\n                $ionicTabsDelegate.select(0);\r\n                $scope.listcenterOperRecordLine();\r\n            }\r\n            //运行方式\r\n            $scope.toYxfsData = function (x) {\r\n                $ionicTabsDelegate.select(1);\r\n                $scope.listcenterOperMode();\r\n            }\r\n            //交接班\r\n            $scope.toJjbData = function () {\r\n                $ionicTabsDelegate.select(2);\r\n                $scope.listcenterOperRecord();\r\n            }\r\n            //接地线\r\n            $scope.toJdxData = function () {\r\n                $ionicTabsDelegate.select(3);\r\n                $scope.listcenterGroupWire();\r\n            }\r\n            //集控中心运行日志详情\r\n            $scope.myDiv = false;\r\n            $scope.listcenterOperRecordLine = function () {\r\n                $http.get(\"ServiceName=JournalService&TransName=listcenterOperRecordLine&EVENT_NO=\" + $scope.objCenter.EVENT_NO)\r\n                    .then(function (result) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (result.code == '0') {\r\n                            $scope.listcenter1 = result.data.rList;\r\n                            if ($scope.listcenter1 == '' || $scope.listcenter1 == undefined) {\r\n                                $scope.myDiv = true;\r\n                            }\r\n                            console.log(\"listcenter1==\" + JSON.stringify(result.data.rList));\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //集控中心运行方式\r\n            $scope.listcenterOperMode = function () {\r\n                $http.get(\"ServiceName=JournalService&TransName=listcenterOperMode&EVENT_NO=\" + $scope.objCenter.EVENT_NO)\r\n                    .then(function (result) {\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        if (result.code == '0') {\r\n                            $scope.listcenter2 = result.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //集控中心交接班\r\n            $scope.listcenterOperRecord = function () {\r\n                $http.get(\"ServiceName=JournalService&TransName=listcenterOperRecord&EVENT_NO=\" + $scope.objCenter.EVENT_NO)\r\n                    .then(function (result) {\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        if (result.code == '0') {\r\n                            $scope.listcenter3 = result.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //集控中心接地线\r\n            $scope.listcenterGroupWire = function () {\r\n                $http.get(\"ServiceName=JournalService&TransName=listcenterGroupWire&EVENT_NO=\" + $scope.objCenter.EVENT_NO)\r\n                    .then(function (result) {\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        if (result.code == '0') {\r\n                            $scope.listcenter4 = result.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            //生产运行日志详情\r\n            $scope.listOper = function (EVENT_NO) {\r\n                $http.get(\"ServiceName=JournalService&TransName=listopeMode&EVENT_NO=\" + EVENT_NO)\r\n                    .then(function (result) {\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        if (result.code == '0') {\r\n                            $scope.listoper = result.data.rList;\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n        }\r\n    ])","angular.module('BaiYin.pm.journal.journalList', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('pm/journal/journalList', {\r\n            url: '/pm/journal/journalList',\r\n            controller: 'journalListController',\r\n            templateUrl: 'pm/journal/journalList/journalList.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1']\r\n        })\r\n\r\n    }])\r\n    .controller('journalListController', ['$scope', 'loadingAnimation', 'showAlert', '$http', '$state', '$ionicActionSheet',\r\n        function ($scope, loadingAnimation, showAlert, $http, $state, $ionicActionSheet) {\r\n\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                // $(\".journalList ul\").hide()\r\n                $scope.flag2 = false;\r\n                $scope.flag = false;\r\n                var status = false;\r\n\r\n            });\r\n            $scope.getBackground = function (status) {\r\n                var c = \"\";\r\n                if (status) {\r\n                    c = '#f4f4f4';\r\n                } else {\r\n                    c = '#f4f4f4';\r\n                }\r\n                return {\"background\": c};\r\n            };\r\n            //日期选择\r\n            var calendar = new LCalendar();\r\n            calendar.init({\r\n                'trigger': '#select_date_please', //标签id\r\n                'type': 'date', //date 调出日期选择 datetime 调出日期时间选择 time 调出时间选择 ym 调出年月选择,\r\n                'minDate': (new Date().getFullYear() - 10) + '-' + 1 + '-' + 1, //最小日期\r\n                'maxDate': (new Date().getFullYear()) + '-' + (new Date().getMonth() + 1) + '-' + (new Date().getDate()) //最大日期\r\n            });\r\n            $scope.dateChangeEvent = function(){\r\n                $scope.RECORD_DATE = $('#select_date_please').val();\r\n                console.log(\"到这里来了不空$scope.RECORD_DATE===\" + $scope.RECORD_DATE);\r\n                $scope.listCenter($scope.WORK_SEQ, $scope.RECORD_DATE);\r\n            }\r\n            $scope.RECORD_DATE = '';\r\n            $scope.WORK_SEQ = '';\r\n            //input框显示位置\r\n            $(\"input\").width($(window).width() - 120);\r\n            $scope.toDetailListCenter = function (item) {\r\n                $state.go('pm/journal/journalDetailList', {item: item})\r\n            }\r\n            $scope.toDetailList = function (item) {\r\n                $state.go('pm/journal/journalDetail', {item: item})\r\n            }\r\n            //选择班次\r\n            $scope.arr = [\r\n                {text: '全部'},\r\n                {text: '白班'},\r\n                {text: '中班'},\r\n                {text: '夜班'}];\r\n            $scope.toSelectClass = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: $scope.arr,\r\n                    //destructiveText: 'Delete',\r\n                    /*titleText: '选择班次',\r\n                    cancelText: '取消',*/\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        $('#selectclass').val($scope.arr[index].text);\r\n                        //取班次的值\r\n                        $scope.WORK_SEQ = $scope.arr[index].text;\r\n                        if ($scope.WORK_SEQ == '全部') {\r\n                            $scope.WORK_SEQ = '';\r\n                        }\r\n                        $scope.listCenter($scope.WORK_SEQ, $scope.RECORD_DATE);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            $scope.listCenter = function (WORK_SEQ, RECORD_DATE) {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                //集控中心运行日志概览\r\n                var params = {\r\n                    WORK_SEQ: WORK_SEQ,\r\n                    RECORD_DATE: RECORD_DATE\r\n                };\r\n\r\n                $http.post(\"ServiceName=JournalService&TransName=listCenterOperRecorde\", params)\r\n                    .then(function (result) {\r\n                        $scope.listOper(WORK_SEQ, RECORD_DATE);\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.flag2 = false;\r\n                        if (result.data.code == '0') {\r\n                            $scope.journal2 = result.data.rList;\r\n                            console.log(\"journal2===\" + JSON.stringify($scope.journal2));\r\n                            $scope.listcenter_EVENT_NO = $scope.journal2;\r\n                            if($scope.journal2.length == 0){\r\n                                showAlert.showMsg('','','没有查询到集控中心运行日志数据...');\r\n                            }\r\n                        } else if (result.data.coce == '1' || result.data.rList.length == 0) {\r\n                            $scope.flag2 = true;//不显示\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            $scope.listOper = function (WORK_SEQ, RECORD_DATE) {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                //生产运行日志概览\r\n                var params = {\r\n                    WORK_SEQ: WORK_SEQ,\r\n                    RECORD_DATE: RECORD_DATE\r\n                };\r\n                $http.post(\"ServiceName=JournalService&TransName=listOperRecorde\",params)\r\n                    .then(function (result) {\r\n                        console.log(result);\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.flag = false;\r\n                        if (result.data.code == '0') {\r\n                            $scope.journal = result.data.rList;\r\n                            $scope.listoper_EVENT_NO = $scope.journal;\r\n                            if($scope.journal.length == 0){\r\n                                showAlert.showMsg('','','没有查询到生产运行日志数据...');\r\n                            }\r\n                        } else if (result.data.coce == '1' || result, data.rList.length == 0) {\r\n                            $scope.flag = true;//不显示\r\n                        } else {\r\n                            showAlert.showMsg(res.msg);\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n        }\r\n    ])\r\n","angular.module('BaiYin.pm.trouble.addTrouble', [\r\n    'ionic',\r\n    'ngCordova',\r\n    'ngCordova.plugins.camera'\r\n])\r\n    .run(function ($ionicPlatform) {\r\n        $ionicPlatform.ready(function () {\r\n            // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard\r\n            // for form inputs)\r\n            if (window.cordova && window.cordova.plugins.Keyboard) {\r\n                cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\r\n            }\r\n            if (window.StatusBar) {\r\n                StatusBar.styleDefault();\r\n            }\r\n        });\r\n    })\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('pm/trouble/addTrouble', {\r\n            url: '/pm/trouble/addTrouble',\r\n            controller: 'addTroubleController',\r\n            templateUrl: 'pm/trouble/addTrouble/addTrouble.tpl.html',\r\n            cache: 'false',\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n\r\n    .controller('addTroubleController', ['$scope', 'showAlert', '$http', '$state', 'loadingAnimation', '$ionicActionSheet', '$cordovaCamera', '$cordovaImagePicker', '$log', '$window',\r\n        function ($scope, showAlert, $http, $state, loadingAnimation, $ionicActionSheet, $cordovaCamera, $cordovaImagePicker, $log, $window) {\r\n            var mydate = new Date();\r\n            var month = mydate.getMonth() + 1;\r\n            $scope.UserName = token.UserName;\r\n            $scope.DEPT_NAME = token.DeptName;\r\n            $scope.CONTRACT_NAME = token.ContractName;\r\n            $scope.nowDate = mydate.getFullYear() + '-' + month + '-' + mydate.getDate();\r\n            $scope.images_list = [];\r\n            $scope.images_update = [];\r\n            $scope.image = {     //用于绑定提交内容，图片或其他数据\r\n            };\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                //$scope.imageSrc='../../../../../images/addCarema.png';\r\n            });\r\n            var commitImg = 0;\r\n            var yhdjList = [];\r\n            // var commitYhdj = '';\r\n            var yhdjnum;\r\n            //查询隐患等级\r\n            $http.post('ServiceName=HiddenDangerService&TransName=listSehHiddenDangerLevel')\r\n                .then(function (res) {\r\n                    if (res.code == '0') {\r\n                        $scope.yhdjList = res.data.hList;\r\n                        for (var i = 0; i < $scope.yhdjList.length; i++) {\r\n                            var ylist = {};\r\n                            ylist.text = $scope.yhdjList[i].DESCRIPTION;\r\n                            ylist.HIDDEN_DANGER_LEVEL = $scope.yhdjList[i].HIDDEN_DANGER_LEVEL;\r\n                            yhdjList.push(ylist);\r\n                        }\r\n\r\n                    } else {\r\n                        showAlert.showMsg(res.msg);\r\n                    }\r\n                }, function (error) {\r\n                    showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                });\r\n            //获取隐患等级\r\n            $scope.toTroubleStyle = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: yhdjList,\r\n                    //destructiveText: 'Delete',\r\n                    /*titleText: '隐患等级',\r\n                    cancelText: '取消',*/\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        // commitYhdj = yhdjList[index].text;\r\n                        yhdjnum = yhdjList[index].HIDDEN_DANGER_LEVEL;\r\n                        $scope.dangerLevel = yhdjList[index].text;\r\n                        //$(\"#dengjiid\").val(commitYhdj);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            $scope.imgwidth = function () {\r\n                return {'margin-bottom': '10px'};\r\n            }\r\n\r\n\r\n            //上传图片文件\r\n            $scope.toUploadImg = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: [\r\n                        {text: '拍照'},\r\n                        {text: '从手机相册选择'}\r\n                    ],\r\n                    cancelText: '取消',\r\n                    cancel: function () {\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        console.log(index);\r\n                        if (index == '0') {\r\n                            $scope.camera();\r\n                        } else if (index == '1') {\r\n                            $scope.tokePhoto();\r\n                        }\r\n                        return true;\r\n                    }\r\n                })\r\n            };\r\n            //删除图片\r\n            $scope.img_del = function (key) {    //删除，删除的时候images_list和form里面的图片数据都要删除，避免提交不必要的\r\n                var guidArr = [];\r\n                for (var p in $scope.images_list) {\r\n                    guidArr.push(p);\r\n                }\r\n                $scope.images_list.splice(guidArr[key], 1);\r\n                $scope.images_update.splice(guidArr[key], 1);\r\n\r\n            };\r\n            $scope.reader = new FileReader();  //创建一个FileReader接口\r\n            //图片转为数据流\r\n            $scope.imgTransform = function () {\r\n                // if ($scope.images_list.length > 0) {\r\n                $scope.images_update[0] = $scope.images_update[0] == undefined ? '' : $scope.images_update[0];\r\n                $scope.images_update[1] = $scope.images_update[1] == undefined ? '' : $scope.images_update[1];\r\n                $scope.images_update[2] = $scope.images_update[2] == undefined ? '' : $scope.images_update[2];\r\n                // }\r\n                //\r\n                // var data = new FormData();   //以下为像后台提交图片数据\r\n                // data.append('image', files);\r\n            };\r\n            /*function getBase64Image(img) {\r\n                var canvas = document.createElement(\"canvas\");\r\n                canvas.width = img.width;\r\n                canvas.height = img.height;\r\n                var ctx = canvas.getContext(\"2d\");\r\n                ctx.drawImage(img, 0, 0, img.width, img.height);\r\n                var ext = img.src.substring(img.src.lastIndexOf(\".\")+1).toLowerCase();\r\n                var dataURL = canvas.toDataURL(\"image/\"+ext);\r\n                return dataURL;\r\n            }*/\r\n            //提交隐患\r\n            $scope.commitTrouble = function () {//提交新隐患\r\n                var fList = $scope.images_list;\r\n                var fileName = '';\r\n                if (fList.length > 0) {\r\n                    fileName = \"hasFile\";\r\n                }\r\n                //提交验证\r\n                if ($(\"#DANGER_CONTENT\").val() == '') {\r\n                    showAlert.showMsg('', '', '请输入隐患内容再提交')\r\n                } else {\r\n                    $scope.imgTransform();\r\n                    loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                    var params = {\r\n                        DANGER_CONTENT: $(\"#DANGER_CONTENT\").val(),\r\n                        DANGER_LEVEL: yhdjnum,\r\n                        FILE_NAME: fileName,\r\n                        FILE0: $scope.images_update[0].replace(/=/g, '!fs!'),\r\n                        FILE1: $scope.images_update[1].replace(/=/g, '!fs!'),\r\n                        FILE2: $scope.images_update[2].replace(/=/g, '!fs!'),\r\n                        COUNT: '' + $scope.images_list.length\r\n                    };\r\n                    /*console.log(params);*/\r\n                    $http.post('ServiceName=HiddenDangerService&TransName=funCreateSehHiddenDanger', params)\r\n                        .then(function (res) {\r\n                            loadingAnimation.hideLoading();\r\n                            showAlert.showMsg('', '', '恭喜您，新的隐患添加成功！');\r\n                            //刷新页面\r\n                            clearThisPage();\r\n                        }, function (error) {\r\n                            loadingAnimation.hideLoading();\r\n                            showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                        });\r\n                }\r\n\r\n            };\r\n\r\n            /**\r\n             * 清空当前页面\r\n             */\r\n            function clearThisPage() {\r\n                $scope.images_list = [];\r\n                $scope.dangerLevel = '';\r\n                $(\"#DANGER_CONTENT\").val('');\r\n            }\r\n\r\n            //将图片URL转换为dataurl\r\n            function convertFileToDataURLviaFileReader(url) {\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.responseType = 'blob';\r\n                xhr.onload = function () {\r\n                    var reader = new FileReader();\r\n                    reader.onloadend = function () {\r\n                        $scope.images_update.push(reader.result);\r\n                    }\r\n                    reader.readAsDataURL(xhr.response);\r\n                };\r\n                xhr.open('GET', url);\r\n                xhr.send();\r\n            }\r\n\r\n            //设备准备好以后载入属性\r\n            document.addEventListener(\"deviceready\", function () {\r\n                //拍照\r\n                var options = {\r\n                    quality: 50,\r\n                    // destinationType: Camera.DestinationType.DATA_URL,\r\n                    destinationType: Camera.DestinationType.FILE_URI,\r\n                    sourceType: Camera.PictureSourceType.CAMERA,\r\n                    allowEdit: false,\r\n                    encodingType: Camera.EncodingType.JPEG,\r\n                    /*targetWidth: 500,\r\n                    targetHeight: 100,*/\r\n                    popoverOptions: CameraPopoverOptions,\r\n                    saveToPhotoAlbum: true,\r\n                    correctOrientation: true\r\n                };\r\n                $scope.camera = function () {\r\n                    $cordovaCamera.getPicture(options).then(function (imageData) {\r\n                        // console.log(\"imageData==\" + imageData);\r\n                        // $scope.images_list.push(\"data:image/jpeg;base64,\" + imageData);\r\n                        $scope.images_list.push(imageData);\r\n                        convertFileToDataURLviaFileReader(imageData);\r\n                        // $scope.images_update.push(imageData);\r\n                    }, function (err) {\r\n                        showAlert.showMsg('', '', '调用摄像头出错');\r\n                    });\r\n                };\r\n\r\n                var options2 = {\r\n                    maximumImagesCount: 3, //最大选择图片数量\r\n                    destinationType: Camera.DestinationType.FILE_URI,\r\n                    sourceType: 0,      //设为0或2，调用的就是系统的图库\r\n                    quality: 50,\r\n                    allowEdit: true\r\n                    /*targetWidth: 200,\r\n                    targetHeight: 200*/\r\n                };\r\n                $scope.tokePhoto = function () {\r\n                    $cordovaImagePicker.getPictures(options2).then(function (imageURI) {\r\n                        //showAlert.showMsg('', '', 'imageURI==' + imageURI);\r\n                        try {\r\n                            for (var image in imageURI) {\r\n                                $scope.images_list.push(imageURI[image]);\r\n                                convertFileToDataURLviaFileReader(imageURI[image]);\r\n                                /*$scope.reader.readAsDataURL(imageURI[image]);  //FileReader的方法，把图片转成base64\r\n                                $scope.reader.onload = function (ev) {\r\n                                    $scope.$apply(function () {\r\n                                        $scope.images_list.push(ev.target.result);   //接收base64\r\n                                    });\r\n                                };*/\r\n                            }\r\n                        } catch (e) {\r\n                            showAlert.showMsg('', '', 'imageURI==' + e);\r\n                        }\r\n                    }, function (err) {\r\n                        showAlert.showMsg('', '', '调用相册图片出错');\r\n                    });\r\n                }\r\n            }, false);\r\n        }\r\n\r\n    ]);\r\n","angular.module('BaiYin.pm.trouble.troubleDetail', [\r\n    'ionic',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('pm/trouble/troubleDetail', {\r\n            url: '/pm/trouble/troubleDetail',\r\n            controller: 'troubleDetailController',\r\n            templateUrl: 'pm/trouble/troubleDetail/troubleDetail.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1'],\r\n            params: {item:null}\r\n        })\r\n    }])\r\n\r\n    .controller('troubleDetailController', ['$scope', 'showAlert', '$http', '$state','$stateParams','loadingAnimation',\r\n\r\n        function ($scope, showAlert, $http, $state,$stateParams,loadingAnimation) {\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                //获取列表页对象\r\n                $scope.title = $stateParams.item;\r\n                //查询附件列表\r\n                queryDoc();\r\n            });\r\n            $scope.setColor = function (status) {\r\n                var c = \"\";\r\n                if ('一般隐患' == status) {\r\n                    c = '#3492e9';\r\n                } else {\r\n                    c = '#ff0000';\r\n                }\r\n                return {\"color\": c};\r\n            };\r\n            //查询附件列表\r\n            function queryDoc(){\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http.get('ServiceName=HiddenDangerService&TransName=listEdmFile&HIDDEN_DANGER_NO='\r\n                    + $scope.title.HIDDEN_DANGER_NO+'&CONTRACT='+$scope.title.CONTRACT)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {//如果存在附件则显示\r\n                            $scope.isShow=true;\r\n                            $scope.docList=res.data.fList;\r\n                        }\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n        }\r\n    ])","angular.module('BaiYin.pm.trouble.hideTrouble', [\r\n    'ionic',\r\n    'ngAnimate',\r\n])\r\n\r\n    .config(['$stateProvider', function ($stateProvider) {\r\n        $stateProvider.state('pm/trouble/hideTrouble', {\r\n            url: '/pm/trouble/hideTrouble',\r\n            controller: 'hideTroubleController',\r\n            templateUrl: 'pm/trouble/hideTrouble/hideTrouble.tpl.html',\r\n            cache: 'true',\r\n            authorizedRuleType: ['1']\r\n        })\r\n    }])\r\n\r\n    .controller('hideTroubleController', ['$scope', 'showAlert', '$http', '$state', 'loadingAnimation', '$ionicActionSheet',\r\n        function ($scope, showAlert, $http, $state, loadingAnimation, $ionicActionSheet) {\r\n            //$scope.myTrouble = true;\r\n\r\n            $scope.$on('$ionicView.afterEnter', function () {\r\n                // showAlert.showMsg(\"隐患排查页面\");\r\n                // var kycz=localStorage.getItem(\"trouble_detail_back\")||'';\r\n                if (!localStorage.getItem(\"trouble_detail_back\")) {\r\n                    $(\".searchTrouble\").show('slow');\r\n                    $scope.troubleList = [];\r\n                }\r\n                localStorage.removeItem(\"trouble_detail_back\");\r\n            });\r\n\r\n\r\n            var calendar = new LCalendar();\r\n            calendar.init({\r\n                'trigger': '#start_date', //标签id\r\n                'type': 'date', //date 调出日期选择 datetime 调出日期时间选择 time 调出时间选择 ym 调出年月选择,\r\n                'minDate': (new Date().getFullYear() - 10) + '-' + 1 + '-' + 1, //最小日期\r\n                'maxDate': (new Date().getFullYear()) + '-' + (new Date().getMonth() + 1) + '-' + (new Date().getDate()) //最大日期\r\n            });\r\n            var calendar = new LCalendar();\r\n            calendar.init({\r\n                'trigger': '#end_date', //标签id\r\n                'type': 'date', //date 调出日期选择 datetime 调出日期时间选择 time 调出时间选择 ym 调出年月选择,\r\n                'minDate': (new Date().getFullYear() - 10) + '-' + 1 + '-' + 1, //最小日期\r\n                'maxDate': (new Date().getFullYear()) + '-' + (new Date().getMonth() + 1) + '-' + (new Date().getDate()) //最大日期\r\n            });\r\n            $scope.onDragDown = function () {\r\n                //$scope.myTrouble = false;\r\n                //清空\r\n                emptyInput();\r\n                $(\".searchTrouble\").show('slow');\r\n            }\r\n            $scope.setColor = function (status) {\r\n                var c = \"\";\r\n                if ('一般隐患' == status) {\r\n                    c = '#3492e9';\r\n                } else {\r\n                    c = '#ff0000';\r\n                }\r\n                return {\"color\": c};\r\n            };\r\n            $scope.setbgColor = function (status) {\r\n                var c = \"\";\r\n                if ('一般隐患' == status) {\r\n                    c = '#3492e9';\r\n                } else {\r\n                    c = '#ff0000';\r\n                }\r\n                return {\"background\": c};\r\n            };\r\n            var dianchanglist = [];\r\n            var stustList = [{\"text\": \"全部\"}, {\"text\": \"开始整改\"}, {\"text\": \"确认\"}, {\"text\": \"审批中\"}, {\"text\": \"完成\"}, {\"text\": \"新建\"}, {\"text\": \"准备整改\"}];\r\n            var yhdjList = [];\r\n            var commitYu = '';\r\n            var commitStuts = '';\r\n            var commitYhdj = '';\r\n            var yunum, yhdjnum;\r\n\r\n            //获取电厂列表\r\n            $http.post('ServiceName=TargetService&TransName=listCompanySiteAddress&type=sel')\r\n                .then(function (res) {\r\n                    if (res.code == '0') {\r\n                        $scope.powerPlantList = res.data;\r\n                        dianchanglist.push({text: '全部', CONTRACT: ''});\r\n                        //console.log(\"powerPlantList==\" + JSON.stringify(res.data));\r\n                        for (var i = 0; i < $scope.powerPlantList.length; i++) {\r\n                            var dlist = {};\r\n                            dlist.text = $scope.powerPlantList[i].DESCRIPTION;\r\n                            dlist.CONTRACT = $scope.powerPlantList[i].CONTRACT;\r\n                            dianchanglist.push(dlist);\r\n                        }\r\n                    } else {\r\n                        showAlert.showMsg(res.msg);\r\n                    }\r\n                }, function (error) {\r\n                    showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                });\r\n\r\n            //域选择\r\n            $scope.toSelectYu = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: dianchanglist,\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        commitYu = dianchanglist[index].text;\r\n                        yunum = dianchanglist[index].CONTRACT;\r\n                        console.log(\"yunum==\" + yunum);\r\n                        $(\"#yuid\").val(commitYu);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            //状态选择\r\n            $scope.toSelectStuts = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: stustList,\r\n                    //destructiveText: 'Delete',\r\n                    /*titleText: '状态',\r\n                    cancelText: '取消',*/\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        commitStuts = stustList[index].text;\r\n                        //console.log(\"stuts==\" + yhdjnum);\r\n                        $(\"#stutsid\").val(commitStuts);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n\r\n            //获取隐患等级\r\n            $http.post('ServiceName=HiddenDangerService&TransName=listSehHiddenDangerLevel')\r\n                .then(function (res) {\r\n                    if (res.code == '0') {\r\n                        $scope.yhdjList = res.data.hList;\r\n                        yhdjList.push({text: '全部', HIDDEN_DANGER_LEVEL: ''});\r\n                        for (var i = 0; i < $scope.yhdjList.length; i++) {\r\n                            var ylist = {};\r\n                            ylist.text = $scope.yhdjList[i].DESCRIPTION;\r\n                            ylist.HIDDEN_DANGER_LEVEL = $scope.yhdjList[i].HIDDEN_DANGER_LEVEL;\r\n                            yhdjList.push(ylist);\r\n                        }\r\n\r\n                    } else {\r\n                        showAlert.showMsg(res.msg);\r\n                    }\r\n                }, function (error) {\r\n                    showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                });\r\n\r\n            //隐患等级\r\n            $scope.toSelectYhdj = function () {\r\n                var hideSheet = $ionicActionSheet.show({\r\n                    buttons: yhdjList,\r\n                    //destructiveText: 'Delete',\r\n                    /*titleText: '隐患等级',\r\n                    cancelText: '取消',*/\r\n                    cancel: function () {\r\n                        // add cancel code..\r\n                    },\r\n                    buttonClicked: function (index) {\r\n                        commitYhdj = yhdjList[index].text;\r\n                        yhdjnum = yhdjList[index].HIDDEN_DANGER_LEVEL;\r\n                        //console.log(\"yhdjnum===\" + yhdjnum);\r\n                        $(\"#yhdjid\").val(commitYhdj);\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n            $scope.toCommit = function () {\r\n                $scope.hasMore = false;\r\n                if (validateComfirm()) {\r\n                    troubleList();\r\n                    $(\".searchTrouble\").hide('slow');\r\n                    $(\".troubleList\").show('slow');\r\n                } /*else {\r\n                    showAlert.showMsg('', '', '请至少输入一个查询条件');\r\n                }*/\r\n            }\r\n            //验证必须有个条件选择\r\n            function validateComfirm() {\r\n                if ($(\"#yuid\").val() == '' && $(\"#stutsid\").val() == '' && $(\"#start_date\").val() == ''\r\n                    && $(\"#end_date\").val() == '' && $(\"#yhdjid\").val() == '') {\r\n                    showAlert.showMsg('', '', '请至少输入一个查询条件');\r\n                    return false;\r\n                }\r\n                if($(\"#end_date\").val() < $(\"#start_date\").val()){\r\n                    showAlert.showMsg('','','结束日期不能小于起始日期，请重新选择');\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n            $scope.hasMore = false;\r\n            $scope.number = 1;\r\n            $scope.loadMore = function () {\r\n                console.log(\"loadMore===\");\r\n                $scope.number += 1;\r\n                var params = {\r\n                    STATE: commitStuts,\r\n                    DANGER_LEVEL: yhdjnum,\r\n                    START_DATE: $(\"#start_date\").val(),\r\n                    END_DATE: $(\"#end_date\").val(),\r\n                    CONTRACT: yunum\r\n                };\r\n                $http.post('ServiceName=HiddenDangerService&TransName=listSehHiddenDanger&PageNo=' + $scope.number + \"&PageCnt=10\",params)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        console.log(res)\r\n                        $scope.troubleList1 = res.data.hList;\r\n                        for (var i = 0; i < $scope.troubleList1.length; i++) {\r\n                            $scope.troubleList.push($scope.troubleList1[i]);\r\n                        }\r\n                        if ($scope.troubleList1.length <10) {\r\n                            $scope.hasMore = false;\r\n                        }\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常', '确认')\r\n                    })\r\n            }\r\n            //查询隐患排查列表开始\r\n            function troubleList() {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                if (yunum == undefined) {\r\n                    yunum = '';\r\n                }\r\n                if (yhdjnum == undefined) {\r\n                    yhdjnum = '';\r\n                }\r\n                if (commitStuts == '全部') {\r\n                    commitStuts = '';\r\n                }\r\n                $scope.hasMore = false;\r\n                var params = {\r\n                    STATE: commitStuts,\r\n                    DANGER_LEVEL: yhdjnum,\r\n                    START_DATE: $(\"#start_date\").val(),\r\n                    END_DATE: $(\"#end_date\").val(),\r\n                    CONTRACT: yunum\r\n                };\r\n                $http.post('ServiceName=HiddenDangerService&TransName=listSehHiddenDanger&PageNo=1&PageCnt=10',params)\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        if (res.data.code == '0') {\r\n                            $scope.troubleList = res.data.hList;\r\n                            if ($scope.troubleList.length >= 10) {\r\n                                $scope.hasMore = true;\r\n                            }\r\n                        } else {\r\n                            $scope.troubleList = [];\r\n                            showAlert.showMsg('', '', res.data.msg);\r\n                        }\r\n\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n\r\n            function emptyInput() {\r\n                $(\"input\").val('');\r\n            }\r\n\r\n            //点击添加隐患排查\r\n            $scope.addTrouble = function () {\r\n                $state.go('pm/trouble/addTrouble');\r\n            }\r\n            //点击跳转到详情页面\r\n            $scope.toDetail = function (item) {\r\n                localStorage.setItem(\"trouble_detail_back\", \"1\");\r\n                $state.go('pm/trouble/troubleDetail', {item: item});\r\n            }\r\n            /*$scope.goNewsDatil = function (item, gsxw, msg) {\r\n                localStorage.setItem(\"newsId\", ID);\r\n                item.whichNew = ID;\r\n                $state.go('companyNewsDetails', {'item': item, 'msg': $scope.gsxw})\r\n            };*/\r\n            //搜索框的宽度\r\n            $scope.input_width = {width: '' + screen.width - 190 + 'px'};\r\n\r\n\r\n        }\r\n\r\n    ])\r\n","angular\r\n\t.module('BaiYin.OSI.OSIDepartmentEquipmentPersonnel', [\r\n\t\t'ionic',\r\n\t])\r\n\t.config(['$stateProvider', 'ionicDatePickerProvider', function($stateProvider, ionicDatePickerProvider) {\r\n\t\t$stateProvider.state('OSI/OSIDepartmentEquipmentPersonnel', {\r\n\t\t\turl: '/OSI/OSIDepartmentEquipmentPersonnel',\r\n\t\t\tcontroller: 'OSIDepartmentEquipmentPersonnelController',\r\n\t\t\ttemplateUrl: 'OSI/OSIcount/OSIDepartmentEquipmentPersonnel/OSIDepartmentEquipmentPersonnel.tpl.html',\r\n\t\t\tcache: 'true',\r\n\t\t\tauthorizedRuleType: ['1'],\r\n\t\t\tparams: {item: new Object()}\r\n\t\t});\r\n\t}])\r\n\t.controller('OSIDepartmentEquipmentPersonnelController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', '$ionicActionSheet', 'ionicDatePicker',\r\n\t\tfunction($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, $ionicActionSheet, ionicDatePicker) {\r\n            //上页传过来的数据\r\n            $scope.data = new Object();\r\n            //查询条件的时间集合\r\n            $scope.date = new Object();\r\n            $scope.$on('$ionicView.beforeEnter', function() {\r\n\t\t\t\t$scope.date = JSON.parse(JSON.stringify($stateParams.item.date));\r\n\t\t\t\t$scope.changeDateTime = function(){\r\n\t\t\t\t\tif($stateParams.item.changeDateTime.apply($scope.date, arguments))\r\n\t\t\t\t\t\t$scope.reload();\r\n\t\t\t\t};\r\n\t\t\t\t$scope.data = $stateParams.item.data;\r\n\t\t\t\t$scope.reload();\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t//分页页码\r\n\t\t\t$scope.pageIndex = 1;\r\n\t\t\t$scope.hasMore = true;\r\n\t\t\t//数据\r\n\t\t\t$scope.list = new Array();\r\n\t\t\t$scope.reload = function(){\r\n\t\t\t\t$scope.pageIndex = 1;\r\n\t\t\t\t$scope.list = new Array();\r\n\t\t\t\t$scope.getInspectStatisticalData();\r\n\t\t\t};\r\n\r\n\t\t\t//获取巡查统计数据\r\n            $scope.getInspectStatisticalData = function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http\r\n                    .post('ServiceName=InspectionService&TransName=getInspectStatisticalData', {\r\n                        restrict: \"personnel\",\r\n\t\t\t\t\t\tpageIndex: $scope.pageIndex++,\r\n\t\t\t\t\t\torg_code: $scope.data.ORG_CODE,\r\n\t\t\t\t\t\tmch_code: $scope.data.MCH_CODE,\r\n                        startTime: $scope.date.departmentStart,\r\n                        endTime: $scope.date.departmentEnd\r\n                    })\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        \r\n                        if(res.data.list.length != 10){\r\n                            $scope.hasMore = false;\r\n                        }\r\n\r\n                        $scope.list = $scope.list.concat(res.data.list.map(function(v, i){\r\n                            v.percentage = Math.round(v.PLAN_INSPECTED/(v.PLAN_INSPECT == 0 ? 1 : v.PLAN_INSPECT) * 1000) / 10;\r\n                            return v;\r\n                        }));\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        $scope.hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\t\t\t}\r\n\r\n            //巡查记录视图\r\n            $scope.openRecord = function(data) {\r\n\t\t\t\tdata.MCH_CODE = $scope.data.MCH_CODE;\r\n\t\t\t\tdata.MCH_NAME = $scope.data.MCH_NAME;\r\n\t\t\t\tdata.date = {\r\n                    startDate: $scope.date.departmentStart,\r\n                    endDate:$scope.date.departmentEnd\r\n                };\r\n                $state.go('OSI/OSIHistory', {item: {autoOperation: \"personnel\", data: data}});\r\n            };\r\n\t\t}\r\n\t]);","angular\r\n\t.module('BaiYin.OSI.OSIDepartmentEquipment', [\r\n        'ionic',\r\n        'BaiYin.OSI.OSIDepartmentEquipmentPersonnel'\r\n\t])\r\n\t.config(['$stateProvider', 'ionicDatePickerProvider', function($stateProvider, ionicDatePickerProvider) {\r\n\t\t$stateProvider.state('OSI/OSIDepartmentEquipment', {\r\n\t\t\turl: '/OSI/OSIDepartmentEquipment',\r\n\t\t\tcontroller: 'OSIDepartmentEquipmentController',\r\n\t\t\ttemplateUrl: 'OSI/OSIcount/OSIDepartmentEquipment/OSIDepartmentEquipment.tpl.html',\r\n\t\t\tcache: 'true',\r\n\t\t\tauthorizedRuleType: ['1'],\r\n\t\t\tparams: {item: new Object()}\r\n\t\t});\r\n\t}])\r\n\t.controller('OSIDepartmentEquipmentController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', '$ionicActionSheet', 'ionicDatePicker',\r\n\t\tfunction($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, $ionicActionSheet, ionicDatePicker) {\r\n            //上页传过来的数据\r\n            $scope.data = new Object();\r\n            //查询条件的时间集合\r\n            $scope.date = new Object();\r\n            $scope.$on('$ionicView.beforeEnter', function() {\r\n\t\t\t\t$scope.date = JSON.parse(JSON.stringify($stateParams.item.date));\r\n\t\t\t\t$scope.changeDateTime = function(){\r\n\t\t\t\t\tif($stateParams.item.changeDateTime.apply($scope.date, arguments))\r\n\t\t\t\t\t\t$scope.reload();\r\n\t\t\t\t};\r\n\t\t\t\t$scope.data = $stateParams.item.data;\r\n\t\t\t\t$scope.reload();\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t//分页页码\r\n\t\t\t$scope.pageIndex = 1;\r\n\t\t\t$scope.hasMore = true;\r\n\t\t\t//数据\r\n\t\t\t$scope.list = new Array();\r\n\t\t\t$scope.reload = function(){\r\n\t\t\t\t$scope.pageIndex = 1;\r\n\t\t\t\t$scope.list = new Array();\r\n\t\t\t\t$scope.getInspectStatisticalData();\r\n\t\t\t};\r\n\r\n\t\t\t//获取巡查统计数据\r\n            $scope.getInspectStatisticalData = function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http\r\n                    .post('ServiceName=InspectionService&TransName=getInspectStatisticalData', {\r\n                        restrict: \"equipment\",\r\n\t\t\t\t\t\tpageIndex: $scope.pageIndex++,\r\n\t\t\t\t\t\torg_code: $scope.data.ORG_CODE,\r\n                        startTime: $scope.date.departmentStart,\r\n                        endTime: $scope.date.departmentEnd\r\n                    })\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        \r\n                        if(res.data.list.length != 10){\r\n                            $scope.hasMore = false;\r\n                        }\r\n\r\n                        $scope.list = $scope.list.concat(res.data.list.map(function(v, i){\r\n                            v.percentage = Math.round(v.PLAN_INSPECTED/(v.PLAN_INSPECT == 0 ? 1 : v.PLAN_INSPECT) * 1000) / 10;\r\n                            return v;\r\n                        }));\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        $scope.hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n            }\r\n            \r\n            //单位设备人员列表视图\r\n            $scope.openDepartmentEquipmentPersonnel = function(data) {\r\n                data.ORG_NAME = $scope.data.ORG_NAME;\r\n                data.ORG_CODE = $scope.data.ORG_CODE;\r\n                $state.go('OSI/OSIDepartmentEquipmentPersonnel', {item: {\r\n                    date: $scope.date,\r\n                    changeDateTime: $stateParams.item.changeDateTime,\r\n                    data: data\r\n                }});\r\n            };\r\n\t\t}\r\n\t]);","angular\r\n\t.module('BaiYin.OSI.OSIDepartmentPersonnel', [\r\n\t\t'ionic',\r\n\t])\r\n\t.config(['$stateProvider', 'ionicDatePickerProvider', function($stateProvider, ionicDatePickerProvider) {\r\n\t\t$stateProvider.state('OSI/OSIDepartmentPersonnel', {\r\n\t\t\turl: '/OSI/OSIDepartmentPersonnel',\r\n\t\t\tcontroller: 'OSIDepartmentPersonnelController',\r\n\t\t\ttemplateUrl: 'OSI/OSIcount/OSIDepartmentPersonnel/OSIDepartmentPersonnel.tpl.html',\r\n\t\t\tcache: 'true',\r\n\t\t\tauthorizedRuleType: ['1'],\r\n\t\t\tparams: {item: new Object()}\r\n\t\t});\r\n\t}])\r\n\t.controller('OSIDepartmentPersonnelController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', '$ionicActionSheet', 'ionicDatePicker',\r\n\t\tfunction($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, $ionicActionSheet, ionicDatePicker) {\r\n            //上页传过来的数据\r\n            $scope.data = new Object();\r\n            //查询条件的时间集合\r\n            $scope.date = new Object();\r\n            $scope.$on('$ionicView.beforeEnter', function() {\r\n\t\t\t\t$scope.date = JSON.parse(JSON.stringify($stateParams.item.date));\r\n\t\t\t\t$scope.changeDateTime = function(){\r\n\t\t\t\t\tif($stateParams.item.changeDateTime.apply($scope.date, arguments))\r\n\t\t\t\t\t\t$scope.reload();\r\n\t\t\t\t};\r\n\t\t\t\t$scope.data = $stateParams.item.data;\r\n\t\t\t\t$scope.reload();\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t//分页页码\r\n\t\t\t$scope.pageIndex = 1;\r\n\t\t\t$scope.hasMore = true;\r\n\t\t\t//数据\r\n\t\t\t$scope.list = new Array();\r\n\t\t\t$scope.reload = function(){\r\n\t\t\t\t$scope.pageIndex = 1;\r\n\t\t\t\t$scope.list = new Array();\r\n\t\t\t\t$scope.getInspectStatisticalData();\r\n\t\t\t};\r\n\r\n\t\t\t//获取巡查统计数据\r\n            $scope.getInspectStatisticalData = function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http\r\n                    .post('ServiceName=InspectionService&TransName=getInspectStatisticalData', {\r\n                        restrict: \"personnel\",\r\n\t\t\t\t\t\tpageIndex: $scope.pageIndex++,\r\n\t\t\t\t\t\torg_code: $scope.data.ORG_CODE,\r\n                        startTime: $scope.date.departmentStart,\r\n                        endTime: $scope.date.departmentEnd\r\n                    })\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        \r\n                        if(res.data.list.length != 10){\r\n                            $scope.hasMore = false;\r\n                        }\r\n\r\n                        $scope.list = $scope.list.concat(res.data.list.map(function(v, i){\r\n                            v.percentage = Math.round(v.PLAN_INSPECTED/(v.PLAN_INSPECT == 0 ? 1 : v.PLAN_INSPECT) * 1000) / 10;\r\n                            return v;\r\n                        }));\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        $scope.hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\t\t\t}\r\n\r\n            //巡查记录视图\r\n            $scope.openRecord = function(data) {\r\n\t\t\t\tdata.date = {\r\n                    startDate: $scope.date.departmentStart,\r\n                    endDate:$scope.date.departmentEnd\r\n                };\r\n                $state.go('OSI/OSIHistory', {item: {autoOperation: \"personnel\", data: data}});\r\n            };\r\n\t\t}\r\n\t]);","angular.module('BaiYin.tabs.employeeAddress', [])\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('employeeAddress', {\n            url: '/employeeAddress',\n            controller: 'employeeAddressController',\n            templateUrl: 'tabs/companyAddressBook/employeeAddress/employeeAddress.tpl.html',\n            cache: 'false',\n            authorizedRuleType: ['1']\n        })\n    }])\n\n    .controller('employeeAddressController', ['$scope', 'pageInitService', '$state', '$http',\n        function($scope, pageInitService, $state, $http) {\n            var listUser = JSON.parse(localStorage.getItem('_titleUser_'));\n            $scope.title = listUser.ORG_NAME;\n            var apis = [\n                'ServiceName=UserService&TransName=getAddressList&ORG_CODE=' + listUser.ORG_CODE\n            ];\n            pageInitService.pageInit(apis).then(function(result) {\n                $scope.items = result[0].data;\n                console.log(JSON.stringify(result[0].data))\n\n            }, function(error) {\n                console.log(error);\n            })\n            $scope.addressDetail = function(item) {\n                sessionStorage.setItem(\"_xiangQing_\", JSON.stringify(item));\n                $state.go('addressDetail');\n\n            }\n        }\n    ])","angular\r\n\t.module('BaiYin.OSI.OSIPersonnelEquipment', [\r\n\t\t'ionic',\r\n\t])\r\n\t.config(['$stateProvider', 'ionicDatePickerProvider', function($stateProvider, ionicDatePickerProvider) {\r\n\t\t$stateProvider.state('OSI/OSIPersonnelEquipment', {\r\n\t\t\turl: '/OSI/OSIPersonnelEquipment',\r\n\t\t\tcontroller: 'OSIPersonnelEquipmentController',\r\n\t\t\ttemplateUrl: 'OSI/OSIcount/OSIPersonnelEquipment/OSIPersonnelEquipment.tpl.html',\r\n\t\t\tcache: 'true',\r\n\t\t\tauthorizedRuleType: ['1'],\r\n\t\t\tparams: {item: new Object()}\r\n\t\t});\r\n\t}])\r\n\t.controller('OSIPersonnelEquipmentController', ['$timeout', '$filter', '$scope', 'showAlert', 'loadingAnimation', '$http', '$state', '$interval', '$ionicTabsDelegate', '$stateParams', '$ionicPopup', '$timeout', '$ionicActionSheet', 'ionicDatePicker',\r\n\t\tfunction($timeout, $filter, $scope, showAlert, loadingAnimation, $http, $state, $interval, $ionicTabsDelegate, $stateParams, $ionicPopup, $timeout, $ionicActionSheet, ionicDatePicker) {\r\n            //上页传过来的数据\r\n            $scope.data = new Object();\r\n            //查询条件的时间集合\r\n            $scope.date = new Object();\r\n            $scope.$on('$ionicView.beforeEnter', function() {\r\n\t\t\t\t$scope.date = JSON.parse(JSON.stringify($stateParams.item.date));\r\n\t\t\t\t$scope.changeDateTime = function(){\r\n\t\t\t\t\tif($stateParams.item.changeDateTime.apply($scope.date, arguments))\r\n\t\t\t\t\t\t$scope.reload();\r\n\t\t\t\t};\r\n\t\t\t\t$scope.data = $stateParams.item.data;\r\n\t\t\t\t$scope.reload();\r\n\t\t\t});\r\n\t\t\t//分页页码\r\n\t\t\t$scope.pageIndex = 1;\r\n\t\t\t$scope.hasMore = true;\r\n\t\t\t//数据\r\n\t\t\t$scope.list = new Array();\r\n\t\t\t$scope.reload = function(){\r\n\t\t\t\t$scope.pageIndex = 1;\r\n\t\t\t\t$scope.list = new Array();\r\n\t\t\t\t$scope.getInspectStatisticalData();\r\n\t\t\t};\r\n\r\n\t\t\t//获取巡查统计数据\r\n            $scope.getInspectStatisticalData = function () {\r\n                loadingAnimation.showLoading('数据载入中', 'loding', 0);\r\n                $http\r\n                    .post('ServiceName=InspectionService&TransName=getInspectStatisticalData', {\r\n                        restrict: \"equipment\",\r\n\t\t\t\t\t\tpageIndex: $scope.pageIndex++,\r\n\t\t\t\t\t\tperson_id: $scope.data.PERSON_ID,\r\n                        startTime: $scope.date.personalStart,\r\n                        endTime: $scope.date.personalEnd\r\n                    })\r\n                    .then(function (res) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        \r\n                        if(res.data.list.length != 10){\r\n                            $scope.hasMore = false;\r\n                        }\r\n\r\n                        $scope.list = $scope.list.concat(res.data.list.map(function(v, i){\r\n                            v.percentage = Math.round(v.PLAN_INSPECTED/(v.PLAN_INSPECT == 0 ? 1 : v.PLAN_INSPECT) * 1000) / 10;\r\n                            return v;\r\n                        }));\r\n                    }, function (error) {\r\n                        loadingAnimation.hideLoading();\r\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\r\n                        $scope.hasMore = false;\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\t\t\t}\r\n\t\t\t\r\n            //巡查记录视图\r\n            $scope.openRecord = function(data) {\r\n\t\t\t\tdata.PERSON_ID = $scope.data.PERSON_ID;\r\n\t\t\t\tdata.PERSON_NAME = $scope.data.PERSON_NAME;\r\n\t\t\t\tdata.ORG_NAME = $scope.data.ORG_NAME;\r\n\t\t\t\tdata.date = {\r\n                    startDate: $scope.date.personalStart,\r\n                    endDate:$scope.date.personalEnd\r\n                };\r\n                $state.go('OSI/OSIHistory', {item: {autoOperation: \"personnel\", data: data}});\r\n\t\t\t};\r\n\t\t}\r\n\t]);","angular.module('BaiYin.groupDetail', [\n    'ionic'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('message/groupDetail', {\n        url: '/message/groupDetail/:groupId',\n        controller: 'groupDetailController',\n        templateUrl: 'tabs/message/groupDetail/groupDetail.tpl.html',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('groupDetailController', ['$scope', '$http', '$ionicHistory', '$ionicPopup', '$timeout', '$stateParams', '$ionicScrollDelegate', 'MrActionSheet', 'MrImagePicker', 'MrCamera', '$state', 'Session',\n    function($scope, $http, $ionicHistory, $ionicPopup, $timeout, $stateParams, $ionicScrollDelegate, MrActionSheet, MrImagePicker, MrCamera, $state, Session) {\n        $scope.$on('$ionicView.leave', function() {\n            if (Session.user.DeviceType == 'Android') {\n                window.JMessage.exitConversation(function() {\n                    // 退出成功。\n                }, function(errorMsg) {\n                    console.log(errorMsg); // 输出错误信息。\n                });\n            }\n        });\n        $scope.$on('$ionicView.beforeEnter', function() {\n            if (isApp) {\n                window.JMessage.getGroupInfo($stateParams.groupId, function(response) {\n                    if (Session.user.DeviceType == 'Android') {\n                        $scope.groupInfo = JSON.parse(response);\n                    } else {\n                        $scope.groupInfo = response;\n                    }\n                    $scope.$digest();\n                }, function(errorMsg) {\n                    console.log(errorMsg);\n                })\n            }\n        });\n\n        $scope.doRefresh = function() {\n            $timeout(function() {\n                $scope.$broadcast('scroll.refreshComplete');\n            }, 200);\n        };\n\n        $scope.messageArray = [];\n        var viewScroll = $ionicScrollDelegate.$getByHandle('groupDetailsScroll');\n        var goButton = function() {\n            $timeout(function() {\n                viewScroll.scrollBottom([true]);\n            }, 400);\n        }\n\n        window.addEventListener(\"native.keyboardshow\", function(e) {\n            viewScroll.scrollBottom([true]);\n        });\n        window.addEventListener(\"native.keyboardhide\", function(e) {\n            viewScroll.scrollBottom([true]);\n        });\n\n        if (Session.user.DeviceType == 'Android') {\n            window.JMessage.enterGroupConversation($stateParams.groupId,\n                function() {\n                    // 进入会话成功。\n                    //读取的是从 0 开始的 50 条聊天记录，可按实现需求传不同的值。\n                    window.JMessage.getHistoryMessages(\"group\", $stateParams.groupId,\n                        '', 0, 50,\n                        function(response) {\n                            console.log(\"getMessageHistory ok: \" + response);\n                            var msg = JSON.parse(response);\n                            $scope.messageArray = msg.reverse();\n                            goButton();\n                        },\n                        function(errorMsg) {\n                            console.log(\"getMessageHistory fail\" + errorMsg);\n                        }\n                    );\n\n                },\n                function(errorMsg) {\n                    console.log(errorMsg);\n                });\n        } else {\n            window.JMessage.getGroupConversationHistoryMessage($stateParams.groupId, 0, 50,\n                function(response) {\n                    $scope.messageArray = response.reverse();\n                    goButton();\n                },\n                function(errorMsg) {\n\n                });\n        }\n\n        document.addEventListener(\"jmessage.onReceiveMessage\", onReceiveMessage, false);\n        // 在收到消息后将消息对象加入到消息数组的开头。\n        function onReceiveMessage(message) {\n            $scope.messageArray.push(message);\n            $scope.$digest();\n            goButton();\n        }\n\n        // 启动选择图片方法\n        $scope.addAttachment = function() {\n            // takePicture();\n            MrActionSheet.show({\n                buttons: [\n                    { text: '相机' },\n                    { text: '相册' }\n                ],\n                cancelText: '取消',\n                cancel: function() {\n                    return true;\n                },\n                buttonClicked: function(index) {\n                    switch (index) {\n                        case 0:\n                            takePicture();\n\n                            break;\n                        case 1:\n                            pickImage();\n                            break;\n                    }\n                    return true;\n                }\n            });\n        };\n\n        // 相机照相方法\n        var takePicture = function() {\n            var options = {\n                quality: 100,\n                destinationType: Camera.DestinationType.FILE_URI,\n                sourceType: Camera.PictureSourceType.CAMERA,\n                allowEdit: false,\n                encodingType: Camera.EncodingType.JPEG,\n                targetWidth: 300,\n                targetHeight: 300,\n                popoverOptions: CameraPopoverOptions,\n                saveToPhotoAlbum: true,\n                correctOrientation: true\n            };\n            MrCamera.getPicture(options).then(function(imageData) {\n                window.JMessage.sendGroupImageMessage($stateParams.groupId, imageData,\n                    function(response) {\n                        if (Session.user.DeviceType == 'Android') {\n                            var msg = JSON.parse(response);\n                        } else {\n                            var msg = response;\n                        }\n                        $scope.messageArray.push(msg);\n                        $scope.$digest();\n                        goButton();\n                    },\n                    function(errorMsg) {\n                        console.log('图片错误发送：' + errorMsg); // 输出错误信息。\n                    });\n            }, function(err) {\n                // alert(err);\n            });\n        };\n\n\n        // 相册选择图片方法\n        var pickImage = function() {\n            var options = {\n                maximumImagesCount: 10,\n                width: 300,\n                height: 300,\n                quality: 100\n            };\n            MrImagePicker.getPictures(options).then(\n                function(results) {\n                    for (var i = results.length - 1; i >= 0; i--) {\n                        window.JMessage.sendGroupImageMessage($stateParams.groupId, results[i],\n                            function(response) {\n                                if (Session.user.DeviceType == 'Android') {\n                                    var msg = JSON.parse(response);\n                                } else {\n                                    var msg = response;\n                                }\n                                $scope.messageArray.push(msg);\n                                $scope.$digest();\n                                goButton();\n                            },\n                            function(errorMsg) {\n                                console.log('图片错误发送：' + errorMsg); // 输出错误信息。\n                                showAlert('', '消息发送失败,您已不再该群', '确认');\n                            });\n                    };\n                },\n                function(error) {\n                    console.log(error);\n                });\n        };\n\n        $scope.goOthersInfo = function() {\n            $state.go('message/groupInfo', { 'groupId': $stateParams.groupId });\n        }\n\n        var showAlert = function(title, template, okText) {\n            var alertPopup = $ionicPopup.alert({\n                title: title,\n                okText: okText,\n                template: template\n            });\n            alertPopup.then(function(res) {});\n        };\n\n        //发送消息\n        $scope.sendContent = function(send_content) {\n            if ($scope.send_content || $scope.send_content == '') {\n                window.JMessage.sendGroupTextMessage($stateParams.groupId, send_content,\n                    function(response) {\n                        if (Session.user.DeviceType == 'Android') {\n                            var msg = JSON.parse(response);\n                        } else {\n                            var msg = response;\n                        }\n                        $scope.messageArray.push(msg);\n                        $scope.$digest();\n                        $scope.send_content = '';\n                        goButton();\n                    },\n                    function(errorMsg) {\n                        console.log(\"send message fail\" + errorMsg);\n                        showAlert('', '消息发送失败', '确认');\n                    });\n            } else {\n                showAlert('', '发送内容不能为空', '确认');\n            }\n        }\n    }\n])","angular.module('BaiYin.message.groupInfo', [\n    'ionic'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('message/groupInfo', {\n        url: '/message/groupInfo/:groupId',\n        controller: 'groupInfoController',\n        templateUrl: 'tabs/message/groupInfo/groupInfo.tpl.html',\n        cache: false,\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('groupInfoController', ['$scope', '$http', '$ionicPopup', '$stateParams', '$state', 'Session',\n\n    function($scope, $http, $ionicPopup, $stateParams, $state, Session) {\n        if (isApp) {\n            //获取群组信息\n            window.JMessage.getGroupInfo($stateParams.groupId,\n                function(response) {\n                    if (Session.user.DeviceType == 'Android') {\n                        $scope.groupInfo = JSON.parse(response);\n                    } else {\n                        $scope.groupInfo = response;\n                    }\n                },\n                function(errorMsg) {\n                    console.log(errorMsg); // 输出错误信息。\n                });\n\n            //获取群成员\n            if (Session.user.DeviceType == 'Android') {\n                window.JMessage.getGroupMembers($stateParams.groupId,\n                    function(response) {\n                        $scope.members = JSON.parse(response);\n                    },\n                    function(errorMsg) {\n                        console.log(errorMsg); // 输出错误信息。\n                    })\n            } else {\n                window.JMessage.memberArray($stateParams.groupId,\n                    function(response) {\n                        $scope.members = response;\n                    },\n                    function(errorMsg) {\n                        console.log(errorMsg); // 输出错误信息。\n                    })\n            }\n        };\n\n        //显示群成员列表\n        $scope.showMembers = function() {\n            $scope.popup = $ionicPopup.show({\n                templateUrl: \"tabs/message/groupInfo/showMembers.tpl.html\",\n                scope: $scope,\n            });\n        };\n\n        //显示输入成员框\n        $scope.showGroupMember = function() {\n            $scope.popup = $ionicPopup.show({\n                templateUrl: \"tabs/message/groupInfo/addGroupMember.tpl.html\",\n                scope: $scope,\n            });\n        };\n        $scope.closePop = function() {\n            $scope.popup.close();\n        }\n\n        //添加成员\n        $scope.addGroupMember = function(userName) {\n            $scope.popup.close();\n            if (Session.user.DeviceType == 'Android') {\n                window.JMessage.addGroupMembers($stateParams.groupId, userName,\n                    function(response) {\n                        window.JMessage.getGroupMembers($stateParams.groupId,\n                            function(json) {\n                                $scope.members = JSON.parse(json);\n                                showAlert('', '添加成功', '确认', '0');\n                            },\n                            function(errorMsg) {\n                                console.log(errorMsg); // 输出错误信息。\n                            });\n                    },\n                    function(errorMsg) {\n                        showAlert('', '暂无此用户或已添加', '确认', '0');\n                    })\n            } else {\n                var addMemberArray = [];\n                addMemberArray.push(userName);\n                window.JMessage.addMembers($stateParams.groupId, addMemberArray,\n                    function(response) {\n                        window.JMessage.memberArray($stateParams.groupId,\n                            function(response) {\n                                $scope.members = response;\n                                showAlert('', '添加成功', '确认', '0');\n                            },\n                            function(errorMsg) {\n                                console.log(errorMsg); // 输出错误信息。\n                            })\n                    },\n                    function(errorMsg) {\n                        showAlert('', '暂无此用户或已添加', '确认', '0');\n                    });\n            }\n        };\n\n        $scope.deleteMember = function(index, userName) {\n            if (Session.user.DeviceType == 'Android') {\n                window.JMessage.removeGroupMembers($stateParams.groupId, userName,\n                    function(response) {\n                        window.JMessage.getGroupMembers($stateParams.groupId,\n                            function(response) {\n                                $scope.members = JSON.parse(response);\n                                showAlert('', '删除成功', '确认', '0');\n                            },\n                            function(errorMsg) {\n                                console.log(errorMsg); // 输出错误信息。\n                            })\n                    },\n                    function(errorMsg) {\n                        showAlert('', '权限不足，无法删除', '确认', '0');\n                    })\n            } else {\n                var rmMemberArray = [];\n                rmMemberArray.push(userName);\n                window.JMessage.removeMembers($stateParams.groupId, rmMemberArray,\n                    function(response) {\n                        window.JMessage.memberArray($stateParams.groupId,\n                            function(response) {\n                                $scope.members = response;\n                                showAlert('', '添加成功', '确认', '0');\n                            },\n                            function(errorMsg) {\n                                console.log(errorMsg); // 输出错误信息。\n                            })\n                    },\n                    function(errorMsg) {\n                        showAlert('', '权限不足，无法删除', '确认', '0');\n                    });\n            }\n        }\n\n        $scope.goMessageDetails = function(member) {\n            $scope.popup.close();\n            $state.go('message/messageDetail', { 'targetId': member.userName });\n        }\n\n        var showAlert = function(title, template, okText, num) {\n            var alertPopup = $ionicPopup.alert({\n                title: title,\n                okText: okText,\n                template: template\n            });\n            alertPopup.then(function(res) {});\n        };\n    }\n])","angular.module('BaiYin.messageDetail', [\n    'ionic'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('message/messageDetail', {\n        url: '/message/messageDetail/:targetId',\n        controller: 'messageDetailController',\n        templateUrl: 'tabs/message/messageDetail/messageDetail.tpl.html',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('messageDetailController', ['$scope', '$http', '$ionicHistory', '$ionicPopup', '$timeout', '$stateParams', '$ionicScrollDelegate', 'MrActionSheet', 'MrImagePicker', 'MrCamera', '$state', 'Session',\n    function($scope, $http, $ionicHistory, $ionicPopup, $timeout, $stateParams, $ionicScrollDelegate, MrActionSheet, MrImagePicker, MrCamera, $state, Session) {\n\n        //判断平台\n        if (Session.user.DeviceType) {\n            $scope.DeviceType = Session.user.DeviceType;\n        }\n\n        //保存发送者信息\n        var senderInfo = {\n            create_time: new Date().getTime(),\n            msg_type: '',\n            set_from_name: '',\n            from_name: '',\n            from_id: '',\n            msg_body: { text: '' },\n            resourcePath: ''\n        };\n\n        $scope.$on('$ionicView.leave', function() {\n            if ($scope.DeviceType == 'Android') {\n                window.JMessage.exitConversation(function() {\n                    // 退出成功。\n                }, function(errorMsg) {\n                    console.log(errorMsg); // 输出错误信息。\n                });\n            }\n        });\n        $scope.$on('$ionicView.beforeEnter', function() {\n            if (isApp) {\n\n                //获取用户信息\n                window.JMessage.getUserInfo($stateParams.targetId, null,\n                    function(response) {\n                        if ($scope.DeviceType == 'Android') {\n                            $scope.userInfo = JSON.parse(response);\n                        } else {\n                            $scope.userInfo = response;\n                        }\n                        $scope.$digest();\n                    },\n                    function(errorStr) {\n                        console.log(errorStr); // 输出错误信息。\n                    });\n            }\n\n            //获取个人信息\n            window.JMessage.getMyInfo(function(response) {\n                if (Session.user.DeviceType != 'Android') {\n                    $scope.myInfo = response;\n                }\n            }, function(errorStr) {\n                console.log(errorStr); // 输出错误信息。\n            });\n\n            //清除单聊会话未读数\n            if ($scope.DeviceType != 'Android') {\n                window.JMessage.clearSingleUnreadCount($stateParams.targetId,\n                    function(response) {\n                        console.log('单聊未读消息清除成功' + response);\n                    },\n                    function(errorStr) {\n                        console.log('单聊未读消息清除失败' + errorStr);\n                    });\n            }\n        });\n\n        $scope.doRefresh = function() {\n            $timeout(function() {\n                $scope.$broadcast('scroll.refreshComplete');\n            }, 200);\n        };\n\n        $scope.messageArray = [];\n        var viewScroll = $ionicScrollDelegate.$getByHandle('messageDetailsScroll');\n        var goButton = function() {\n            $timeout(function() {\n                viewScroll.scrollBottom([true]);\n            }, 500);\n        }\n\n        window.addEventListener(\"native.keyboardshow\",\n            function(e) {\n                viewScroll.scrollBottom([true]);\n            });\n        window.addEventListener(\"native.keyboardhide\",\n            function(e) {\n                viewScroll.scrollBottom([true]);\n            });\n\n        if (isApp) {\n            if ($scope.DeviceType == 'Android') {\n                window.JMessage.enterSingleConversation($stateParams.targetId, null,\n                    function() {\n                        // 进入会话成功。\n                        //读取的是从 0 开始的 50 条聊天记录，可按实现需求传不同的值。\n                        window.JMessage.getHistoryMessages(\"single\", $stateParams.targetId,\n                            '', 0, 50,\n                            function(response) {\n                                console.log(\"getMessageHistory ok: \" + response);\n                                var msg = JSON.parse(response);\n                                $scope.messageArray = msg.reverse();\n                                goButton();\n                            },\n                            function(response) {\n                                console.log(\"getMessageHistory fail\" + response);\n                            }\n                        );\n\n                    },\n                    function(errorMsg) {\n                        console.log(errorMsg);\n                    });\n            } else {\n                window.JMessage.getSingleConversationHistoryMessage($stateParams.targetId, 0, 50,\n                    function(response) {\n                        $scope.messageArray = response.reverse();\n                        goButton();\n                    },\n                    function(errorMsg) {\n\n                    });\n            }\n\n            document.addEventListener(\"jmessage.onReceiveMessage\", onReceiveMessage, false);\n            // 在收到消息后将消息对象加入到消息数组的开头。\n            function onReceiveMessage(message) {\n                if ($scope.DeviceType == 'Android') {\n                    $scope.messageArray.push(message);\n                } else {\n                    $scope.messageArray.push(message.content);\n                }\n                $scope.$digest();\n                goButton();\n            }\n\n            document.addEventListener(\"jmessage.onReceiveImageData\", onReceiveImageData, false);\n            // 在收到消息后将消息对象加入到消息数组的开头。\n            function onReceiveImageData(message) {\n                if ($scope.DeviceType == 'Android') {\n                    $scope.messageArray.push(message);\n                } else {\n                    $scope.messageArray.push(message.content);\n                }\n                $scope.$digest();\n                goButton();\n            }\n        }\n\n        // 启动选择图片方法\n        $scope.addAttachment = function() {\n            // takePicture();\n            MrActionSheet.show({\n                buttons: [\n                    { text: '相机' },\n                    { text: '相册' }\n                ],\n                cancelText: '取消',\n                cancel: function() {\n                    return true;\n                },\n                buttonClicked: function(index) {\n                    switch (index) {\n                        case 0:\n                            takePicture();\n\n                            break;\n                        case 1:\n                            pickImage();\n                            break;\n                    }\n                    return true;\n                }\n            });\n        };\n\n        // 相机照相方法\n        var takePicture = function() {\n            var options = {\n                quality: 100,\n                destinationType: Camera.DestinationType.FILE_URI,\n                sourceType: Camera.PictureSourceType.CAMERA,\n                allowEdit: false,\n                encodingType: Camera.EncodingType.JPEG,\n                targetWidth: 300,\n                targetHeight: 300,\n                popoverOptions: CameraPopoverOptions,\n                saveToPhotoAlbum: true,\n                correctOrientation: true\n            };\n            MrCamera.getPicture(options).then(function(imageData) {\n                window.JMessage.sendSingleImageMessage($stateParams.targetId, imageData, null,\n                    function(response) {\n                        if ($scope.DeviceType == 'Android') {\n                            var msg = JSON.parse(response);\n                        } else {\n                            var msg = response;\n                        }\n                        $scope.messageArray.push(msg);\n                        $scope.$digest();\n                        goButton();\n                    },\n                    function(errorMsg) {\n                        console.log('图片错误发送：' + errorMsg); // 输出错误信息。\n                    });\n            }, function(err) {\n                // alert(err);\n            });\n        };\n\n\n        // 相册选择图片方法\n        var pickImage = function() {\n            var options = {\n                maximumImagesCount: 10,\n                width: 300,\n                height: 300,\n                quality: 100\n            };\n            MrImagePicker.getPictures(options).then(\n                function(results) {\n                    for (var i = results.length - 1; i >= 0; i--) {\n                        window.JMessage.sendSingleImageMessage($stateParams.targetId, results[i], null,\n                            function(response) {\n                                if ($scope.DeviceType == 'Android') {\n                                    var msg = JSON.parse(response);\n                                } else {\n                                    var msg = response;\n                                }\n                                $scope.messageArray.push(msg);\n                                $scope.$digest();\n                                goButton();\n                            },\n                            function(errorMsg) {\n                                console.log('图片错误发送：' + errorMsg); // 输出错误信息。\n                            });\n                    };\n                },\n                function(error) {\n                    console.log(error);\n                });\n        };\n\n        $scope.goOthersInfo = function() {\n            $state.go('message/othersInfo', { 'targetId': $stateParams.targetId });\n        }\n\n        //发送消息\n        $scope.sendContent = function(send_content) {\n            var send_content = send_content;\n            window.JMessage.sendSingleTextMessage($stateParams.targetId, send_content, null,\n                function(response) {\n                    if ($scope.DeviceType == 'Android') {\n                        var msg = JSON.parse(response);\n                    } else {\n                        senderInfo.msg_type = 'text';\n                        senderInfo.set_from_name = 0;\n                        senderInfo.from_name = $scope.myInfo.nickname;\n                        senderInfo.from_id = $scope.myInfo.username;\n                        senderInfo.msg_body.text = send_content;\n                        var msg = senderInfo;\n                        send_content = '';\n                    }\n                    $scope.messageArray.push(msg);\n                    $scope.$digest();\n                    $scope.send_content = '';\n                    goButton();\n                },\n                function(errorMsg) {\n                    console.log(\"send message fail\" + response);\n                    showAlert('', '消息发送失败', '确认');\n                });\n        }\n        var showAlert = function(title, template, okText) {\n            var alertPopup = $ionicPopup.alert({\n                title: title,\n                okText: okText,\n                template: template\n            });\n            alertPopup.then(function(res) {});\n        };\n    }\n])","angular.module('BaiYin.messageDetail.mock', [\n    'ngMockE2E', 'BaiYin.common.mocksData'\n])\n\n.run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n    var data = {\n        \"messages\": {\n            \"id\": 8,\n            \"name\": \"李明\",\n            \"pic\": \"img/adam.jpg\",\n            \"lastMessage\": {\n                \"originalTime\": \"2015-11-27 06:34:55\",\n                \"time\": \"\",\n                \"timeFrome1970\": 0,\n                \"content\": \"你在干什么?\",\n                \"isFromeMe\": false\n            },\n            \"noReadMessages\": 2,\n            \"showHints\": true,\n            \"isTop\": 0,\n            \"message\": [{\n                \"isFromeMe\": false,\n                \"content\": \"你好!\",\n                \"time\": \"2015-11-22 08:50:22\"\n            }, {\n                \"isFromeMe\": true,\n                \"content\": \"你好, 你是谁?\",\n                \"time\": \"2015-11-22 08:51:02\"\n            }, {\n                \"isFromeMe\": false,\n                \"content\": \"你在干什么?\",\n                \"time\": \"2015-11-27 06:34:55\"\n            }, {\n                \"isFromeMe\": true,\n                \"content\": \"知道怎么搞的吗?\",\n                \"time\": \"2015-11-22 08:51:02\"\n            }, {\n                \"isFromeMe\": false,\n                \"content\": \"这是一道可以测出一个人有没有商业头脑的数学题\",\n                \"time\": \"2015-11-27 06:34:55\"\n            }, {\n                \"isFromeMe\": false,\n                \"content\": \"喝咖啡对身体好吗?\",\n                \"time\": \"2015-11-22 08:51:02\"\n            }, {\n                \"isFromeMe\": false,\n                \"content\": \"在澳洲申请新西兰签证\",\n                \"time\": \"2015-11-27 06:34:55\"\n            }, {\n                \"isFromeMe\": true,\n                \"content\": \"说走就走的旅行\",\n                \"time\": \"2015-11-22 08:51:02\"\n            }, {\n                \"isFromeMe\": false,\n                \"content\": \"ok\",\n                \"time\": \"2015-11-27 06:34:55\"\n            }, {\n                \"isFromeMe\": true,\n                \"content\": \"拉玛西亚\",\n                \"time\": \"2015-11-22 08:51:02\"\n            }, {\n                \"isFromeMe\": true,\n                \"content\": \"拉玛西亚影视学院招生简章\",\n                \"time\": \"2015-11-27 06:34:55\"\n            }, {\n                \"isFromeMe\": true,\n                \"content\": \"去黑头产品排行榜\",\n                \"time\": \"2015-11-22 08:51:02\"\n            }, {\n                \"isFromeMe\": false,\n                \"content\": \"美国大使馆 北京\",\n                \"time\": \"2015-11-27 06:34:55\"\n            }, {\n                \"isFromeMe\": false,\n                \"content\": \"被开水烫伤怎么办?\",\n                \"time\": \"2015-11-22 08:51:02\"\n            }, {\n                \"isFromeMe\": false,\n                \"content\": \"谁说菜鸟不会数据分析?\",\n                \"time\": \"2015-11-27 06:34:55\"\n            }, {\n                \"isFromeMe\": true,\n                \"content\": \"谁念西风独自凉\",\n                \"time\": \"2015-11-22 08:51:02\"\n            }, {\n                \"isFromeMe\": false,\n                \"content\": \"被酒莫惊春睡重，赌书消得泼茶香，当时只道是寻常\",\n                \"time\": \"2015-11-27 06:34:55\"\n            }]\n        }\n    };\n    var result = mocksData.resetData(data);\n    $httpBackend.whenGET(/\\?messageList/).respond(result);\n}]);","angular.module('BaiYin.message.othersInfo', [\n    'ionic'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('message/othersInfo', {\n        url: '/message/othersInfo:targetId',\n        controller: 'othersInfoController',\n        templateUrl: 'tabs/message/othersInfo/othersInfo.tpl.html',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('othersInfoController', ['$scope', '$http', '$ionicPopup', '$stateParams', 'Session',\n\n    function($scope, $http, $ionicPopup, $stateParams, Session) {\n        $scope.$on('$ionicView.beforeEnter', function() {\n            if (isApp) {\n                //获取用户信息\n                if (Session.user.DeviceType == 'Android') {\n                    window.JMessage.getUserInfo($stateParams.targetId, null,\n                        function(response) {\n                            $scope.userInfo = JSON.parse(response);\n                        },\n                        function(errorStr) {\n                            console.log(errorStr); // 输出错误信息。\n                        });\n                } else {\n                    window.JMessage.getUserInfo($stateParams.targetId, null,\n                        function(response) {\n                            $scope.userInfo = response;\n                        },\n                        function(errorStr) {\n                            console.log(errorStr); // 输出错误信息。\n                        });\n                }\n\n            }\n        });\n    }\n])","angular.module('BaiYin.message.myInfo', [\n    'ionic'\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('message/myInfo', {\n        url: '/message/myInfo',\n        controller: 'myInfoController',\n        templateUrl: 'tabs/message/myInfo/myInfo.tpl.html',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('myInfoController', ['$scope', '$http', '$ionicPopup', '$stateParams', '$ionicHistory', '$state', 'Session',\n\n    function($scope, $http, $ionicPopup, $stateParams, $ionicHistory, $state, Session) {\n        //判断平台\n        if (Session.user.DeviceType) {\n            $scope.DeviceType = Session.user.DeviceType;\n        }\n        if (isApp) {\n            //获取个人信息\n            window.JMessage.getMyInfo(function(response) {\n                if (Session.user.DeviceType == 'Android') {\n                    $scope.myInfo = JSON.parse(response);\n                } else {\n                    $scope.myInfo = response;\n                }\n            }, function(errorStr) {\n                console.log(errorStr); // 输出错误信息。\n            });\n        }\n\n        //显示创建群组输入框\n        $scope.showCreateGroupPop = function() {\n            $scope.popup = $ionicPopup.show({\n                templateUrl: \"tabs/message/myInfo/inputCreatGroup.tpl.html\",\n                scope: $scope,\n            });\n        }\n\n        //显示添加好友输入框\n        $scope.showAddFriends = function() {\n            $scope.popup = $ionicPopup.show({\n                templateUrl: \"tabs/message/myInfo/addFriend.tpl.html\",\n                scope: $scope,\n            });\n        }\n        $scope.closePop = function() {\n            $scope.popup.close();\n        }\n\n        $scope.addFriends = function(userName, reason) {\n            $scope.closePop();\n            window.JMessage.sendInvitationRequest(userName, null, reason,\n                function(response) {\n                    showAlert('', '发送成功,等待确认', '确认', '1');\n                },\n                function(errorStr) {\n                    showAlert('', '暂无此用户', '确认', '0');\n                });\n        }\n\n        $scope.createGroup = function(groupName, groupDesc) {\n            $scope.closePop();\n            if (Session.user.DeviceType == 'Android') {\n                window.JMessage.createGroup(groupName, groupDesc, function(response) {\n                    showAlert('', '创建成功', '确认', '1');\n                }, function(errorMsg) {\n                    showAlert('', '创建失败，请重试或已存在', '确认', '0');\n                })\n            } else {\n                var memebersArray = [];\n                window.JMessage.createGroupIniOS(groupName, groupDesc, memebersArray, function(response) {\n                    showAlert('', '创建成功', '确认', '1');\n                }, function(errorMsg) {\n                    showAlert('', '创建失败，请重试或已存在', '确认', '0');\n                });\n            }\n        }\n        $scope.goAddressBook = function() {\n            $scope.closePop();\n            $state.go('tabs/companyAddressBook');\n        }\n        var showAlert = function(title, template, okText, num) {\n            var alertPopup = $ionicPopup.alert({\n                title: title,\n                okText: okText,\n                template: template\n            });\n            alertPopup.then(function(res) {\n                if (num == '1') {\n                    $ionicHistory.goBack();\n                }\n            });\n        };\n    }\n])","angular.module('BaiYin.APPfeedback', [])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('APPfeedback', {\n        url: '/APPfeedback',\n        controller: 'APPfeedbackController',\n        templateUrl: 'tabs/mine/APPfeedback/APPfeedback.tpl.html',\n        cache: 'false',\n        authorizedRuleType: ['1', '0']\n    })\n}])\n\n.controller('APPfeedbackController', ['$scope', '$http', '$ionicHistory', '$ionicPopup',\n    function($scope, $http, $ionicHistory, $ionicPopup) {\n\n        // 提交反馈\n        $scope.appFeedback2 = function(opinion, phone) {\n            $scope.upData = {\n                CONTENT: encodeURIComponent(opinion),\n                PHONE: phone,\n            }\n            $http.post('ServiceName=SuggestionService&TransName=doSuggestion&SUBJECT=subject1', $scope.upData).then(function(res) {\n                var alertPopup = $ionicPopup.alert({\n                    template: res.msg,\n                    okText: '确认',\n                });\n                alertPopup.then(function(res) {\n                    $ionicHistory.goBack();\n                });\n            }, function(msg) {\n                var alertPopup = $ionicPopup.alert({\n                    template: '提交信息失败请重试',\n                    okText: '确认'\n                });\n                alertPopup.then(function(res) {});\n            });\n        };\n    }\n])","angular.module('BaiYin.mine.netWork', [\n    'BaiYin.mine.netWork.mock',\n])\n\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('mine/netWork', {\n        url: '/mine/netWork',\n        controller: 'netWorkController',\n        templateUrl: 'tabs/mine/netWork/netWork.tpl.html',\n        cache: 'false',\n        authorizedRuleType: ['1', '0']\n    })\n}])\n\n.controller('netWorkController', ['$scope', '$http', '$ionicHistory',\n    function($scope, $http, $ionicHistory) {\n\n        if (localStorage.getItem('uri') == null) {\n            $scope.choice = 'B';\n        } else {\n            $scope.choice = 'A';\n        }\n\n        $scope.seleteNet = function(seleteNet) {\n            if (seleteNet == 'A') {\n                localStorage.setItem('uri', '1');\n                $ionicHistory.goBack();\n            } else {\n                localStorage.removeItem('uri');\n                $ionicHistory.goBack();\n            }\n        }\n    }\n])","angular.module('BaiYin.mine.netWork.mock', [\n    'ngMockE2E', 'BaiYin.common.mocksData'\n])\n\n.run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {}]);","angular.module('BaiYin.ListOfBluetooth', [\r\n\t\t'BaiYin.EditBluetooth'\r\n\t])\r\n\t.config(['$stateProvider', function($stateProvider) {\r\n\t\t$stateProvider.state('ListOfBluetooth', {\r\n\t\t\turl: '/ListOfBluetooth',\r\n\t\t\tcontroller: 'ListOfBluetoothController',\r\n\t\t\ttemplateUrl: 'tabs/mine/ListOfBluetooth/ListOfBluetooth.tpl.html',\r\n\t\t\tcache: 'false',\r\n\t\t\tauthorizedRuleType: ['1', '0']\r\n\t\t})\r\n\t}])\r\n\t.controller('ListOfBluetoothController', ['$scope', '$http', '$ionicHistory', '$ionicPopup', 'loadingAnimation', 'showAlert', '$state',\r\n\t\tfunction($scope, $http, $ionicHistory, $ionicPopup, loadingAnimation, showAlert, $state) {\r\n\t\t\t//按钮内容\r\n\t\t\t$scope.bottonText = \"搜索\";\r\n\t\t\t//已知蓝牙列表\r\n\t\t\t$scope.known = new Array();\r\n\t\t\t//未知蓝牙列表\r\n\t\t\t$scope.unknown = new Array();\r\n\t\t\t//蓝牙搜索记录\r\n\t\t\tvar bluetoothRecord = new Object();\r\n\t\t\t//初始化数据\r\n\t\t\tvar initPage = function(){\r\n\t\t\t\t$scope.bottonText = \"搜索\";\r\n\t\t\t\t$scope.known = new Array();\r\n\t\t\t\t$scope.unknown = new Array();\r\n\t\t\t\tvar bluetoothRecord = new Object();\r\n\t\t\t};\r\n\r\n\t\t\t$scope.$on('$ionicView.enter', function () {\r\n\t\t\t\tinitPage();\r\n\t\t\t});\r\n\t\t\t//点击搜索按钮\r\n\t\t\t$scope.bluetooth = function(){\r\n\t\t\t\tif($scope.bottonText == \"搜索\"){\r\n\t\t\t\t\tinitPage();\r\n\r\n\t\t\t\t\tble.enable(function () {\r\n\t\t\t\t\t\tstartScan();\r\n\t\t\t\t\t}, function () {\r\n\t\t\t\t\t\tshowAlert.showMsg(\"\", \"\", \"未打开蓝牙\");\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t//改变按钮内容\r\n\t\t\tvar changeBotton = function(){\r\n\t\t\t\t$scope.$apply(function(){\r\n                    if($scope.bottonText == \"搜索\"){\r\n                        $scope.bottonText = \"<i class='icon ion-load-c'></i>\";\r\n                    }else{\r\n                        $scope.bottonText = \"搜索\";\r\n                    }\r\n                });\r\n\t\t\t};\r\n\t\t\t//开始搜素蓝牙\r\n\t\t\tvar startScan = function(){\r\n\t\t\t\tchangeBotton();\r\n\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tendScan();\r\n\t\t\t\t}, 5000);\r\n\r\n\t\t\t\tble.scan([], 5,function(device){\r\n\t\t\t\t\tbluetoothRecord[device.id] ? \"\" : bluetoothRecord[device.id] = 1, matching(device);\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\tendScan();\r\n\t\t\t\t\tshowAlert.showMsg(\"\", \"\", \"扫描蓝牙出错\");\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t//结束搜索蓝牙\r\n\t\t\tvar endScan = function(){\r\n\t\t\t\tble.stopScan(changeBotton, changeBotton);\r\n\t\t\t};\r\n\t\t\t//查询蓝牙信息\r\n\t\t\tvar matching = function(device){\r\n\t\t\t\t$http.post('ServiceName=ClockService&TransName=bluetoothInSystem&SN=' + device.id.replace(/:/g, \"\"))\r\n                    .then(function (res) {\r\n                        if (res.data.code == '0') {\r\n\t\t\t\t\t\t\tres.data.detail[0].device = device;\r\n\t\t\t\t\t\t\t$scope.known.push(res.data.detail[0]);\r\n                        } else {\r\n\t\t\t\t\t\t\t$scope.unknown.push(device);\r\n                        }\r\n                    }, function (error) {\r\n                        showAlert.showMsg(error, '', '网络异常,请检查网络', '确认')\r\n                    });\r\n\t\t\t}\r\n\t\t\t//去录入页面\r\n\t\t\t$scope.toEdit = function(data){\r\n\t\t\t\t$state.go(\"EditBluetooth\", {item: data});\r\n\t\t\t};\r\n        }\r\n\t]);","angular.module('BaiYin.Tracking', [])\n.config(['$stateProvider', function($stateProvider) {\n    $stateProvider.state('Tracking', {\n        url: '/Tracking',\n        controller: 'TrackingController',\n        templateUrl: 'Problems/ProblemSolving/Tracking/Tracking.tpl.html',\n        cache: 'false',\n        authorizedRuleType: ['1']\n    })\n}])\n\n.controller('TrackingController', ['$scope', 'showAlert', 'pageInitService', '$http', '$state',\n    function($scope, showAlert, pageInitService, $http, $state) {\n        $scope.$on('$ionicView.afterEnter', function() {\n            var apis = [\n            'ServiceName=ApproveService&TransName=getUnApprvedList'\n            ];\n\n            pageInitService.pageInit(apis).then(function(result) {\n             $scope.listsMsg = result[0]\n             agentListMsg($scope.listsMsg)\n            \n            $scope.agentsItem = function(item) {\n                $state.go('agentsView')\n                var ItemCont =JSON.stringify(item)\n                sessionStorage.setItem(\"agentsVD\", ItemCont); \n            }\n        }, function(error) {\n             showAlert.showMsg(error,'','网络异常','确认')\n        });\n            $scope.loadNumber=1;\n            $scope.loadMore=function(){\n             $scope.loadNumber+=1;\n             $http.get( 'ServiceName=ApproveService&TransName=getUnApprvedList&PageNo=' + $scope.loadNumber)\n             .then(function(res){\n                 if(res.data.length>0){\n                   for(var i=0;i<res.data.length;i++){\n                    res.data[i].CREATED_DATE=new Date(res.data[i].CREATED_DATE.replace(/-/g,\"/\"));\n                    $scope.items.push(res.data[i])  \n                    $scope.$broadcast('scroll.infiniteScrollComplete');\n                }\n            }else if(res.data.length<=0||res.data==null||res.data==undefined){\n             $scope.hasMore=false;\n             $scope.$broadcast('scroll.infiniteScrollComplete');\n         }\n     }\n     ,function(error){\n       showAlert.showMsg(error,'','网络异常','确认')\n         $scope.hasMore=false;\n     })\n         };\n    });\n        $scope.historySearch=function(){\n             $state.go('historyList')\n        }\n        function agentListMsg(res){\n         var str = [];\n         var arr = {};\n         for (var i = 0; i < res.data.length; i++) {\n            arr = res.data[i]\n            arr.CREATED_DATE = new Date(arr.CREATED_DATE.replace(/-/g,\"/\"))\n            str.push(arr)\n        }\n        $scope.items = str;\n         if($scope.items.length>=10&&$scope.items!=undefined&&$scope.items!=null){\n                $scope.hasMore=true;\n            }\n    };\n    $scope.doRefresh = function() {\n        $http.get('ServiceName=ApproveService&TransName=getUnApprvedList')\n        .then(function(res) {\n            agentListMsg(res)\n            $scope.$broadcast('scroll.refreshComplete');\n            if(res.data.length==10){\n               $scope.loadNumber=1;\n               $scope.hasMore=true;\n           }else{\n            $scope.hasMore=false;\n        }\n    }, function(error) {\n        $scope.hasMore=false;\n        showAlert.showMsg(error,'','网络异常','确认')\n})\n    }\n\n}\n])","angular.module('BaiYin.Tracking.mock', [\n        'ngMockE2E', 'BaiYin.common.mocksData'\n    ])\n    .run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n        var data = {\n\n        }\n        var result = mocksData.resetData(data);\n        $httpBackend.whenGET(/.*/).passThrough();\n    }]);","angular.module('BaiYin.historyDetail', [])\r\n\r\n.config(['$stateProvider', function($stateProvider) {\r\n    $stateProvider.state('historyDetail', {\r\n        url: '/historyDetail',\r\n        params: { 'item': null },\r\n        controller: 'historyDetailController',\r\n        templateUrl: 'Agents/AgentsList/operatingHistory/historyDetails/historyDetail.tpl.html',\r\n        cache: 'false',\r\n        authorizedRuleType: ['1'] //登录权限\r\n    })\r\n}])\r\n\r\n.controller('historyDetailController', ['$scope','showAlert','pageInitService', '$timeout', '$ionicHistory', '$stateParams', '$http', '$ionicPopup', \r\n    function($scope,showAlert,pageInitService, $timeout, $ionicHistory, $stateParams, $http, $ionicPopup) {\r\n      var valKey = $stateParams.item;\r\n      $scope.$on('$ionicView.afterEnter', function() { \r\n        var apis = [\r\n        'ServiceName=ApproveService&TransName=getDoneApprvedDetail&LogNo='+valKey.LOG_NO\r\n        ];\r\n        pageInitService.pageInit(apis).then(function(result) {\r\n           agentViewMsg(result[0])\r\n       }, function(error) {\r\n        showAlert.showMsg(error,'','网络异常','确认')\r\n    })\r\n});\r\n    $scope.doRefresh = function() {\r\n            $http.get('ServiceName=ApproveService&TransName=getDoneApprvedDetail&LogNo='+valKey.LOG_NO)\r\n            .then(function(res) {\r\n             agentViewMsg(res)\r\n             $scope.$broadcast('scroll.refreshComplete');\r\n         }, function(error) {\r\n            showAlert.showMsg(error,'','网络异常','确认')\r\n       });\r\n    };\r\n    var displayFile = false;\r\n    $scope.accessoryCont = function() {\r\n            $scope.displayFile = !$scope.displayFile\r\n        };\r\n    function agentViewMsg(res){\r\n           var str = {};\r\n           str = res.data\r\n           str.CREATED_DATE = new Date(str.CREATED_DATE)\r\n           str.SUBMIT_DATE = new Date(str.SUBMIT_DATE)\r\n           str.COMPLETED_DATE = new Date(str.COMPLETED_DATE)\r\n           $scope.item = str\r\n           \r\n           if (str.ATTACHMENT == null || str.ATTACHMENT.length <= 0) {\r\n            $scope.disFile = false\r\n        } else {\r\n            $scope.disFile = true\r\n        }\r\n    }\r\n\r\n\r\n    $scope.openUrl = function(URL) {\r\n        if (isApp) {\r\n            MRUpdateVersion.updateVersion(function success() {}, function failed(message) {}, URL);\r\n        }\r\n    }\r\n      var showAlertGo = function(title, template, okText) {\r\n            var alertPopup = $ionicPopup.alert({\r\n                title: title,\r\n                okText: okText,\r\n                template: template\r\n            });\r\n            alertPopup.then(function(res) {\r\n                 $ionicHistory.goBack();\r\n            });\r\n        };\r\n   \r\n  }\r\n  ])","angular.module('BaiYin.flowDetail', [])\r\n\r\n.config(['$stateProvider', function($stateProvider) {\r\n    $stateProvider.state('flowDetail', {\r\n        url: '/flowDetail',\r\n        params: { 'item': null },\r\n        controller: 'flowDetailController',\r\n        templateUrl: 'Agents/AgentsList/agentsView/Flow/flowDetail.tpl.html',\r\n        cache: 'false',\r\n        authorizedRuleType: ['1']\r\n    })\r\n}])\r\n\r\n.controller('flowDetailController', ['$scope', '$state', 'showAlert', 'pageInitService', '$timeout', '$ionicHistory', '$stateParams', '$http', '$ionicPopup', 'Session',\r\n    function($scope, $state, showAlert, pageInitService, $timeout, $ionicHistory, $stateParams, $http, $ionicPopup, Session) {\r\n        var valKey = $stateParams.item;\r\n        $scope.$on('$ionicView.afterEnter', function() {\r\n            var apis = [\r\n                'ServiceName=ApproveService&TransName=getApprvedStream&LU_NAME=' + valKey.LU_NAME + '&KEY_REF=' + valKey.KEY_REF\r\n            ];\r\n            pageInitService.pageInit(apis).then(function(result) {\r\n                agentViewMsg(result[0])\r\n            }, function(error) {\r\n                showAlert.showMsg(error, '', '网络异常', '确认')\r\n            })\r\n        });\r\n        $scope.doRefresh = function() {\r\n            $http.get('ServiceName=ApproveService&TransName=getApprvedStream&LU_NAME=' + valKey.LU_NAME + '&KEY_REF=' + valKey.KEY_REF)\r\n                .then(function(res) {\r\n                    agentViewMsg(res)\r\n                    $scope.$broadcast('scroll.refreshComplete');\r\n                }, function(error) {\r\n                    showAlert.showMsg(error, '', '网络异常', '确认')\r\n                });\r\n        };\r\n\r\n        function agentViewMsg(res) {\r\n            console.log(res)\r\n            var str = [];\r\n            var arr = {};\r\n            for (var i = 0; i < res.data.length; i++) {\r\n                arr = res.data[i];\r\n                if (arr.APP_DATE == 'null') {\r\n                    arr.APP_DATE = '无'\r\n                } else {\r\n                    arr.APP_DATE = new Date(arr.APP_DATE)\r\n                }\r\n                str.push(arr)\r\n            }\r\n            $scope.items = str;\r\n            console.log(str)\r\n\r\n        }\r\n\r\n        $scope.openUrl = function(URL) {\r\n            document.addEventListener(\"deviceready\", function() {\r\n                if (Session.user.DeviceType == 'Android') {\r\n                    MRUpdateVersion.updateVersion(function success() {}, function failed(message) {}, URL);\r\n                } else {\r\n                    cordova.InAppBrowser.open(URL, '_system', 'zoom=yes');\r\n                }\r\n            }, false);\r\n        }\r\n\r\n    }\r\n])\r\n","angular.module('BaiYin.tabs.addressDetail', [\n        'BaiYin.tabs.addressDetail.mock',\n    ])\n    .config(['$stateProvider', function($stateProvider) {\n        $stateProvider.state('addressDetail', {\n            url: '/addressDetail',\n            controller: 'addressDetailController',\n            templateUrl: 'tabs/companyAddressBook/employeeAddress/addressDetail/addressDetail.tpl.html',\n            cache: 'true',\n            authorizedRuleType: ['1']\n        })\n    }])\n\n    .controller('addressDetailController', ['$scope', '$state', '$http', '$ionicPopup', 'Session', '$ionicLoading',\n        function($scope, $state, $http, $ionicPopup, Session, $ionicLoading) {\n            var addresDetail = JSON.parse(sessionStorage.getItem(\"_xiangQing_\"))\n            $scope.user = addresDetail;\n            console.log(addresDetail);\n            //跳转到聊天页\n            $scope.goMessageDetail = function() {\n                if (isApp) {\n                    $ionicLoading.show({\n                        template: '正在连接聊天服务器...'\n                    });\n                    window.JMessage.getMyInfo(function(response) {\n                        console.log(\"user is login\" + response);\n                        var myInfo = JSON.parse(response);\n                        window.JMessage.username = myInfo.userName;\n                        window.JMessage.nickname = myInfo.nickname;\n                        window.JMessage.gender = myInfo.mGender;\n                        $scope.goMessageDetails();\n                    }, function(response) {\n                        console.log(\"User is not login.\");\n                        window.JMessage.username = \"\";\n                        window.JMessage.nickname = \"\";\n                        window.JMessage.gender = \"unknown\";\n                        window.JMessage.login(Session.userInfoData.JMUserID, Session.userInfoData.JMPassWord,\n                            function(response) {\n                                window.JMessage.username = Session.userInfoData.JMUserID;\n                                console.log(\"login ok\");\n                                $scope.goMessageDetails();\n                            },\n                            function(errorMsg) {\n                                $ionicLoading.hide();\n                                showAlert('', '连接聊天服务器失败', '确认');\n                            });\n                    });\n\n                    $scope.goMessageDetails = function() {\n                        window.JMessage.getUserInfo($scope.user.PERSON_ID, null,\n                            function(response) {\n                                $ionicLoading.hide();\n                                $state.go('message/messageDetail', { 'targetId': $scope.user.PERSON_ID });\n                            },\n                            function(errorStr) {\n                                console.log(errorStr);\n                                $ionicLoading.hide();\n                                showAlert('', '聊天系统暂无此人', '确认');\n                            });\n                    }\n                }\n            }\n            var showAlert = function(title, template, okText) {\n                var alertPopup = $ionicPopup.alert({\n                    title: title,\n                    okText: okText,\n                    template: template\n                });\n                alertPopup.then(function(res) {});\n            };\n            //显示添加好友输入框\n            $scope.showAddFriends1 = function() {\n                if (isApp) {\n                    $ionicLoading.show({\n                        template: '正在连接聊天服务器...'\n                    });\n                    window.JMessage.getMyInfo(function(response) {\n                        console.log(\"user is login\" + response);\n                        var myInfo = JSON.parse(response);\n                        window.JMessage.username = myInfo.userName;\n                        window.JMessage.nickname = myInfo.nickname;\n                        window.JMessage.gender = myInfo.mGender;\n                        $scope.getMessageDetails();\n                    }, function(response) {\n                        console.log(\"User is not login.\");\n                        window.JMessage.username = \"\";\n                        window.JMessage.nickname = \"\";\n                        window.JMessage.gender = \"unknown\";\n                        window.JMessage.login(Session.userInfoData.JMUserID, Session.userInfoData.JMPassWord,\n                            function(response) {\n                                window.JMessage.username = Session.userInfoData.JMUserID;\n                                $scope.getMessageDetails();\n\n                            },\n                            function(errorMsg) {\n                                $ionicLoading.hide();\n                                showAlert('', '连接聊天服务器失败', '确认');\n                            });\n                    });\n\n                    $scope.getMessageDetails = function() {\n                        window.JMessage.getUserInfo($scope.user.PERSON_ID, null,\n                            function(response) {\n                                $ionicLoading.hide();\n                                $scope.popup = $ionicPopup.show({\n                                    templateUrl: \"tabs/companyAddressBook/employeeAddress/addressDetail/addFriendaddressDetail.tpl.html\",\n                                    scope: $scope,\n                                });\n                                $scope.friendsName1 = $scope.user.PERSON_ID;\n                            },\n                            function(errorStr) {\n                                console.log(errorStr);\n                                $ionicLoading.hide();\n                                showAlert('', '聊天系统暂无此人', '确认');\n                            });\n                    };\n                }\n\n            }\n            $scope.closePop1 = function() {\n                $scope.popup.close();\n            };\n            $scope.addFriends1 = function(userName, reason) {\n                $scope.closePop1();\n                window.JMessage.sendInvitationRequest(userName, null, reason,\n                    function(response) {\n                        showAlert('', '发送成功,等待确认', '确认', '1');\n                    },\n                    function(errorStr) {\n                        showAlert('', '暂无此用户', '确认', '0');\n                    });\n            }\n\n        }\n    ])","angular.module('BaiYin.tabs.addressDetail.mock', [\n    'ngMockE2E',\n    'BaiYin.common.mocksData'\n])\n\n.run(['$httpBackend', 'mocksData', function($httpBackend, mocksData) {\n    var data = [{}];\n    var result = mocksData.resetData(data);\n     $httpBackend.whenGET(/.*/).passThrough();\n}])","angular.module('BaiYin.EditBluetooth', [])\r\n\t.config(['$stateProvider', function($stateProvider) {\r\n\t\t$stateProvider.state('EditBluetooth', {\r\n\t\t\turl: '/editBluetooth',\r\n\t\t\tcontroller: 'EditBluetoothController',\r\n\t\t\ttemplateUrl: 'tabs/mine/ListOfBluetooth/editBluetooth/editBluetooth.tpl.html',\r\n\t\t\tcache: 'false',\r\n            authorizedRuleType: ['1', '0'],\r\n            params: {item: null}\r\n\t\t})\r\n\t}])\r\n\t.controller('EditBluetoothController', ['$scope', '$http', '$ionicHistory', '$ionicPopup', 'loadingAnimation', 'showAlert', '$stateParams',\r\n\t\tfunction($scope, $http, $ionicHistory, $ionicPopup, loadingAnimation, showAlert, $stateParams) {\r\n            $scope.device = new Object();\r\n            $scope.$on('$ionicView.enter', function () {\r\n\t\t\t\t$scope.device = $stateParams.item.device ? $stateParams.item.device : new Object();\r\n\t\t\t});\r\n\r\n\t\t\t//保存数据\r\n\t\t\t$scope.save = function(){\r\n\t\t\t\t$http.post(\"ServiceName=ClockService&TransName=entryBluetooth\", {\r\n\t\t\t\t\taddress: $scope.device.address,\r\n\t\t\t\t\tsn_code: $scope.device.id.replace(/:/g, \"\"),\r\n\t\t\t\t\tbluetooth_desc: $scope.device.bluetooth_desc\r\n\t\t\t\t}).then(function (res) {\r\n\t\t\t\t\tshowAlert.showMsg(\"\", '', '录入成功', '确认')\r\n\t\t\t\t}, function (error) {\r\n\t\t\t\t\tshowAlert.showMsg(error, '', '', '确认')\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t//取消\r\n\t\t\t$scope.back = function(){\r\n\t\t\t\thistory.go(-1);\r\n\t\t\t};\r\n        }\r\n\t]);"],"sourceRoot":"/source/"}